var Ae=(n,W)=>()=>(W||n((W={exports:{}}).exports,W),W.exports);var Ne=Ae((ue,te)=>{(function(n){(function(W){function st(){}function ht(r){function i(l){l.prototype.option||(l.prototype.option=function(D){r.isPlainObject(D)&&(this.options=r.extend(!0,this.options,D))})}function a(l,D){r.fn[l]=function(q){if(typeof q=="string"){for(var R=K.call(arguments,1),V=0,ot=this.length;ot>V;V++){var Z=this[V],h=r.data(Z,l);if(h)if(r.isFunction(h[q])&&q.charAt(0)!=="_"){var m=h[q].apply(h,R);if(m!==void 0&&m!==h)return m}else w("no such method '"+q+"' for "+l+" instance");else w("cannot call methods on "+l+" prior to initialization; attempted to call '"+q+"'")}return this}var T=this.map(function(){var z=r.data(this,l);return z?(z.option(q),z._init()):(z=new D(this,q),r.data(this,l,z)),r(this)});return!T||T.length>1?T:T[0]}}if(r){var w=typeof console>"u"?st:function(l){console.error(l)};return r.bridget=function(l,D){i(D),a(l,D)},r.bridget}}var K=Array.prototype.slice;ht(W)})(n),function(W){function st(i,a){function w(it,mt){var j="data-slider-"+mt,E=it.getAttribute(j);try{return JSON.parse(E)}catch{return E}}typeof i=="string"?this.element=document.querySelector(i):i instanceof HTMLElement&&(this.element=i);var l,D,q,R=this.element.style.width,V=!1,ot=this.element.parentNode;if(this.sliderElem)V=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var Z=document.createElement("div");Z.className="slider-track",l=document.createElement("div"),l.className="slider-selection",D=document.createElement("div"),D.className="slider-handle min-slider-handle",q=document.createElement("div"),q.className="slider-handle max-slider-handle",Z.appendChild(l),Z.appendChild(D),Z.appendChild(q);var h=function(it){var mt=document.createElement("div");mt.className="tooltip-arrow";var j=document.createElement("div");j.className="tooltip-inner",it.appendChild(mt),it.appendChild(j)},m=document.createElement("div");m.className="tooltip tooltip-main",h(m);var T=document.createElement("div");T.className="tooltip tooltip-min",h(T);var z=document.createElement("div");z.className="tooltip tooltip-max",h(z),this.sliderElem.appendChild(Z),this.sliderElem.appendChild(m),this.sliderElem.appendChild(T),this.sliderElem.appendChild(z),ot.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}W&&(this.$element=W(this.element),this.$sliderElem=W(this.sliderElem)),a=a||{};for(var p=Object.keys(this.defaultOptions),x=0;x<p.length;x++){var Y=p[x],B=a[Y];B=typeof B<"u"?B:w(this.element,Y),B=B!==null?B:this.defaultOptions[Y],this.options||(this.options={}),this.options[Y]=B}this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),V===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(it){this._removeProperty(this.trackSelection,it)},this),[this.handle1,this.handle2].forEach(function(it){this._removeProperty(it,"left"),this._removeProperty(it,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(it){this._removeProperty(it,"left"),this._removeProperty(it,"top"),this._removeProperty(it,"margin-left"),this._removeProperty(it,"margin-top"),this._removeClass(it,"right"),this._removeClass(it,"top")},this)),this.options.orientation==="vertical"?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this._addClass(this.tooltip,"right"),this.tooltip.style.left="100%",this._addClass(this.tooltip_min,"right"),this.tooltip_min.style.left="100%",this._addClass(this.tooltip_max,"right"),this.tooltip_max.style.left="100%"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=R,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this._addClass(this.tooltip,"top"),this.tooltip.style.top=-this.tooltip.outerHeight-14+"px",this._addClass(this.tooltip_min,"top"),this.tooltip_min.style.top=-this.tooltip_min.outerHeight-14+"px",this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=-this.tooltip_max.outerHeight-14+"px"),this.options.value instanceof Array?this.options.range=!0:this.options.range&&(this.options.value=[this.options.value,this.options.max]),this.trackSelection=l||this.trackSelection,this.options.selection==="none"&&this._addClass(this.trackSelection,"hide"),this.handle1=D||this.handle1,this.handle2=q||this.handle2,V===!0&&(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"));var J=["round","triangle","custom"],rt=J.indexOf(this.options.handle)!==-1;rt&&(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle)),this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos],this.setValue(this.options.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,0),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.touchCapable?(this.mousedown=this._mousedown.bind(this),this.sliderElem.addEventListener("touchstart",this.mousedown,!1)):(this.mousedown=this._mousedown.bind(this),this.sliderElem.addEventListener("mousedown",this.mousedown,!1)),this.options.tooltip==="hide"?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):this.options.tooltip==="always"?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var ht={formatInvalidInputErrorMsg:function(i){return"Invalid input value '"+i+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},K=function(i,a){return st.call(this,i,a),this};if(K.prototype={_init:function(){},constructor:K,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(i){return i instanceof Array?i[0]+" : "+i[1]:i},natural_arrow_keys:!1},over:!1,inDrag:!1,getValue:function(){return this.options.range?this.options.value:this.options.value[0]},setValue:function(i,a){i||(i=0),this.options.value=this._validateInputValue(i);var w=this._applyPrecision.bind(this);this.options.range?(this.options.value[0]=w(this.options.value[0]),this.options.value[1]=w(this.options.value[1]),this.options.value[0]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[0])),this.options.value[1]=Math.max(this.options.min,Math.min(this.options.max,this.options.value[1]))):(this.options.value=w(this.options.value),this.options.value=[Math.max(this.options.min,Math.min(this.options.max,this.options.value))],this._addClass(this.handle2,"hide"),this.options.value[1]=this.options.selection==="after"?this.options.max:this.options.min),this.diff=this.options.max-this.options.min,this.percentage=this.diff>0?[100*(this.options.value[0]-this.options.min)/this.diff,100*(this.options.value[1]-this.options.min)/this.diff,100*this.options.step/this.diff]:[0,0,100],this._layout();var l=this.options.range?this.options.value:this.options.value[0];return this._setDataVal(l),a===!0&&this._trigger("slide",l),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),W&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this.options.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this.options.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this.options.enabled?this.disable():this.enable(),this},isEnabled:function(){return this.options.enabled},on:function(i,a){return W?(this.$element.on(i,a),this.$sliderElem.on(i,a)):this._bindNonQueryEventHandler(i,a),this},getAttribute:function(i){return i?this.options[i]:this.options},setAttribute:function(i,a){return this.options[i]=a,this},refresh:function(){return this._removeSliderEventHandlers(),st.call(this,this.element,this.options),W&&W.data(this.element,"slider",this),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(i,a){this.eventToCallbackMap[i]===void 0&&(this.eventToCallbackMap[i]=[]),this.eventToCallbackMap[i].push(a)},_cleanUpEventCallbacksMap:function(){for(var i=Object.keys(this.eventToCallbackMap),a=0;a<i.length;a++){var w=i[a];this.eventToCallbackMap[w]=null}},_showTooltip:function(){this.options.tooltip_split===!1?this._addClass(this.tooltip,"in"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in")),this.over=!0},_hideTooltip:function(){this.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this.over=!1},_layout:function(){var i;if(i=this.options.reversed?[100-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1.style[this.stylePos]=i[0]+"%",this.handle2.style[this.stylePos]=i[1]+"%",this.options.orientation==="vertical")this.trackSelection.style.top=Math.min(i[0],i[1])+"%",this.trackSelection.style.height=Math.abs(i[0]-i[1])+"%";else{this.trackSelection.style.left=Math.min(i[0],i[1])+"%",this.trackSelection.style.width=Math.abs(i[0]-i[1])+"%";var a=this.tooltip_min.getBoundingClientRect(),w=this.tooltip_max.getBoundingClientRect();a.right>w.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="-30px")}var l;if(this.options.range){l=this.options.formatter(this.options.value),this._setText(this.tooltipInner,l),this.tooltip.style[this.stylePos]=(i[1]+i[0])/2+"%",this.options.orientation==="vertical"?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),this.options.orientation==="vertical"?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var D=this.options.formatter(this.options.value[0]);this._setText(this.tooltipInner_min,D);var q=this.options.formatter(this.options.value[1]);this._setText(this.tooltipInner_max,q),this.tooltip_min.style[this.stylePos]=i[0]+"%",this.options.orientation==="vertical"?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=i[1]+"%",this.options.orientation==="vertical"?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else l=this.options.formatter(this.options.value[0]),this._setText(this.tooltipInner,l),this.tooltip.style[this.stylePos]=i[0]+"%",this.options.orientation==="vertical"?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_removeProperty:function(i,a){i.style.removeProperty?i.style.removeProperty(a):i.style.removeAttribute(a)},_mousedown:function(i){if(!this.options.enabled)return!1;this._triggerFocusOnHandle(),this.offset=this._offset(this.sliderElem),this.size=this.sliderElem[this.sizePos];var a=this._getPercentage(i);if(this.options.range){var w=Math.abs(this.percentage[0]-a),l=Math.abs(this.percentage[1]-a);this.dragged=l>w?0:1}else this.dragged=0;this.percentage[this.dragged]=this.options.reversed?100-a:a,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this.inDrag=!0;var D=this._calculateValue();return this._trigger("slideStart",D),this._setDataVal(D),this.setValue(D),this._pauseEvent(i),!0},_triggerFocusOnHandle:function(i){i===0&&this.handle1.focus(),i===1&&this.handle2.focus()},_keydown:function(i,a){if(!this.options.enabled)return!1;var w;switch(a.keyCode){case 37:case 40:w=-1;break;case 39:case 38:w=1}if(w){if(this.options.natural_arrow_keys){var l=this.options.orientation==="vertical"&&!this.options.reversed,D=this.options.orientation==="horizontal"&&this.options.reversed;(l||D)&&(w=-1*w)}var q=w*this.percentage[2],R=this.percentage[i]+q;R>100?R=100:0>R&&(R=0),this.dragged=i,this._adjustPercentageForRangeSliders(R),this.percentage[this.dragged]=R,this._layout();var V=this._calculateValue();return this._trigger("slideStart",V),this._setDataVal(V),this.setValue(V,!0),this._trigger("slideStop",V),this._setDataVal(V),this._pauseEvent(a),!1}},_pauseEvent:function(i){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),i.cancelBubble=!0,i.returnValue=!1},_mousemove:function(i){if(!this.options.enabled)return!1;var a=this._getPercentage(i);this._adjustPercentageForRangeSliders(a),this.percentage[this.dragged]=this.options.reversed?100-a:a,this._layout();var w=this._calculateValue();return this.setValue(w,!0),!1},_adjustPercentageForRangeSliders:function(i){this.options.range&&(this.dragged===0&&this.percentage[1]<i?(this.percentage[0]=this.percentage[1],this.dragged=1):this.dragged===1&&this.percentage[0]>i&&(this.percentage[1]=this.percentage[0],this.dragged=0))},_mouseup:function(){if(!this.options.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this.inDrag=!1,this.over===!1&&this._hideTooltip();var i=this._calculateValue();return this._layout(),this._setDataVal(i),this._trigger("slideStop",i),!1},_calculateValue:function(){var i;return this.options.range?(i=[this.options.min,this.options.max],this.percentage[0]!==0&&(i[0]=Math.max(this.options.min,this.options.min+Math.round(this.diff*this.percentage[0]/100/this.options.step)*this.options.step),i[0]=this._applyPrecision(i[0])),this.percentage[1]!==100&&(i[1]=Math.min(this.options.max,this.options.min+Math.round(this.diff*this.percentage[1]/100/this.options.step)*this.options.step),i[1]=this._applyPrecision(i[1])),this.options.value=i):(i=this.options.min+Math.round(this.diff*this.percentage[0]/100/this.options.step)*this.options.step,i<this.options.min?i=this.options.min:i>this.options.max&&(i=this.options.max),i=parseFloat(i),i=this._applyPrecision(i),this.options.value=[i,this.options.value[1]]),i},_applyPrecision:function(i){var a=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(i,a)},_getNumDigitsAfterDecimalPlace:function(i){var a=(""+i).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return a?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0},_applyToFixedAndParseFloat:function(i,a){var w=i.toFixed(a);return parseFloat(w)},_getPercentage:function(i){!this.touchCapable||i.type!=="touchstart"&&i.type!=="touchmove"||(i=i.touches[0]);var a=100*(i[this.mousePos]-this.offset[this.stylePos])/this.size;return a=Math.round(a/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,a))},_validateInputValue:function(i){if(typeof i=="number")return i;if(i instanceof Array)return this._validateArray(i),i;throw new Error(ht.formatInvalidInputErrorMsg(i))},_validateArray:function(i){for(var a=0;a<i.length;a++){var w=i[a];if(typeof w!="number")throw new Error(ht.formatInvalidInputErrorMsg(w))}},_setDataVal:function(i){var a="value: '"+i+"'";this.element.setAttribute("data",a),this.element.setAttribute("value",i)},_trigger:function(i,a){a=a||a===0?a:void 0;var w=this.eventToCallbackMap[i];if(w&&w.length)for(var l=0;l<w.length;l++){var D=w[l];D(a)}W&&this._triggerJQueryEvent(i,a)},_triggerJQueryEvent:function(i,a){var w={type:i,value:a};this.$element.trigger(w),this.$sliderElem.trigger(w)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(i,a){typeof i.innerText<"u"?i.innerText=a:typeof i.textContent<"u"&&(i.textContent=a)},_removeClass:function(i,a){for(var w=a.split(" "),l=i.className,D=0;D<w.length;D++){var q=w[D],R=new RegExp("(?:\\s|^)"+q+"(?:\\s|$)");l=l.replace(R," ")}i.className=l.trim()},_addClass:function(i,a){for(var w=a.split(" "),l=i.className,D=0;D<w.length;D++){var q=w[D],R=new RegExp("(?:\\s|^)"+q+"(?:\\s|$)"),V=R.test(l);V||(l+=" "+q)}i.className=l.trim()},_offset:function(i){var a=0,w=0;if(i.offsetParent)do a+=i.offsetLeft,w+=i.offsetTop;while(i=i.offsetParent);return{left:a,top:w}},_css:function(i,a,w){if(W)W.style(i,a,w);else{var l=a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(D,q){return q.toUpperCase()});i.style[l]=w}}},W){var r=W.fn.slider?"bootstrapSlider":"slider";W.bridget(r,K)}else window.Slider=K}(n)})(window.jQuery),function(n){function W(i){var a=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return n.each(a,function(){i=i.replace(this.re,this.ch)}),i}function st(i){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w="(?:"+Object.keys(a).join("|")+")",l=new RegExp(w),D=new RegExp(w,"g"),q=i==null?"":""+i;return l.test(q)?q.replace(D,function(R){return a[R]}):q}function ht(i,a){var w=arguments,l=i,D=a;[].shift.apply(w);var q,R=this.each(function(){var V=n(this);if(V.is("select")){var ot=V.data("selectpicker"),Z=typeof l=="object"&&l;if(ot){if(Z)for(var h in Z)Z.hasOwnProperty(h)&&(ot.options[h]=Z[h])}else{var m=n.extend({},K.DEFAULTS,n.fn.selectpicker.defaults||{},V.data(),Z);V.data("selectpicker",ot=new K(this,m,D))}typeof l=="string"&&(q=ot[l]instanceof Function?ot[l].apply(ot,w):ot.options[l])}});return typeof q<"u"?q:R}String.prototype.includes||function(){var i={}.toString,a=function(){try{var D={},q=Object.defineProperty,R=q(D,D,D)&&q}catch{}return R}(),w="".indexOf,l=function(D){if(this==null)throw TypeError();var q=String(this);if(D&&i.call(D)=="[object RegExp]")throw TypeError();var R=q.length,V=String(D),ot=V.length,Z=arguments.length>1?arguments[1]:void 0,h=Z?Number(Z):0;h!=h&&(h=0);var m=Math.min(Math.max(h,0),R);return ot+m>R?!1:w.call(q,V,h)!=-1};a?a(String.prototype,"includes",{value:l,configurable:!0,writable:!0}):String.prototype.includes=l}(),String.prototype.startsWith||function(){var i=function(){try{var l={},D=Object.defineProperty,q=D(l,l,l)&&D}catch{}return q}(),a={}.toString,w=function(l){if(this==null)throw TypeError();var D=String(this);if(l&&a.call(l)=="[object RegExp]")throw TypeError();var q=D.length,R=String(l),V=R.length,ot=arguments.length>1?arguments[1]:void 0,Z=ot?Number(ot):0;Z!=Z&&(Z=0);var h=Math.min(Math.max(Z,0),q);if(V+h>q)return!1;for(var m=-1;++m<V;)if(D.charCodeAt(h+m)!=R.charCodeAt(m))return!1;return!0};i?i(String.prototype,"startsWith",{value:w,configurable:!0,writable:!0}):String.prototype.startsWith=w}(),n.expr[":"].icontains=function(i,a,w){var l=n(i),D=(l.data("tokens")||l.text()).toUpperCase();return D.includes(w[3].toUpperCase())},n.expr[":"].ibegins=function(i,a,w){var l=n(i),D=(l.data("tokens")||l.text()).toUpperCase();return D.startsWith(w[3].toUpperCase())},n.expr[":"].aicontains=function(i,a,w){var l=n(i),D=(l.data("tokens")||l.data("normalizedText")||l.text()).toUpperCase();return D.includes(D,w[3])},n.expr[":"].aibegins=function(i,a,w){var l=n(i),D=(l.data("tokens")||l.data("normalizedText")||l.text()).toUpperCase();return D.startsWith(w[3].toUpperCase())};var K=function(i,a,w){w&&(w.stopPropagation(),w.preventDefault()),this.$element=n(i),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=a,this.options.title===null&&(this.options.title=this.$element.attr("title")),this.val=K.prototype.val,this.render=K.prototype.render,this.refresh=K.prototype.refresh,this.setStyle=K.prototype.setStyle,this.selectAll=K.prototype.selectAll,this.deselectAll=K.prototype.deselectAll,this.destroy=K.prototype.remove,this.remove=K.prototype.remove,this.show=K.prototype.show,this.hide=K.prototype.hide,this.init()};K.VERSION="1.6.4",K.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(i){return i==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(i,a){return[i==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",a==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},K.prototype={constructor:K,init:function(){var i=this,a=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.children(".dropdown-menu"),this.$button=this.$newElement.children("button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),typeof a<"u"&&(this.$button.attr("data-id",a),n('label[for="'+a+'"]').click(function(w){w.preventDefault(),i.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var i=this.multiple?" show-tick":"",a=this.$element.parent().hasClass("input-group")?" input-group-btn":"",w=this.autofocus?" autofocus":"",l=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",D=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(this.options.liveSearchPlaceholder===null?"":' placeholder="'+st(this.options.liveSearchPlaceholder)+'"')+"></div>":"",q=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",R=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",V='<div class="btn-group bootstrap-select'+i+a+'"><button type="button" class="btn dropdown-toggle form-control selectpicker" data-toggle="dropdown"'+w+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+l+D+q+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul>'+R+"</div></div>";return n(V)},createView:function(){var i=this.createDropdown(),a=this.createLi();return i.find("ul").append(a),i},reloadLi:function(){this.destroyLi();var i=this.createLi();this.$menu.find("ul").append(i)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var i=this,a=[],w=0,l=function(q,R,V,ot){return"<li"+(typeof V<"u"&V!==""?' class="'+V+'"':"")+(typeof R<"u"&R!==null?' data-original-index="'+R+'"':"")+(typeof ot<"u"&ot!==null?'data-optgroup="'+ot+'"':"")+">"+q+"</li>"},D=function(q,R,V,ot){return'<a tabindex="0"'+(typeof R<"u"?' class="'+R+'"':"")+(typeof V<"u"?' style="'+V+'"':"")+' data-normalized-text="'+W(st(q))+'"'+(typeof ot<"u"||ot!==null?' data-tokens="'+ot+'"':"")+">"+q+'<span class="'+i.options.iconBase+" "+i.options.tickIcon+' check-mark"></span></a>'};return this.$element.find("option").each(function(q){var R=n(this),V=R.attr("class")||"",ot=R.attr("style"),Z=R.data("content")?R.data("content"):R.html(),h=R.data("tokens")?R.data("tokens"):null,m=typeof R.data("subtext")<"u"?'<small class="text-muted">'+R.data("subtext")+"</small>":"",T=typeof R.data("icon")<"u"?'<span class="'+i.options.iconBase+" "+R.data("icon")+'"></span> ':"",z=R.is(":disabled")||R.parent().is(":disabled");if(T!==""&&z&&(T="<span>"+T+"</span>"),R.data("content")||(Z=T+'<span class="text">'+Z+m+"</span>"),!i.options.hideDisabled||!z)if(R.parent().is("optgroup")&&R.data("divider")!==!0){if(R.index()===0){w+=1;var p=R.parent().attr("label"),x=typeof R.parent().data("subtext")<"u"?'<small class="text-muted">'+R.parent().data("subtext")+"</small>":"",Y=R.parent().data("icon")?'<span class="'+i.options.iconBase+" "+R.parent().data("icon")+'"></span> ':"";p=Y+'<span class="text">'+p+x+"</span>",q!==0&&a.length>0&&a.push(l("",null,"divider",w+"div")),a.push(l(p,null,"dropdown-header",w))}a.push(l(D(Z,"opt "+V,ot,h),q,"",w))}else R.data("divider")===!0?a.push(l("",q,"divider")):R.data("hidden")===!0?a.push(l(D(Z,V,ot,h),q,"hidden is-hidden")):(R.prev().is("optgroup")&&a.push(l("",null,"divider",w+"div")),a.push(l(D(Z,V,ot,h),q)))}),this.multiple||this.$element.find("option:selected").length!==0||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),n(a.join(""))},findLis:function(){return this.$lis==null&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(i){var a=this;i!==!1&&this.$element.find("option").each(function(ot){a.setDisabled(ot,n(this).is(":disabled")||n(this).parent().is(":disabled")),a.setSelected(ot,n(this).is(":selected"))}),this.tabIndex();var w=this.options.hideDisabled?":not([disabled])":"",l=this.$element.find("option:selected"+w).map(function(){var ot,Z=n(this),h=Z.data("icon")&&a.options.showIcon?'<i class="'+a.options.iconBase+" "+Z.data("icon")+'"></i> ':"";return ot=a.options.showSubtext&&Z.attr("data-subtext")&&!a.multiple?' <small class="text-muted">'+Z.data("subtext")+"</small>":"",typeof Z.attr("title")<"u"?Z.attr("title"):Z.data("content")&&a.options.showContent?Z.data("content"):h+Z.html()+ot}).toArray(),D=this.multiple?l.join(this.options.multipleSeparator):l[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var q=this.options.selectedTextFormat.split(">");if(q.length>1&&l.length>q[1]||q.length==1&&l.length>=2){w=this.options.hideDisabled?", [disabled]":"";var R=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+w).length,V=typeof this.options.countSelectedText=="function"?this.options.countSelectedText(l.length,R):this.options.countSelectedText;D=V.replace("{0}",l.length.toString()).replace("{1}",R.toString())}}this.options.title==null&&(this.options.title=this.$element.attr("title")),this.options.selectedTextFormat=="static"&&(D=this.options.title),D||(D=typeof this.options.title<"u"?this.options.title:this.options.noneSelectedText),this.$button.attr("title",n.trim(D.replace(/<[^>]*>?/g,""))),this.$newElement.find(".filter-option").html(D)},setStyle:function(i,a){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var w=i||this.options.style;a=="add"?this.$button.addClass(w):a=="remove"?this.$button.removeClass(w):(this.$button.removeClass(this.options.style),this.$button.addClass(w))},liHeight:function(){if(this.options.size!==!1){var i=this.$menu.parent().clone().children(".dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),a=i.addClass("open").children(".dropdown-menu"),w=a.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),l=this.options.header?a.find(".popover-title").outerHeight():0,D=this.options.liveSearch?a.find(".bs-searchbox").outerHeight():0,q=this.options.actionsBox?a.find(".bs-actionsbox").outerHeight():0,R=this.multiple?a.find(".bs-donebutton").outerHeight():0;i.remove(),this.$newElement.data("liHeight",w).data("headerHeight",l).data("searchHeight",D).data("actionsHeight",q).data("doneButtonHeight",R)}},setSize:function(){this.findLis();var i,a,w,l=this,D=this.$menu,q=D.find(".inner"),R=this.$newElement.outerHeight(),V=this.$newElement.data("liHeight"),ot=this.$newElement.data("headerHeight"),Z=this.$newElement.data("searchHeight"),h=this.$newElement.data("actionsHeight"),m=this.$newElement.data("doneButtonHeight"),T=this.$lis.filter(".divider").outerHeight(!0),z=parseInt(D.css("padding-top"))+parseInt(D.css("padding-bottom"))+parseInt(D.css("border-top-width"))+parseInt(D.css("border-bottom-width")),p=this.options.hideDisabled?", .disabled":"",x=n(window),Y=z+parseInt(D.css("margin-top"))+parseInt(D.css("margin-bottom"))+2,B=function(){a=l.$newElement.offset().top-x.scrollTop(),w=x.height()-a-R};if(B(),this.options.header&&D.css("padding-top",0),this.options.size=="auto"){var J=function(){var mt,j=l.$lis.not(".hidden");B(),i=w-Y,l.options.dropupAuto&&l.$newElement.toggleClass("dropup",a>w&&i-Y<D.height()),l.$newElement.hasClass("dropup")&&(i=a-Y),mt=j.length+j.filter(".dropdown-header").length>3?3*V+Y-2:0,D.css({"max-height":i+"px",overflow:"hidden","min-height":mt+ot+Z+h+m+"px"}),q.css({"max-height":i-ot-Z-h-m-z+"px","overflow-y":"auto","min-height":Math.max(mt-z,0)+"px"})};J(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",J),x.off("resize.getSize").on("resize.getSize",J),x.off("scroll.getSize").on("scroll.getSize",J)}else if(this.options.size&&this.options.size!="auto"&&D.find("li"+p).length>this.options.size){var rt=this.$lis.not(".divider"+p).children().slice(0,this.options.size).last().parent().index(),it=this.$lis.slice(0,rt+1).filter(".divider").length;i=V*this.options.size+it*T+z,l.options.dropupAuto&&this.$newElement.toggleClass("dropup",a>w&&i<D.height()),D.css({"max-height":i+ot+Z+h+m+"px",overflow:"hidden"}),q.css({"max-height":i-z+"px","overflow-y":"auto"})}},setWidth:function(){if(this.options.width=="auto"){this.$menu.css("min-width","0");var i=this.$newElement.clone().appendTo("body"),a=i.children(".dropdown-menu").css("width"),w=i.css("width","auto").children("button").css("width");i.remove(),this.$newElement.css("width",Math.max(parseInt(a),parseInt(w))+"px")}else this.options.width=="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var i,a,w=this,l="<div />",D=n(l),q=function(R){D.addClass(R.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",R.hasClass("dropup")),i=R.offset(),a=R.hasClass("dropup")?0:R[0].offsetHeight,D.css({top:i.top+a,left:i.left,width:R[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){w.isDisabled()||(q(n(this)),D.appendTo(w.options.container),D.toggleClass("open",!n(this).hasClass("open")),D.append(w.$menu))}),n(window).resize(function(){q(w.$newElement)}),n(window).on("scroll",function(){q(w.$newElement)}),n("html").on("click",function(R){n(R.target).closest(w.$newElement).length<1&&D.removeClass("open")})},setSelected:function(i,a){this.findLis(),this.$lis.filter('[data-original-index="'+i+'"]').toggleClass("selected",a)},setDisabled:function(i,a){this.findLis(),a?this.$lis.filter('[data-original-index="'+i+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+i+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var i=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),this.$button.attr("tabindex")==-1&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!i.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var i=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()}),this.$newElement.on("click",function(){i.setSize(),i.options.liveSearch||i.multiple||setTimeout(function(){i.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(a){var w=n(this),l=w.parent().data("originalIndex"),D=i.$element.val(),q=i.$element.prop("selectedIndex");if(i.multiple&&a.stopPropagation(),a.preventDefault(),!i.isDisabled()&&!w.parent().hasClass("disabled")){var R=i.$element.find("option"),V=R.eq(l),ot=V.prop("selected"),Z=V.parent("optgroup"),h=i.options.maxOptions,m=Z.data("maxOptions")||!1;if(i.multiple){if(V.prop("selected",!ot),i.setSelected(l,!ot),w.blur(),h!==!1||m!==!1){var T=h<R.filter(":selected").length,z=m<Z.find("option:selected").length;if(h&&T||m&&z)if(h&&h==1)R.prop("selected",!1),V.prop("selected",!0),i.$menu.find(".selected").removeClass("selected"),i.setSelected(l,!0);else if(m&&m==1){Z.find("option:selected").prop("selected",!1),V.prop("selected",!0);var p=w.data("optgroup");i.$menu.find(".selected").has('a[data-optgroup="'+p+'"]').removeClass("selected"),i.setSelected(l,!0)}else{var x=typeof i.options.maxOptionsText=="function"?i.options.maxOptionsText(h,m):i.options.maxOptionsText,Y=x[0].replace("{n}",h),B=x[1].replace("{n}",m),J=n('<div class="notify"></div>');x[2]&&(Y=Y.replace("{var}",x[2][h>1?0:1]),B=B.replace("{var}",x[2][m>1?0:1])),V.prop("selected",!1),i.$menu.append(J),h&&T&&(J.append(n("<div>"+Y+"</div>")),i.$element.trigger("maxReached.bs.select")),m&&z&&(J.append(n("<div>"+B+"</div>")),i.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){i.setSelected(l,!1)},10),J.delay(750).fadeOut(300,function(){n(this).remove()})}}}else R.prop("selected",!1),V.prop("selected",!0),i.$menu.find(".selected").removeClass("selected"),i.setSelected(l,!0);i.multiple?i.options.liveSearch&&i.$searchbox.focus():i.$button.focus(),(D!=i.$element.val()&&i.multiple||q!=i.$element.prop("selectedIndex")&&!i.multiple)&&i.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(a){a.currentTarget==this&&(a.preventDefault(),a.stopPropagation(),i.options.liveSearch?i.$searchbox.focus():i.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(a){a.preventDefault(),a.stopPropagation(),i.options.liveSearch?i.$searchbox.focus():i.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){i.$button.focus()}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(a){i.options.liveSearch?i.$searchbox.focus():i.$button.focus(),a.preventDefault(),a.stopPropagation(),n(this).is(".bs-select-all")?i.selectAll():i.deselectAll(),i.$element.change()}),this.$element.change(function(){i.render(!1)})},liveSearchListener:function(){var i=this,a=n('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){i.$menu.find(".active").removeClass("active"),i.$searchbox.val()&&(i.$searchbox.val(""),i.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove()),i.multiple||i.$menu.find(".selected").addClass("active"),setTimeout(function(){i.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(w){w.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(i.$searchbox.val()){var w=i.$lis.not(".is-hidden").removeClass("hidden").find("a");w=w.not(i.options.liveSearchNormalize?":a"+i._searchStyle()+"("+W(i.$searchbox.val())+")":":"+i._searchStyle()+"("+i.$searchbox.val()+")"),w.parent().addClass("hidden"),i.$lis.filter(".dropdown-header").each(function(){var D=n(this),q=D.data("optgroup");i.$lis.filter("[data-optgroup="+q+"]").not(D).not(".hidden").length===0&&(D.addClass("hidden"),i.$lis.filter("[data-optgroup="+q+"div]").addClass("hidden"))});var l=i.$lis.not(".hidden");l.each(function(D){var q=n(this);q.is(".divider")&&(q.index()===l.eq(0).index()||q.index()===l.last().index()||l.eq(D+1).is(".divider"))&&q.addClass("hidden")}),i.$lis.filter(":not(.hidden):not(.no-results)").length?a.parent().length&&a.remove():(a.parent().length&&a.remove(),a.html(i.options.noneResultsText.replace("{0}",'"'+st(i.$searchbox.val())+'"')).show(),i.$menu.find("li").last().after(a))}else i.$lis.not(".is-hidden").removeClass("hidden"),a.parent().length&&a.remove();i.$lis.filter(".active").removeClass("active"),i.$lis.filter(":not(.hidden):not(.divider):not(.dropdown-header)").eq(0).addClass("active").find("a").focus(),n(this).focus()})},_searchStyle:function(){var i="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":i="ibegins";break}return i},val:function(i){return typeof i<"u"?(this.$element.val(i),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider]").not("[data-hidden]").prop("selected",!0),this.$lis.not(".divider").not(".dropdown-header").not(".disabled").not(".hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider]").not("[data-hidden]").prop("selected",!1),this.$lis.not(".divider").not(".dropdown-header").not(".disabled").not(".hidden").removeClass("selected"),this.render(!1)},keydown:function(i){var a,w,l,D,q,R,V,ot,Z,h=n(this),m=h.is("input")?h.parent().parent():h.parent(),T=m.data("this"),z={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(T.options.liveSearch&&(m=h.parent().parent()),T.options.container&&(m=T.$menu),a=n("[role=menu] li a",m),Z=T.$menu.parent().hasClass("open"),!Z&&/([0-9]|[A-z])/.test(String.fromCharCode(i.keyCode))&&(T.options.container?T.$newElement.trigger("click"):(T.setSize(),T.$menu.parent().addClass("open"),Z=!0),T.$searchbox.focus()),T.options.liveSearch&&(/(^9$|27)/.test(i.keyCode.toString(10))&&Z&&T.$menu.find(".active").length===0&&(i.preventDefault(),T.$menu.parent().removeClass("open"),T.$button.focus()),a=n("[role=menu] li:not(.divider):not(.dropdown-header):visible a",m),h.val()||/(38|40)/.test(i.keyCode.toString(10))||a.filter(".active").length===0&&(a=T.$newElement.find("li a"),a=a.filter(T.options.liveSearchNormalize?":a"+T._searchStyle()+"("+W(z[i.keyCode])+")":":"+T._searchStyle()+"("+z[i.keyCode]+")"))),a.length){if(/(38|40)/.test(i.keyCode.toString(10)))w=a.index(a.filter(":focus")),D=a.parent(":not(.disabled):visible").first().index(),q=a.parent(":not(.disabled):visible").last().index(),l=a.eq(w).parent().nextAll(":not(.disabled):visible").eq(0).index(),R=a.eq(w).parent().prevAll(":not(.disabled):visible").eq(0).index(),V=a.eq(l).parent().prevAll(":not(.disabled):visible").eq(0).index(),T.options.liveSearch&&(a.each(function(J){n(this).is(":not(.disabled)")&&n(this).data("index",J)}),w=a.index(a.filter(".active")),D=a.filter(":not(.disabled):visible").first().data("index"),q=a.filter(":not(.disabled):visible").last().data("index"),l=a.eq(w).nextAll(":not(.disabled):visible").eq(0).data("index"),R=a.eq(w).prevAll(":not(.disabled):visible").eq(0).data("index"),V=a.eq(l).prevAll(":not(.disabled):visible").eq(0).data("index")),ot=h.data("prevIndex"),i.keyCode==38&&(T.options.liveSearch&&(w-=1),w!=V&&w>R&&(w=R),D>w&&(w=D),w==ot&&(w=q)),i.keyCode==40&&(T.options.liveSearch&&(w+=1),w==-1&&(w=0),w!=V&&l>w&&(w=l),w>q&&(w=q),w==ot&&(w=D)),h.data("prevIndex",w),T.options.liveSearch?(i.preventDefault(),h.is(".dropdown-toggle")||(a.removeClass("active"),a.eq(w).addClass("active").find("a").focus(),h.focus())):a.eq(w).focus();else if(!h.is("input")){var p,x,Y=[];a.each(function(){n(this).parent().is(":not(.disabled)")&&n.trim(n(this).text().toLowerCase()).substring(0,1)==z[i.keyCode]&&Y.push(n(this).parent().index())}),p=n(document).data("keycount"),p++,n(document).data("keycount",p),x=n.trim(n(":focus").text().toLowerCase()).substring(0,1),x!=z[i.keyCode]?(p=1,n(document).data("keycount",p)):p>=Y.length&&(n(document).data("keycount",0),p>Y.length&&(p=1)),a.eq(Y[p-1]).focus()}if((/(13|32)/.test(i.keyCode.toString(10))||/(^9$)/.test(i.keyCode.toString(10))&&T.options.selectOnTab)&&Z){if(/(32)/.test(i.keyCode.toString(10))||i.preventDefault(),T.options.liveSearch)/(32)/.test(i.keyCode.toString(10))||(T.$menu.find(".active a").click(),h.focus());else{var B=n(":focus");B.click(),B.focus(),i.preventDefault()}n(document).data("keycount",0)}(/(^9$|27)/.test(i.keyCode.toString(10))&&Z&&(T.multiple||T.options.liveSearch)||/(27)/.test(i.keyCode.toString(10))&&!Z)&&(T.$menu.parent().removeClass("open"),T.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var r=n.fn.selectpicker;n.fn.selectpicker=ht,n.fn.selectpicker.Constructor=K,n.fn.selectpicker.noConflict=function(){return n.fn.selectpicker=r,this},n(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",K.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(i){i.stopPropagation()}),n(window).on("load.bs.select.data-api",function(){n(".selectpicker").each(function(){var i=n(this);ht.call(i,i.data())})})}(jQuery),(function(){var n=[].slice;(function(W,st){var ht;return ht=function(){function K(r,i){i==null&&(i={}),this.$element=W(r),this.options=W.extend({},W.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},i),this.$wrapper=W("<div>",{class:function(a){return function(){var w;return w=[""+a.options.baseClass].concat(a._getClasses(a.options.wrapperClass)),w.push(a.options.state?""+a.options.baseClass+"-on":""+a.options.baseClass+"-off"),a.options.size!=null&&w.push(""+a.options.baseClass+"-"+a.options.size),a.options.disabled&&w.push(""+a.options.baseClass+"-disabled"),a.options.readonly&&w.push(""+a.options.baseClass+"-readonly"),a.options.indeterminate&&w.push(""+a.options.baseClass+"-indeterminate"),a.options.inverse&&w.push(""+a.options.baseClass+"-inverse"),a.$element.attr("id")&&w.push(""+a.options.baseClass+"-id-"+a.$element.attr("id")),w.join(" ")}}(this)()}),this.$container=W("<div>",{class:""+this.options.baseClass+"-container"}),this.$on=W("<span>",{html:this.options.onText,class:""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=W("<span>",{html:this.options.offText,class:""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=W("<span>",{html:this.options.labelText,class:""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(a){return function(){return a.options.onInit.apply(r,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(a){return function(){return a.options.onSwitchChange.apply(r,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return K.prototype._constructor=K,K.prototype.state=function(r,i){return typeof r>"u"?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),r=!!r,this.$element.prop("checked",r).trigger("change.bootstrapSwitch",i),this.$element)},K.prototype.toggleState=function(r){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",r)},K.prototype.size=function(r){return typeof r>"u"?this.options.size:(this.options.size!=null&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),r&&this.$wrapper.addClass(""+this.options.baseClass+"-"+r),this._width(),this._containerPosition(),this.options.size=r,this.$element)},K.prototype.animate=function(r){return typeof r>"u"?this.options.animate:(r=!!r,r===this.options.animate?this.$element:this.toggleAnimate())},K.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},K.prototype.disabled=function(r){return typeof r>"u"?this.options.disabled:(r=!!r,r===this.options.disabled?this.$element:this.toggleDisabled())},K.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},K.prototype.readonly=function(r){return typeof r>"u"?this.options.readonly:(r=!!r,r===this.options.readonly?this.$element:this.toggleReadonly())},K.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},K.prototype.indeterminate=function(r){return typeof r>"u"?this.options.indeterminate:(r=!!r,r===this.options.indeterminate?this.$element:this.toggleIndeterminate())},K.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},K.prototype.inverse=function(r){return typeof r>"u"?this.options.inverse:(r=!!r,r===this.options.inverse?this.$element:this.toggleInverse())},K.prototype.toggleInverse=function(){var r,i;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),i=this.$on.clone(!0),r=this.$off.clone(!0),this.$on.replaceWith(r),this.$off.replaceWith(i),this.$on=r,this.$off=i,this.options.inverse=!this.options.inverse,this.$element},K.prototype.onColor=function(r){var i;return i=this.options.onColor,typeof r>"u"?i:(i!=null&&this.$on.removeClass(""+this.options.baseClass+"-"+i),this.$on.addClass(""+this.options.baseClass+"-"+r),this.options.onColor=r,this.$element)},K.prototype.offColor=function(r){var i;return i=this.options.offColor,typeof r>"u"?i:(i!=null&&this.$off.removeClass(""+this.options.baseClass+"-"+i),this.$off.addClass(""+this.options.baseClass+"-"+r),this.options.offColor=r,this.$element)},K.prototype.onText=function(r){return typeof r>"u"?this.options.onText:(this.$on.html(r),this._width(),this._containerPosition(),this.options.onText=r,this.$element)},K.prototype.offText=function(r){return typeof r>"u"?this.options.offText:(this.$off.html(r),this._width(),this._containerPosition(),this.options.offText=r,this.$element)},K.prototype.labelText=function(r){return typeof r>"u"?this.options.labelText:(this.$label.html(r),this._width(),this.options.labelText=r,this.$element)},K.prototype.handleWidth=function(r){return typeof r>"u"?this.options.handleWidth:(this.options.handleWidth=r,this._width(),this._containerPosition(),this.$element)},K.prototype.labelWidth=function(r){return typeof r>"u"?this.options.labelWidth:(this.options.labelWidth=r,this._width(),this._containerPosition(),this.$element)},K.prototype.baseClass=function(){return this.options.baseClass},K.prototype.wrapperClass=function(r){return typeof r>"u"?this.options.wrapperClass:(r||(r=W.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(r).join(" ")),this.options.wrapperClass=r,this.$element)},K.prototype.radioAllOff=function(r){return typeof r>"u"?this.options.radioAllOff:(r=!!r,r===this.options.radioAllOff?this.$element:(this.options.radioAllOff=r,this.$element))},K.prototype.onInit=function(r){return typeof r>"u"?this.options.onInit:(r||(r=W.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=r,this.$element)},K.prototype.onSwitchChange=function(r){return typeof r>"u"?this.options.onSwitchChange:(r||(r=W.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=r,this.$element)},K.prototype.destroy=function(){var r;return r=this.$element.closest("form"),r.length&&r.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},K.prototype._width=function(){var r,i;return r=this.$on.add(this.$off),r.add(this.$label).css("width",""),i=this.options.handleWidth==="auto"?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,r.width(i),this.$label.width(function(a){return function(w,l){return a.options.labelWidth!=="auto"?a.options.labelWidth:i>l?i:l}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},K.prototype._containerPosition=function(r,i){return r==null&&(r=this.options.state),this.$container.css("margin-left",function(a){return function(){var w;return w=[0,"-"+a._handleWidth+"px"],a.options.indeterminate?"-"+a._handleWidth/2+"px":r?a.options.inverse?w[1]:w[0]:a.options.inverse?w[0]:w[1]}}(this)),i?setTimeout(function(){return i()},50):void 0},K.prototype._init=function(){var r,i;return r=function(a){return function(){return a._width(),a._containerPosition(null,function(){return a.options.animate?a.$wrapper.addClass(""+a.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?r():i=st.setInterval(function(a){return function(){return a.$wrapper.is(":visible")?(r(),st.clearInterval(i)):void 0}}(this),50)},K.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(r){return function(i,a){var w;return i.preventDefault(),i.stopImmediatePropagation(),w=r.$element.is(":checked"),r._containerPosition(w),w!==r.options.state?(r.options.state=w,r.$wrapper.toggleClass(""+r.options.baseClass+"-off").toggleClass(""+r.options.baseClass+"-on"),a?void 0:(r.$element.is(":radio")&&W("[name='"+r.$element.attr("name")+"']").not(r.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),r.$element.trigger("switchChange.bootstrapSwitch",[w]))):void 0}}(this),"focus.bootstrapSwitch":function(r){return function(i){return i.preventDefault(),r.$wrapper.addClass(""+r.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(r){return function(i){return i.preventDefault(),r.$wrapper.removeClass(""+r.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(r){return function(i){if(i.which&&!r.options.disabled&&!r.options.readonly)switch(i.which){case 37:return i.preventDefault(),i.stopImmediatePropagation(),r.state(!1);case 39:return i.preventDefault(),i.stopImmediatePropagation(),r.state(!0)}}}(this)})},K.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(r){return function(i){return i.preventDefault(),i.stopPropagation(),r.state(!1),r.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(r){return function(i){return i.preventDefault(),i.stopPropagation(),r.state(!0),r.$element.trigger("focus.bootstrapSwitch")}}(this))},K.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(r){return function(i){return r._dragStart||r.options.disabled||r.options.readonly?void 0:(i.preventDefault(),i.stopPropagation(),r._dragStart=(i.pageX||i.originalEvent.touches[0].pageX)-parseInt(r.$container.css("margin-left"),10),r.options.animate&&r.$wrapper.removeClass(""+r.options.baseClass+"-animate"),r.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(r){return function(i){var a;if(r._dragStart!=null&&(i.preventDefault(),a=(i.pageX||i.originalEvent.touches[0].pageX)-r._dragStart,!(a<-r._handleWidth||a>0)))return r._dragEnd=a,r.$container.css("margin-left",""+r._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(r){return function(i){var a;if(r._dragStart)return i.preventDefault(),r.options.animate&&r.$wrapper.addClass(""+r.options.baseClass+"-animate"),r._dragEnd?(a=r._dragEnd>-(r._handleWidth/2),r._dragEnd=!1,r.state(r.options.inverse?!a:a)):r.state(!r.options.state),r._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(r){return function(){return r.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},K.prototype._externalLabelHandler=function(){var r;return r=this.$element.closest("label"),r.on("click",function(i){return function(a){return a.preventDefault(),a.stopImmediatePropagation(),a.target===r[0]?i.toggleState():void 0}}(this))},K.prototype._formHandler=function(){var r;return r=this.$element.closest("form"),r.data("bootstrap-switch")?void 0:r.on("reset.bootstrapSwitch",function(){return st.setTimeout(function(){return r.find("input").filter(function(){return W(this).data("bootstrap-switch")}).each(function(){return W(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},K.prototype._getClasses=function(r){var i,a,w,l;if(!W.isArray(r))return[""+this.options.baseClass+"-"+r];for(a=[],w=0,l=r.length;l>w;w++)i=r[w],a.push(""+this.options.baseClass+"-"+i);return a},K}(),W.fn.bootstrapSwitch=function(){var K,r,i;return r=arguments[0],K=2<=arguments.length?n.call(arguments,1):[],i=this,this.each(function(){var a,w;return a=W(this),w=a.data("bootstrap-switch"),w||a.data("bootstrap-switch",w=new ht(this,r)),typeof r=="string"?i=w[r].apply(w,K):void 0}),i},W.fn.bootstrapSwitch.Constructor=ht,W.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}})(window.jQuery,window)}).call(globalThis),function(n,W){function st(){return new Date(Date.UTC.apply(Date,arguments))}function ht(){var h=new Date;return st(h.getFullYear(),h.getMonth(),h.getDate())}function K(h){return function(){return this[h].apply(this,arguments)}}function r(h,m){function T(J,rt){return rt.toLowerCase()}var z,p=n(h).data(),x={},Y=new RegExp("^"+m.toLowerCase()+"([A-Z])");m=new RegExp("^"+m.toLowerCase());for(var B in p)m.test(B)&&(z=B.replace(Y,T),x[z]=p[B]);return x}function i(h){var m={};if(ot[h]||(h=h.split("-")[0],ot[h])){var T=ot[h];return n.each(V,function(z,p){p in T&&(m[p]=T[p])}),m}}var a=n(window),w=function(){var h={get:function(m){return this.slice(m)[0]},contains:function(m){for(var T=m&&m.valueOf(),z=0,p=this.length;p>z;z++)if(this[z].valueOf()===T)return z;return-1},remove:function(m){this.splice(m,1)},replace:function(m){m&&(n.isArray(m)||(m=[m]),this.clear(),this.push.apply(this,m))},clear:function(){this.length=0},copy:function(){var m=new w;return m.replace(this),m}};return function(){var m=[];return m.push.apply(m,arguments),n.extend(m,h),m}}(),l=function(h,m){this.dates=new w,this.viewDate=ht(),this.focusDate=null,this._process_options(m),this.element=n(h),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&this.component.length===0&&(this.component=!1),this.picker=n(Z.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today, tfoot th.clear").attr("colspan",function(T,z){return parseInt(z)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};l.prototype={constructor:l,_process_options:function(h){this._o=n.extend({},this._o,h);var m=this.o=n.extend({},this._o),T=m.language;switch(ot[T]||(T=T.split("-")[0],ot[T]||(T=R.language)),m.language=T,m.startView){case 2:case"decade":m.startView=2;break;case 1:case"year":m.startView=1;break;default:m.startView=0}switch(m.minViewMode){case 1:case"months":m.minViewMode=1;break;case 2:case"years":m.minViewMode=2;break;default:m.minViewMode=0}m.startView=Math.max(m.startView,m.minViewMode),m.multidate!==!0&&(m.multidate=Number(m.multidate)||!1,m.multidate=m.multidate!==!1?Math.max(0,m.multidate):1),m.multidateSeparator=String(m.multidateSeparator),m.weekStart%=7,m.weekEnd=(m.weekStart+6)%7;var z=Z.parseFormat(m.format);m.startDate!==-(1/0)&&(m.startDate=m.startDate?m.startDate instanceof Date?this._local_to_utc(this._zero_time(m.startDate)):Z.parseDate(m.startDate,z,m.language):-(1/0)),m.endDate!==1/0&&(m.endDate=m.endDate?m.endDate instanceof Date?this._local_to_utc(this._zero_time(m.endDate)):Z.parseDate(m.endDate,z,m.language):1/0),m.daysOfWeekDisabled=m.daysOfWeekDisabled||[],n.isArray(m.daysOfWeekDisabled)||(m.daysOfWeekDisabled=m.daysOfWeekDisabled.split(/[,\s]*/)),m.daysOfWeekDisabled=n.map(m.daysOfWeekDisabled,function(Y){return parseInt(Y,10)});var p=String(m.orientation).toLowerCase().split(/\s+/g),x=m.orientation.toLowerCase();if(p=n.grep(p,function(Y){return/^auto|left|right|top|bottom$/.test(Y)}),m.orientation={x:"auto",y:"auto"},x&&x!=="auto")if(p.length===1)switch(p[0]){case"top":case"bottom":m.orientation.y=p[0];break;case"left":case"right":m.orientation.x=p[0]}else x=n.grep(p,function(Y){return/^left|right$/.test(Y)}),m.orientation.x=x[0]||"auto",x=n.grep(p,function(Y){return/^top|bottom$/.test(Y)}),m.orientation.y=x[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(h){for(var m,T,z,p=0;p<h.length;p++)m=h[p][0],h[p].length===2?(T=W,z=h[p][1]):h[p].length===3&&(T=h[p][1],z=h[p][2]),m.on(z,T)},_unapplyEvents:function(h){for(var m,T,z,p=0;p<h.length;p++)m=h[p][0],h[p].length===2?(z=W,T=h[p][1]):h[p].length===3&&(z=h[p][1],T=h[p][2]),m.off(T,z)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:n.proxy(this.show,this),keyup:n.proxy(function(h){n.inArray(h.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:n.proxy(this.show,this),keyup:n.proxy(function(h){n.inArray(h.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:n.proxy(this.keydown,this)}],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:n.proxy(function(h){this._focused_from=h.target},this)}],[this.element,{blur:n.proxy(function(h){this._focused_from=h.target},this)}]),this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{"mousedown touchstart":n.proxy(function(h){this.element.is(h.target)||this.element.find(h.target).length||this.picker.is(h.target)||this.picker.find(h.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(h,m){var T=m||this.dates.get(-1),z=this._utc_to_local(T);this.element.trigger({type:h,date:z,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(p,x){arguments.length===0?(p=this.dates.length-1,x=this.o.format):typeof p=="string"&&(x=p,p=this.dates.length-1),x=x||this.o.format;var Y=this.dates.get(p);return Z.formatDate(Y,x,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(h){return h&&new Date(h.getTime()+6e4*h.getTimezoneOffset())},_local_to_utc:function(h){return h&&new Date(h.getTime()-6e4*h.getTimezoneOffset())},_zero_time:function(h){return h&&new Date(h.getFullYear(),h.getMonth(),h.getDate())},_zero_utc_time:function(h){return h&&new Date(Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(h){return new Date(h)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var h=n.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,h),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var h=n.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,n.map(h,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:K("setDates"),setUTCDate:K("setUTCDates"),setValue:function(){var h=this.getFormattedDate();this.isInput?this.element.val(h).change():this.component&&this.element.find("input").val(h).change()},getFormattedDate:function(h){h===W&&(h=this.o.format);var m=this.o.language;return n.map(this.dates,function(T){return Z.formatDate(T,h,m)}).join(this.o.multidateSeparator)},setStartDate:function(h){this._process_options({startDate:h}),this.update(),this.updateNavArrows()},setEndDate:function(h){this._process_options({endDate:h}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(h){this._process_options({daysOfWeekDisabled:h}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var h=this.picker.outerWidth(),m=this.picker.outerHeight(),T=10,z=a.width(),p=a.height(),x=a.scrollTop(),Y=[];this.element.parents().each(function(){var g=n(this).css("z-index");g!=="auto"&&g!==0&&Y.push(parseInt(g))});var B=Math.max.apply(Math,Y)+10,J=this.component?this.component.parent().offset():this.element.offset(),rt=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),it=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),mt=J.left,j=J.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(mt-=h-it)):(this.picker.addClass("datepicker-orient-left"),J.left<0?mt-=J.left-T:J.left+h>z&&(mt=z-h-T));var E,v,P=this.o.orientation.y;P==="auto"&&(E=-x+J.top-m,v=x+p-(J.top+rt+m),P=Math.max(E,v)===v?"top":"bottom"),this.picker.addClass("datepicker-orient-"+P),P==="top"?j+=rt:j-=m+parseInt(this.picker.css("padding-top")),this.picker.css({top:j,left:mt,zIndex:B})}},_allow_update:!0,update:function(){if(this._allow_update){var h=this.dates.copy(),m=[],T=!1;arguments.length?(n.each(arguments,n.proxy(function(z,p){p instanceof Date&&(p=this._local_to_utc(p)),m.push(p)},this)),T=!0):(m=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),m=m&&this.o.multidate?m.split(this.o.multidateSeparator):[m],delete this.element.data().date),m=n.map(m,n.proxy(function(z){return Z.parseDate(z,this.o.format,this.o.language)},this)),m=n.grep(m,n.proxy(function(z){return z<this.o.startDate||z>this.o.endDate||!z},this),!0),this.dates.replace(m),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),T?this.setValue():m.length&&String(h)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&h.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var h=this.o.weekStart,m="<tr>";if(this.o.calendarWeeks){var T='<th class="cw">&nbsp;</th>';m+=T,this.picker.find(".datepicker-days thead tr:first-child").prepend(T)}for(;h<this.o.weekStart+7;)m+='<th class="dow">'+ot[this.o.language].daysMin[h++%7]+"</th>";m+="</tr>",this.picker.find(".datepicker-days thead").append(m)},fillMonths:function(){for(var h="",m=0;12>m;)h+='<span class="month">'+ot[this.o.language].monthsShort[m++]+"</span>";this.picker.find(".datepicker-months td").html(h)},setRange:function(h){h&&h.length?this.range=n.map(h,function(m){return m.valueOf()}):delete this.range,this.fill()},getClassNames:function(h){var m=[],T=this.viewDate.getUTCFullYear(),z=this.viewDate.getUTCMonth(),p=new Date;return h.getUTCFullYear()<T||h.getUTCFullYear()===T&&h.getUTCMonth()<z?m.push("old"):(h.getUTCFullYear()>T||h.getUTCFullYear()===T&&h.getUTCMonth()>z)&&m.push("new"),this.focusDate&&h.valueOf()===this.focusDate.valueOf()&&m.push("focused"),this.o.todayHighlight&&h.getUTCFullYear()===p.getFullYear()&&h.getUTCMonth()===p.getMonth()&&h.getUTCDate()===p.getDate()&&m.push("today"),this.dates.contains(h)!==-1&&m.push("active"),(h.valueOf()<this.o.startDate||h.valueOf()>this.o.endDate||n.inArray(h.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&m.push("disabled"),this.range&&(h>this.range[0]&&h<this.range[this.range.length-1]&&m.push("range"),n.inArray(h.valueOf(),this.range)!==-1&&m.push("selected")),m},fill:function(){var h,m=new Date(this.viewDate),T=m.getUTCFullYear(),z=m.getUTCMonth(),p=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),x=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),Y=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,B=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,J=ot[this.o.language].today||ot.en.today||"",rt=ot[this.o.language].clear||ot.en.clear||"";if(!isNaN(T)&&!isNaN(z)){this.picker.find(".datepicker-days thead th.datepicker-switch").text(ot[this.o.language].months[z]+" "+T),this.picker.find("tfoot th.today").text(J).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(rt).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var it=st(T,z-1,28),mt=Z.getDaysInMonth(it.getUTCFullYear(),it.getUTCMonth());it.setUTCDate(mt),it.setUTCDate(mt-(it.getUTCDay()-this.o.weekStart+7)%7);var j=new Date(it);j.setUTCDate(j.getUTCDate()+42),j=j.valueOf();for(var E,v=[];it.valueOf()<j;){if(it.getUTCDay()===this.o.weekStart&&(v.push("<tr>"),this.o.calendarWeeks)){var P=new Date(+it+(this.o.weekStart-it.getUTCDay()-7)%7*864e5),g=new Date(Number(P)+(11-P.getUTCDay())%7*864e5),S=new Date(Number(S=st(g.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5),_=(g-S)/864e5/7+1;v.push('<td class="cw">'+_+"</td>")}if(E=this.getClassNames(it),E.push("day"),this.o.beforeShowDay!==n.noop){var k=this.o.beforeShowDay(this._utc_to_local(it));k===W?k={}:typeof k=="boolean"?k={enabled:k}:typeof k=="string"&&(k={classes:k}),k.enabled===!1&&E.push("disabled"),k.classes&&(E=E.concat(k.classes.split(/\s+/))),k.tooltip&&(h=k.tooltip)}E=n.unique(E),v.push('<td class="'+E.join(" ")+'"'+(h?' title="'+h+'"':"")+">"+it.getUTCDate()+"</td>"),h=null,it.getUTCDay()===this.o.weekEnd&&v.push("</tr>"),it.setUTCDate(it.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(v.join(""));var O=this.picker.find(".datepicker-months").find("th:eq(1)").text(T).end().find("span").removeClass("active");n.each(this.dates,function(t,o){o.getUTCFullYear()===T&&O.eq(o.getUTCMonth()).addClass("active")}),(p>T||T>Y)&&O.addClass("disabled"),T===p&&O.slice(0,x).addClass("disabled"),T===Y&&O.slice(B+1).addClass("disabled"),v="",T=10*parseInt(T/10,10);var at=this.picker.find(".datepicker-years").find("th:eq(1)").text(T+"-"+(T+9)).end().find("td");T-=1;for(var A,tt=n.map(this.dates,function(t){return t.getUTCFullYear()}),d=-1;11>d;d++)A=["year"],d===-1?A.push("old"):d===10&&A.push("new"),n.inArray(T,tt)!==-1&&A.push("active"),(p>T||T>Y)&&A.push("disabled"),v+='<span class="'+A.join(" ")+'">'+T+"</span>",T+=1;at.html(v)}},updateNavArrows:function(){if(this._allow_update){var h=new Date(this.viewDate),m=h.getUTCFullYear(),T=h.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-(1/0)&&m<=this.o.startDate.getUTCFullYear()&&T<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(this.o.endDate!==1/0&&m>=this.o.endDate.getUTCFullYear()&&T>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-(1/0)&&m<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(this.o.endDate!==1/0&&m>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(h){h.preventDefault();var m,T,z,p=n(h.target).closest("span, td, th");if(p.length===1)switch(p[0].nodeName.toLowerCase()){case"th":switch(p[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var x=Z.modes[this.viewMode].navStep*(p[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,x),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,x),this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var Y=new Date;Y=st(Y.getFullYear(),Y.getMonth(),Y.getDate(),0,0,0),this.showMode(-2);var B=this.o.todayBtn==="linked"?null:"view";this._setDate(Y,B);break;case"clear":var J;this.isInput?J=this.element:this.component&&(J=this.element.find("input")),J&&J.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":p.is(".disabled")||(this.viewDate.setUTCDate(1),p.is(".month")?(z=1,T=p.parent().find("span").index(p),m=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(T),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1&&this._setDate(st(m,T,z))):(z=1,T=0,m=parseInt(p.text(),10)||0,this.viewDate.setUTCFullYear(m),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(st(m,T,z))),this.showMode(-1),this.fill());break;case"td":p.is(".day")&&!p.is(".disabled")&&(z=parseInt(p.text(),10)||1,m=this.viewDate.getUTCFullYear(),T=this.viewDate.getUTCMonth(),p.is(".old")?T===0?(T=11,m-=1):T-=1:p.is(".new")&&(T===11?(T=0,m+=1):T+=1),this._setDate(st(m,T,z)))}this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(h){var m=this.dates.contains(h);if(h||this.dates.clear(),this.o.multidate===1&&m===0||(m!==-1?this.dates.remove(m):this.dates.push(h)),typeof this.o.multidate=="number")for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(h,m){m&&m!=="date"||this._toggle_multidate(h&&new Date(h)),m&&m!=="view"||(this.viewDate=h&&new Date(h)),this.fill(),this.setValue(),this._trigger("changeDate");var T;this.isInput?T=this.element:this.component&&(T=this.element.find("input")),T&&T.change(),!this.o.autoclose||m&&m!=="date"||this.hide()},moveMonth:function(h,m){if(!h)return W;if(!m)return h;var T,z,p=new Date(h.valueOf()),x=p.getUTCDate(),Y=p.getUTCMonth(),B=Math.abs(m);if(m=m>0?1:-1,B===1)z=m===-1?function(){return p.getUTCMonth()===Y}:function(){return p.getUTCMonth()!==T},T=Y+m,p.setUTCMonth(T),(0>T||T>11)&&(T=(T+12)%12);else{for(var J=0;B>J;J++)p=this.moveMonth(p,m);T=p.getUTCMonth(),p.setUTCDate(x),z=function(){return T!==p.getUTCMonth()}}for(;z();)p.setUTCDate(--x),p.setUTCMonth(T);return p},moveYear:function(h,m){return this.moveMonth(h,12*m)},dateWithinRange:function(h){return h>=this.o.startDate&&h<=this.o.endDate},keydown:function(h){if(this.picker.is(":not(:visible)"))return void(h.keyCode===27&&this.show());var m,T,z,p=!1,x=this.focusDate||this.viewDate;switch(h.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),h.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;m=h.keyCode===37?-1:1,h.ctrlKey?(T=this.moveYear(this.dates.get(-1)||ht(),m),z=this.moveYear(x,m),this._trigger("changeYear",this.viewDate)):h.shiftKey?(T=this.moveMonth(this.dates.get(-1)||ht(),m),z=this.moveMonth(x,m),this._trigger("changeMonth",this.viewDate)):(T=new Date(this.dates.get(-1)||ht()),T.setUTCDate(T.getUTCDate()+m),z=new Date(x),z.setUTCDate(x.getUTCDate()+m)),this.dateWithinRange(T)&&(this.focusDate=this.viewDate=z,this.setValue(),this.fill(),h.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;m=h.keyCode===38?-1:1,h.ctrlKey?(T=this.moveYear(this.dates.get(-1)||ht(),m),z=this.moveYear(x,m),this._trigger("changeYear",this.viewDate)):h.shiftKey?(T=this.moveMonth(this.dates.get(-1)||ht(),m),z=this.moveMonth(x,m),this._trigger("changeMonth",this.viewDate)):(T=new Date(this.dates.get(-1)||ht()),T.setUTCDate(T.getUTCDate()+7*m),z=new Date(x),z.setUTCDate(x.getUTCDate()+7*m)),this.dateWithinRange(T)&&(this.focusDate=this.viewDate=z,this.setValue(),this.fill(),h.preventDefault());break;case 32:break;case 13:x=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(x),p=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(h.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(p){this._trigger(this.dates.length?"changeDate":"clearDate");var Y;this.isInput?Y=this.element:this.component&&(Y=this.element.find("input")),Y&&Y.change()}},showMode:function(h){h&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+h))),this.picker.find(">div").hide().filter(".datepicker-"+Z.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var D=function(h,m){this.element=n(h),this.inputs=n.map(m.inputs,function(T){return T.jquery?T[0]:T}),delete m.inputs,n(this.inputs).datepicker(m).bind("changeDate",n.proxy(this.dateUpdated,this)),this.pickers=n.map(this.inputs,function(T){return n(T).data("datepicker")}),this.updateDates()};D.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(h){return h.getUTCDate()}),this.updateRanges()},updateRanges:function(){var h=n.map(this.dates,function(m){return m.valueOf()});n.each(this.pickers,function(m,T){T.setRange(h)})},dateUpdated:function(h){if(!this.updating){this.updating=!0;var m=n(h.target).data("datepicker"),T=m.getUTCDate(),z=n.inArray(h.target,this.inputs),p=this.inputs.length;if(z!==-1){if(n.each(this.pickers,function(x,Y){Y.getUTCDate()||Y.setUTCDate(T)}),T<this.dates[z])for(;z>=0&&T<this.dates[z];)this.pickers[z--].setUTCDate(T);else if(T>this.dates[z])for(;p>z&&T>this.dates[z];)this.pickers[z++].setUTCDate(T);this.updateDates(),delete this.updating}}},remove:function(){n.map(this.pickers,function(h){h.remove()}),delete this.element.data().datepicker}};var q=n.fn.datepicker;n.fn.datepicker=function(h){var m=Array.apply(null,arguments);m.shift();var T;return this.each(function(){var z=n(this),p=z.data("datepicker"),x=typeof h=="object"&&h;if(!p){var Y=r(this,"date"),B=n.extend({},R,Y,x),J=i(B.language),rt=n.extend({},R,J,Y,x);if(z.is(".input-daterange")||rt.inputs){var it={inputs:rt.inputs||z.find("input").toArray()};z.data("datepicker",p=new D(this,n.extend(rt,it)))}else z.data("datepicker",p=new l(this,rt))}return typeof h=="string"&&typeof p[h]=="function"&&(T=p[h].apply(p,m),T!==W)?!1:void 0}),T!==W?T:this};var R=n.fn.datepicker.defaults={autoclose:!1,beforeShowDay:n.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},V=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=l;var ot=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},Z={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(h){return h%4===0&&h%100!==0||h%400===0},getDaysInMonth:function(h,m){return[31,Z.isLeapYear(h)?29:28,31,30,31,30,31,31,30,31,30,31][m]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(h){var m=h.replace(this.validParts,"\0").split("\0"),T=h.match(this.validParts);if(!m||!m.length||!T||T.length===0)throw new Error("Invalid date format.");return{separators:m,parts:T}},parseDate:function(h,m,T){function z(){var _=this.slice(0,J[Y].length),k=J[Y].slice(0,_.length);return _===k}if(!h)return W;if(h instanceof Date)return h;typeof m=="string"&&(m=Z.parseFormat(m));var p,x,Y,B=/([\-+]\d+)([dmwy])/,J=h.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(h)){for(h=new Date,Y=0;Y<J.length;Y++)switch(p=B.exec(J[Y]),x=parseInt(p[1]),p[2]){case"d":h.setUTCDate(h.getUTCDate()+x);break;case"m":h=l.prototype.moveMonth.call(l.prototype,h,x);break;case"w":h.setUTCDate(h.getUTCDate()+7*x);break;case"y":h=l.prototype.moveYear.call(l.prototype,h,x)}return st(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),0,0,0)}J=h&&h.match(this.nonpunctuation)||[],h=new Date;var rt,it,mt={},j=["yyyy","yy","M","MM","m","mm","d","dd"],E={yyyy:function(_,k){return _.setUTCFullYear(k)},yy:function(_,k){return _.setUTCFullYear(2e3+k)},m:function(_,k){if(isNaN(_))return _;for(k-=1;0>k;)k+=12;for(k%=12,_.setUTCMonth(k);_.getUTCMonth()!==k;)_.setUTCDate(_.getUTCDate()-1);return _},d:function(_,k){return _.setUTCDate(k)}};E.M=E.MM=E.mm=E.m,E.dd=E.d,h=st(h.getFullYear(),h.getMonth(),h.getDate(),0,0,0);var v=m.parts.slice();if(J.length!==v.length&&(v=n(v).filter(function(_,k){return n.inArray(k,j)!==-1}).toArray()),J.length===v.length){var P;for(Y=0,P=v.length;P>Y;Y++){if(rt=parseInt(J[Y],10),p=v[Y],isNaN(rt))switch(p){case"MM":it=n(ot[T].months).filter(z),rt=n.inArray(it[0],ot[T].months)+1;break;case"M":it=n(ot[T].monthsShort).filter(z),rt=n.inArray(it[0],ot[T].monthsShort)+1}mt[p]=rt}var g,S;for(Y=0;Y<j.length;Y++)S=j[Y],S in mt&&!isNaN(mt[S])&&(g=new Date(h),E[S](g,mt[S]),isNaN(g)||(h=g))}return h},formatDate:function(h,m,T){if(!h)return"";typeof m=="string"&&(m=Z.parseFormat(m));var z={d:h.getUTCDate(),D:ot[T].daysShort[h.getUTCDay()],DD:ot[T].days[h.getUTCDay()],m:h.getUTCMonth()+1,M:ot[T].monthsShort[h.getUTCMonth()],MM:ot[T].months[h.getUTCMonth()],yy:h.getUTCFullYear().toString().substring(2),yyyy:h.getUTCFullYear()};z.dd=(z.d<10?"0":"")+z.d,z.mm=(z.m<10?"0":"")+z.m,h=[];for(var p=n.extend([],m.separators),x=0,Y=m.parts.length;Y>=x;x++)p.length&&h.push(p.shift()),h.push(z[m.parts[x]]);return h.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};Z.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+Z.headTemplate+"<tbody></tbody>"+Z.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+Z.headTemplate+Z.contTemplate+Z.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+Z.headTemplate+Z.contTemplate+Z.footTemplate+"</table></div></div>",n.fn.datepicker.DPGlobal=Z,n.fn.datepicker.noConflict=function(){return n.fn.datepicker=q,this},n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(h){var m=n(this);m.data("datepicker")||(h.preventDefault(),m.datepicker("show"))}),n(function(){n('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),(function(n){function W(e,s,u){switch(arguments.length){case 2:return e??s;case 3:return e??s??u;default:throw new Error("Implement me")}}function st(e,s){return ne.call(e,s)}function ht(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function K(e){U.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function r(e,s){var u=!0;return ot(function(){return u&&(K(e),u=!1),s.apply(this,arguments)},s)}function i(e,s){we[e]||(K(s),we[e]=!0)}function a(e,s){return function(u){return m(e.call(this,u),s)}}function w(e,s){return function(u){return this.localeData().ordinal(e.call(this,u),s)}}function l(e,s){var u,N,H=12*(s.year()-e.year())+(s.month()-e.month()),dt=e.clone().add(H,"months");return 0>s-dt?(u=e.clone().add(H-1,"months"),N=(s-dt)/(dt-u)):(u=e.clone().add(H+1,"months"),N=(s-dt)/(u-dt)),-(H+N)}function D(e,s,u){var N;return u==null?s:e.meridiemHour!=null?e.meridiemHour(s,u):(e.isPM!=null&&(N=e.isPM(u),N&&12>s&&(s+=12),N||s!==12||(s=0)),s)}function q(){}function R(e,s){s!==!1&&S(e),Z(this,e),this._d=new Date(+e._d),de===!1&&(de=!0,U.updateOffset(this),de=!1)}function V(e){var s=it(e),u=s.year||0,N=s.quarter||0,H=s.month||0,dt=s.week||0,gt=s.day||0,Ct=s.hour||0,Ot=s.minute||0,zt=s.second||0,Bt=s.millisecond||0;this._milliseconds=+Bt+1e3*zt+6e4*Ot+36e5*Ct,this._days=+gt+7*dt,this._months=+H+3*N+12*u,this._data={},this._locale=U.localeData(),this._bubble()}function ot(e,s){for(var u in s)st(s,u)&&(e[u]=s[u]);return st(s,"toString")&&(e.toString=s.toString),st(s,"valueOf")&&(e.valueOf=s.valueOf),e}function Z(e,s){var u,N,H;if(typeof s._isAMomentObject<"u"&&(e._isAMomentObject=s._isAMomentObject),typeof s._i<"u"&&(e._i=s._i),typeof s._f<"u"&&(e._f=s._f),typeof s._l<"u"&&(e._l=s._l),typeof s._strict<"u"&&(e._strict=s._strict),typeof s._tzm<"u"&&(e._tzm=s._tzm),typeof s._isUTC<"u"&&(e._isUTC=s._isUTC),typeof s._offset<"u"&&(e._offset=s._offset),typeof s._pf<"u"&&(e._pf=s._pf),typeof s._locale<"u"&&(e._locale=s._locale),Gt.length>0)for(u in Gt)N=Gt[u],H=s[N],typeof H<"u"&&(e[N]=H);return e}function h(e){return 0>e?Math.ceil(e):Math.floor(e)}function m(e,s,u){for(var N=""+Math.abs(e),H=e>=0;N.length<s;)N="0"+N;return(H?u?"+":"":"-")+N}function T(e,s){var u={milliseconds:0,months:0};return u.months=s.month()-e.month()+12*(s.year()-e.year()),e.clone().add(u.months,"M").isAfter(s)&&--u.months,u.milliseconds=+s-+e.clone().add(u.months,"M"),u}function z(e,s){var u;return s=A(s,e),e.isBefore(s)?u=T(e,s):(u=T(s,e),u.milliseconds=-u.milliseconds,u.months=-u.months),u}function p(e,s){return function(u,N){var H,dt;return N===null||isNaN(+N)||(i(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period)."),dt=u,u=N,N=dt),u=typeof u=="string"?+u:u,H=U.duration(u,N),x(this,H,e),this}}function x(e,s,u,N){var H=s._milliseconds,dt=s._days,gt=s._months;N=N??!0,H&&e._d.setTime(+e._d+H*u),dt&&ee(e,"Date",Vt(e,"Date")+dt*u),gt&&jt(e,Vt(e,"Month")+gt*u),N&&U.updateOffset(e,dt||gt)}function Y(e){return Object.prototype.toString.call(e)==="[object Array]"}function B(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function J(e,s,u){var N,H=Math.min(e.length,s.length),dt=Math.abs(e.length-s.length),gt=0;for(N=0;H>N;N++)(u&&e[N]!==s[N]||!u&&j(e[N])!==j(s[N]))&&gt++;return gt+dt}function rt(e){if(e){var s=e.toLowerCase().replace(/(.)s$/,"$1");e=Oe[e]||Le[s]||s}return e}function it(e){var s,u,N={};for(u in e)st(e,u)&&(s=rt(u),s&&(N[s]=e[u]));return N}function mt(e){var s,u;if(e.indexOf("week")===0)s=7,u="day";else{if(e.indexOf("month")!==0)return;s=12,u="month"}U[e]=function(N,H){var dt,gt,Ct=U._locale[e],Ot=[];if(typeof N=="number"&&(H=N,N=n),gt=function(zt){var Bt=U().utc().set(u,zt);return Ct.call(U._locale,Bt,N||"")},H!=null)return gt(H);for(dt=0;s>dt;dt++)Ot.push(gt(dt));return Ot}}function j(e){var s=+e,u=0;return s!==0&&isFinite(s)&&(u=s>=0?Math.floor(s):Math.ceil(s)),u}function E(e,s){return new Date(Date.UTC(e,s+1,0)).getUTCDate()}function v(e,s,u){return Dt(U([e,11,31+s-u]),s,u).week}function P(e){return g(e)?366:365}function g(e){return e%4===0&&e%100!==0||e%400===0}function S(e){var s;e._a&&e._pf.overflow===-2&&(s=e._a[Nt]<0||e._a[Nt]>11?Nt:e._a[Lt]<1||e._a[Lt]>E(e._a[At],e._a[Nt])?Lt:e._a[It]<0||e._a[It]>24||e._a[It]===24&&(e._a[Ft]!==0||e._a[Ut]!==0||e._a[Ht]!==0)?It:e._a[Ft]<0||e._a[Ft]>59?Ft:e._a[Ut]<0||e._a[Ut]>59?Ut:e._a[Ht]<0||e._a[Ht]>999?Ht:-1,e._pf._overflowDayOfYear&&(At>s||s>Lt)&&(s=Lt),e._pf.overflow=s)}function _(e){return e._isValid==null&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&e._pf.charsLeftOver===0&&e._pf.unusedTokens.length===0&&e._pf.bigHour===n)),e._isValid}function k(e){return e&&e.toLowerCase().replace("_","-")}function O(e){for(var s,u,N,H,dt=0;dt<e.length;){for(H=k(e[dt]).split("-"),s=H.length,u=k(e[dt+1]),u=u?u.split("-"):null;s>0;){if(N=at(H.slice(0,s).join("-")))return N;if(u&&u.length>=s&&J(H,u,!0)>=s-1)break;s--}dt++}return null}function at(e){var s=null;if(!$t[e]&&se)try{s=U.locale(),require("./locale/"+e),U.locale(s)}catch{}return $t[e]}function A(e,s){var u,N;return s._isUTC?(u=s.clone(),N=(U.isMoment(e)||B(e)?+e:+U(e))-+u,u._d.setTime(+u._d+N),U.updateOffset(u,!1),u):U(e).local()}function tt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function d(e){var s,u,N=e.match(vt);for(s=0,u=N.length;u>s;s++)N[s]=Rt[N[s]]?Rt[N[s]]:tt(N[s]);return function(H){var dt="";for(s=0;u>s;s++)dt+=N[s]instanceof Function?N[s].call(H,e):N[s];return dt}}function t(e,s){return e.isValid()?(s=o(s,e.localeData()),ce[s]||(ce[s]=d(s)),ce[s](e)):e.localeData().invalidDate()}function o(e,s){function u(H){return s.longDateFormat(H)||H}var N=5;for(_t.lastIndex=0;N>=0&&_t.test(e);)e=e.replace(_t,u),_t.lastIndex=0,N-=1;return e}function c(e,s){var u=s._strict;switch(e){case"Q":return pe;case"DDDD":return me;case"YYYY":case"GGGG":case"gggg":return u?Se:Xt;case"Y":case"G":case"g":return Me;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return u?Te:re;case"S":if(u)return pe;case"SS":if(u)return fe;case"SSS":if(u)return me;case"DDD":return Et;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return De;case"a":case"A":return s._locale._meridiemParse;case"x":return xe;case"X":return ke;case"Z":case"ZZ":return ae;case"T":return _e;case"SSSS":return be;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return u?fe:kt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return kt;case"Do":return u?s._locale._ordinalParse:s._locale._ordinalParseLenient;default:return new RegExp(lt(F(e.replace("\\",""))))}}function f(e){e=e||"";var s=e.match(ae)||[],u=s[s.length-1]||[],N=(u+"").match(Ie)||["-",0,0],H=+(60*N[1])+j(N[2]);return N[0]==="+"?H:-H}function M(e,s,u){var N,H=u._a;switch(e){case"Q":s!=null&&(H[Nt]=3*(j(s)-1));break;case"M":case"MM":s!=null&&(H[Nt]=j(s)-1);break;case"MMM":case"MMMM":N=u._locale.monthsParse(s,e,u._strict),N!=null?H[Nt]=N:u._pf.invalidMonth=s;break;case"D":case"DD":s!=null&&(H[Lt]=j(s));break;case"Do":s!=null&&(H[Lt]=j(parseInt(s.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":s!=null&&(u._dayOfYear=j(s));break;case"YY":H[At]=U.parseTwoDigitYear(s);break;case"YYYY":case"YYYYY":case"YYYYYY":H[At]=j(s);break;case"a":case"A":u._meridiem=s;break;case"h":case"hh":u._pf.bigHour=!0;case"H":case"HH":H[It]=j(s);break;case"m":case"mm":H[Ft]=j(s);break;case"s":case"ss":H[Ut]=j(s);break;case"S":case"SS":case"SSS":case"SSSS":H[Ht]=j(1e3*("0."+s));break;case"x":u._d=new Date(j(s));break;case"X":u._d=new Date(1e3*parseFloat(s));break;case"Z":case"ZZ":u._useUTC=!0,u._tzm=f(s);break;case"dd":case"ddd":case"dddd":N=u._locale.weekdaysParse(s),N!=null?(u._w=u._w||{},u._w.d=N):u._pf.invalidWeekday=s;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),s&&(u._w=u._w||{},u._w[e]=j(s));break;case"gg":case"GG":u._w=u._w||{},u._w[e]=U.parseTwoDigitYear(s)}}function $(e){var s,u,N,H,dt,gt,Ct;s=e._w,s.GG!=null||s.W!=null||s.E!=null?(dt=1,gt=4,u=W(s.GG,e._a[At],Dt(U(),1,4).year),N=W(s.W,1),H=W(s.E,1)):(dt=e._locale._week.dow,gt=e._locale._week.doy,u=W(s.gg,e._a[At],Dt(U(),dt,gt).year),N=W(s.w,1),s.d!=null?(H=s.d,dt>H&&++N):H=s.e!=null?s.e+dt:dt),Ct=xt(u,N,H,gt,dt),e._a[At]=Ct.year,e._dayOfYear=Ct.dayOfYear}function I(e){var s,u,N,H,dt=[];if(!e._d){for(N=X(e),e._w&&e._a[Lt]==null&&e._a[Nt]==null&&$(e),e._dayOfYear&&(H=W(e._a[At],N[At]),e._dayOfYear>P(H)&&(e._pf._overflowDayOfYear=!0),u=ft(H,0,e._dayOfYear),e._a[Nt]=u.getUTCMonth(),e._a[Lt]=u.getUTCDate()),s=0;3>s&&e._a[s]==null;++s)e._a[s]=dt[s]=N[s];for(;7>s;s++)e._a[s]=dt[s]=e._a[s]==null?s===2?1:0:e._a[s];e._a[It]===24&&e._a[Ft]===0&&e._a[Ut]===0&&e._a[Ht]===0&&(e._nextDay=!0,e._a[It]=0),e._d=(e._useUTC?ft:ct).apply(null,dt),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[It]=24)}}function nt(e){var s;e._d||(s=it(e._i),e._a=[s.year,s.month,s.day||s.date,s.hour,s.minute,s.second,s.millisecond],I(e))}function X(e){var s=new Date;return e._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()]}function C(e){if(e._f===U.ISO_8601)return void L(e);e._a=[],e._pf.empty=!0;var s,u,N,H,dt,gt=""+e._i,Ct=gt.length,Ot=0;for(N=o(e._f,e._locale).match(vt)||[],s=0;s<N.length;s++)H=N[s],u=(gt.match(c(H,e))||[])[0],u&&(dt=gt.substr(0,gt.indexOf(u)),dt.length>0&&e._pf.unusedInput.push(dt),gt=gt.slice(gt.indexOf(u)+u.length),Ot+=u.length),Rt[H]?(u?e._pf.empty=!1:e._pf.unusedTokens.push(H),M(H,u,e)):e._strict&&!u&&e._pf.unusedTokens.push(H);e._pf.charsLeftOver=Ct-Ot,gt.length>0&&e._pf.unusedInput.push(gt),e._pf.bigHour===!0&&e._a[It]<=12&&(e._pf.bigHour=n),e._a[It]=D(e._locale,e._a[It],e._meridiem),I(e),S(e)}function F(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(s,u,N,H,dt){return u||N||H||dt})}function lt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function b(e){var s,u,N,H,dt;if(e._f.length===0)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(H=0;H<e._f.length;H++)dt=0,s=Z({},e),e._useUTC!=null&&(s._useUTC=e._useUTC),s._pf=ht(),s._f=e._f[H],C(s),_(s)&&(dt+=s._pf.charsLeftOver,dt+=10*s._pf.unusedTokens.length,s._pf.score=dt,(N==null||N>dt)&&(N=dt,u=s));ot(e,u||s)}function L(e){var s,u,N=e._i,H=Ee.exec(N);if(H){for(e._pf.iso=!0,s=0,u=le.length;u>s;s++)if(le[s][1].exec(N)){e._f=le[s][0]+(H[6]||" ");break}for(s=0,u=he.length;u>s;s++)if(he[s][1].exec(N)){e._f+=he[s][0];break}N.match(ae)&&(e._f+="Z"),C(e)}else e._isValid=!1}function G(e){L(e),e._isValid===!1&&(delete e._isValid,U.createFromInputFallback(e))}function Q(e,s){var u,N=[];for(u=0;u<e.length;++u)N.push(s(e[u],u));return N}function ut(e){var s,u=e._i;u===n?e._d=new Date:B(u)?e._d=new Date(+u):(s=y.exec(u))!==null?e._d=new Date(+s[1]):typeof u=="string"?G(e):Y(u)?(e._a=Q(u.slice(0),function(N){return parseInt(N,10)}),I(e)):typeof u=="object"?nt(e):typeof u=="number"?e._d=new Date(u):U.createFromInputFallback(e)}function ct(e,s,u,N,H,dt,gt){var Ct=new Date(e,s,u,N,H,dt,gt);return 1970>e&&Ct.setFullYear(e),Ct}function ft(e){var s=new Date(Date.UTC.apply(null,arguments));return 1970>e&&s.setUTCFullYear(e),s}function wt(e,s){if(typeof e=="string")if(isNaN(e)){if(e=s.weekdaysParse(e),typeof e!="number")return null}else e=parseInt(e,10);return e}function bt(e,s,u,N,H){return H.relativeTime(s||1,!!u,e,N)}function yt(e,s,u){var N=U.duration(e).abs(),H=Yt(N.as("s")),dt=Yt(N.as("m")),gt=Yt(N.as("h")),Ct=Yt(N.as("d")),Ot=Yt(N.as("M")),zt=Yt(N.as("y")),Bt=H<Wt.s&&["s",H]||dt===1&&["m"]||dt<Wt.m&&["mm",dt]||gt===1&&["h"]||gt<Wt.h&&["hh",gt]||Ct===1&&["d"]||Ct<Wt.d&&["dd",Ct]||Ot===1&&["M"]||Ot<Wt.M&&["MM",Ot]||zt===1&&["y"]||["yy",zt];return Bt[2]=s,Bt[3]=+e>0,Bt[4]=u,bt.apply({},Bt)}function Dt(e,s,u){var N,H=u-s,dt=u-e.day();return dt>H&&(dt-=7),H-7>dt&&(dt+=7),N=U(e).add(dt,"d"),{week:Math.ceil(N.dayOfYear()/7),year:N.year()}}function xt(e,s,u,N,H){var dt,gt,Ct=ft(e,0,1).getUTCDay();return Ct=Ct===0?7:Ct,u=u??H,dt=H-Ct+(Ct>N?7:0)-(H>Ct?7:0),gt=7*(s-1)+(u-H)+dt+1,{year:gt>0?e:e-1,dayOfYear:gt>0?gt:P(e-1)+gt}}function St(e){var s,u=e._i,N=e._f;return e._locale=e._locale||U.localeData(e._l),u===null||N===n&&u===""?U.invalid({nullInput:!0}):(typeof u=="string"&&(e._i=u=e._locale.preparse(u)),U.isMoment(u)?new R(u,!0):(N?Y(N)?b(e):C(e):ut(e),s=new R(e),s._nextDay&&(s.add(1,"d"),s._nextDay=n),s))}function Pt(e,s){var u,N;if(s.length===1&&Y(s[0])&&(s=s[0]),!s.length)return U();for(u=s[0],N=1;N<s.length;++N)s[N][e](u)&&(u=s[N]);return u}function jt(e,s){var u;return typeof s=="string"&&(s=e.localeData().monthsParse(s),typeof s!="number")||(u=Math.min(e.date(),E(e.year(),s)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](s,u)),e}function Vt(e,s){return e._d["get"+(e._isUTC?"UTC":"")+s]()}function ee(e,s,u){return s==="Month"?jt(e,u):e._d["set"+(e._isUTC?"UTC":"")+s](u)}function Mt(e,s){return function(u){return u!=null?(ee(this,e,u),U.updateOffset(this,s),this):Vt(this,e)}}function qt(e){return 400*e/146097}function Kt(e){return 146097*e/400}function Zt(e){U.duration.fn[e]=function(){return this._data[e]}}function Qt(e){typeof ender>"u"&&(ie=Jt.moment,Jt.moment=e?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",U):U)}for(var U,ie,Tt,oe="2.9.0",Jt=typeof global>"u"||typeof window<"u"&&window!==global.window?this:global,Yt=Math.round,ne=Object.prototype.hasOwnProperty,At=0,Nt=1,Lt=2,It=3,Ft=4,Ut=5,Ht=6,$t={},Gt=[],se=typeof te<"u"&&te&&te.exports,y=/^\/?Date\((\-?\d+)/i,et=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,pt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,vt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,_t=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,kt=/\d\d?/,Et=/\d{1,3}/,Xt=/\d{1,4}/,re=/[+\-]?\d{1,6}/,be=/\d+/,De=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ae=/Z|[\+\-]\d\d:?\d\d/gi,_e=/T/i,xe=/[\+\-]?\d+/,ke=/[\+\-]?\d+(\.\d{1,3})?/,pe=/\d/,fe=/\d\d/,me=/\d{3}/,Se=/\d{4}/,Te=/[+-]?\d{6}/,Me=/[+-]?\d+/,Ee=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Pe="YYYY-MM-DDTHH:mm:ssZ",le=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],he=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ie=/([\+\-]|\d\d)/gi,ge={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Oe={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Le={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ce={},Wt={s:45,m:45,h:22,d:26,M:11},ve="DDD w W M D d".split(" "),ye="M D H h m s w W".split(" "),Rt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var e=this.year(),s=e>=0?"+":"-";return s+m(Math.abs(e),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return j(this.milliseconds()/100)},SS:function(){return m(j(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),s="+";return 0>e&&(e=-e,s="-"),s+m(j(e/60),2)+":"+m(j(e)%60,2)},ZZ:function(){var e=this.utcOffset(),s="+";return 0>e&&(e=-e,s="-"),s+m(j(e/60),2)+m(j(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},we={},Ce=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],de=!1;ve.length;)Tt=ve.pop(),Rt[Tt+"o"]=w(Rt[Tt],Tt);for(;ye.length;)Tt=ye.pop(),Rt[Tt+Tt]=a(Rt[Tt],2);for(Rt.DDDD=a(Rt.DDD,3),ot(q.prototype,{set:function(e){var s,u;for(u in e)s=e[u],typeof s=="function"?this[u]=s:this["_"+u]=s;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,s,u){var N,H,dt;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),N=0;12>N;N++)if(H=U.utc([2e3,N]),u&&!this._longMonthsParse[N]&&(this._longMonthsParse[N]=new RegExp("^"+this.months(H,"").replace(".","")+"$","i"),this._shortMonthsParse[N]=new RegExp("^"+this.monthsShort(H,"").replace(".","")+"$","i")),u||this._monthsParse[N]||(dt="^"+this.months(H,"")+"|^"+this.monthsShort(H,""),this._monthsParse[N]=new RegExp(dt.replace(".",""),"i")),u&&s==="MMMM"&&this._longMonthsParse[N].test(e)||u&&s==="MMM"&&this._shortMonthsParse[N].test(e)||!u&&this._monthsParse[N].test(e))return N},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var s,u,N;for(this._weekdaysParse||(this._weekdaysParse=[]),s=0;7>s;s++)if(this._weekdaysParse[s]||(u=U([2e3,1]).day(s),N="^"+this.weekdays(u,"")+"|^"+this.weekdaysShort(u,"")+"|^"+this.weekdaysMin(u,""),this._weekdaysParse[s]=new RegExp(N.replace(".",""),"i")),this._weekdaysParse[s].test(e))return s},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var s=this._longDateFormat[e];return!s&&this._longDateFormat[e.toUpperCase()]&&(s=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(u){return u.slice(1)}),this._longDateFormat[e]=s),s},isPM:function(e){return(e+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,s,u){return e>11?u?"pm":"PM":u?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,s,u){var N=this._calendar[e];return typeof N=="function"?N.apply(s,[u]):N},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,s,u,N){var H=this._relativeTime[u];return typeof H=="function"?H(e,s,u,N):H.replace(/%d/i,e)},pastFuture:function(e,s){var u=this._relativeTime[e>0?"future":"past"];return typeof u=="function"?u(s):u.replace(/%s/i,s)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Dt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),U=function(e,s,u,N){var H;return typeof u=="boolean"&&(N=u,u=n),H={},H._isAMomentObject=!0,H._i=e,H._f=s,H._l=u,H._strict=N,H._isUTC=!1,H._pf=ht(),St(H)},U.suppressDeprecationWarnings=!1,U.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),U.min=function(){var e=[].slice.call(arguments,0);return Pt("isBefore",e)},U.max=function(){var e=[].slice.call(arguments,0);return Pt("isAfter",e)},U.utc=function(e,s,u,N){var H;return typeof u=="boolean"&&(N=u,u=n),H={},H._isAMomentObject=!0,H._useUTC=!0,H._isUTC=!0,H._l=u,H._i=e,H._f=s,H._strict=N,H._pf=ht(),St(H).utc()},U.unix=function(e){return U(1e3*e)},U.duration=function(e,s){var u,N,H,dt,gt=e,Ct=null;return U.isDuration(e)?gt={ms:e._milliseconds,d:e._days,M:e._months}:typeof e=="number"?(gt={},s?gt[s]=e:gt.milliseconds=e):(Ct=et.exec(e))?(u=Ct[1]==="-"?-1:1,gt={y:0,d:j(Ct[Lt])*u,h:j(Ct[It])*u,m:j(Ct[Ft])*u,s:j(Ct[Ut])*u,ms:j(Ct[Ht])*u}):(Ct=pt.exec(e))?(u=Ct[1]==="-"?-1:1,H=function(Ot){var zt=Ot&&parseFloat(Ot.replace(",","."));return(isNaN(zt)?0:zt)*u},gt={y:H(Ct[2]),M:H(Ct[3]),d:H(Ct[4]),h:H(Ct[5]),m:H(Ct[6]),s:H(Ct[7]),w:H(Ct[8])}):gt==null?gt={}:typeof gt=="object"&&("from"in gt||"to"in gt)&&(dt=z(U(gt.from),U(gt.to)),gt={},gt.ms=dt.milliseconds,gt.M=dt.months),N=new V(gt),U.isDuration(e)&&st(e,"_locale")&&(N._locale=e._locale),N},U.version=oe,U.defaultFormat=Pe,U.ISO_8601=function(){},U.momentProperties=Gt,U.updateOffset=function(){},U.relativeTimeThreshold=function(e,s){return Wt[e]===n?!1:s===n?Wt[e]:(Wt[e]=s,!0)},U.lang=r("moment.lang is deprecated. Use moment.locale instead.",function(e,s){return U.locale(e,s)}),U.locale=function(e,s){var u;return e&&(u=typeof s<"u"?U.defineLocale(e,s):U.localeData(e),u&&(U.duration._locale=U._locale=u)),U._locale._abbr},U.defineLocale=function(e,s){return s!==null?(s.abbr=e,$t[e]||($t[e]=new q),$t[e].set(s),U.locale(e),$t[e]):(delete $t[e],null)},U.langData=r("moment.langData is deprecated. Use moment.localeData instead.",function(e){return U.localeData(e)}),U.localeData=function(e){var s;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return U._locale;if(!Y(e)){if(s=at(e))return s;e=[e]}return O(e)},U.isMoment=function(e){return e instanceof R||e!=null&&st(e,"_isAMomentObject")},U.isDuration=function(e){return e instanceof V},Tt=Ce.length-1;Tt>=0;--Tt)mt(Ce[Tt]);U.normalizeUnits=function(e){return rt(e)},U.invalid=function(e){var s=U.utc(NaN);return e!=null?ot(s._pf,e):s._pf.userInvalidated=!0,s},U.parseZone=function(){return U.apply(null,arguments).parseZone()},U.parseTwoDigitYear=function(e){return j(e)+(j(e)>68?1900:2e3)},U.isDate=B,ot(U.fn=R.prototype,{clone:function(){return U(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=U(this).utc();return 0<e.year()&&e.year()<=9999?typeof Date.prototype.toISOString=="function"?this.toDate().toISOString():t(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):t(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return _(this)},isDSTShifted:function(){return this._a?this.isValid()&&J(this._a,(this._isUTC?U.utc(this._a):U(this._a)).toArray())>0:!1},parsingFlags:function(){return ot({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var s=t(this,e||U.defaultFormat);return this.localeData().postformat(s)},add:p(1,"add"),subtract:p(-1,"subtract"),diff:function(e,s,u){var N,H,dt=A(e,this),gt=6e4*(dt.utcOffset()-this.utcOffset());return s=rt(s),s==="year"||s==="month"||s==="quarter"?(H=l(this,dt),s==="quarter"?H/=3:s==="year"&&(H/=12)):(N=this-dt,H=s==="second"?N/1e3:s==="minute"?N/6e4:s==="hour"?N/36e5:s==="day"?(N-gt)/864e5:s==="week"?(N-gt)/6048e5:N),u?H:h(H)},from:function(e,s){return U.duration({to:this,from:e}).locale(this.locale()).humanize(!s)},fromNow:function(e){return this.from(U(),e)},calendar:function(e){var s=e||U(),u=A(s,this).startOf("day"),N=this.diff(u,"days",!0),H=-6>N?"sameElse":-1>N?"lastWeek":0>N?"lastDay":1>N?"sameDay":2>N?"nextDay":7>N?"nextWeek":"sameElse";return this.format(this.localeData().calendar(H,this,U(s)))},isLeapYear:function(){return g(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var s=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=wt(e,this.localeData()),this.add(e-s,"d")):s},month:Mt("Month",!0),startOf:function(e){switch(e=rt(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"?this.weekday(0):e==="isoWeek"&&this.isoWeekday(1),e==="quarter"&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=rt(e),e===n||e==="millisecond"?this:this.startOf(e).add(1,e==="isoWeek"?"week":e).subtract(1,"ms")},isAfter:function(e,s){var u;return s=rt(typeof s<"u"?s:"millisecond"),s==="millisecond"?(e=U.isMoment(e)?e:U(e),+this>+e):(u=U.isMoment(e)?+e:+U(e),u<+this.clone().startOf(s))},isBefore:function(e,s){var u;return s=rt(typeof s<"u"?s:"millisecond"),s==="millisecond"?(e=U.isMoment(e)?e:U(e),+e>+this):(u=U.isMoment(e)?+e:+U(e),+this.clone().endOf(s)<u)},isBetween:function(e,s,u){return this.isAfter(e,u)&&this.isBefore(s,u)},isSame:function(e,s){var u;return s=rt(s||"millisecond"),s==="millisecond"?(e=U.isMoment(e)?e:U(e),+this==+e):(u=+U(e),+this.clone().startOf(s)<=u&&u<=+this.clone().endOf(s))},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=U.apply(null,arguments),this>e?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=U.apply(null,arguments),e>this?this:e}),zone:r("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,s){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,s),this):-this.utcOffset()}),utcOffset:function(e,s){var u,N=this._offset||0;return e!=null?(typeof e=="string"&&(e=f(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&s&&(u=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,u!=null&&this.add(u,"m"),N!==e&&(!s||this._changeInProgress?x(this,U.duration(e-N,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,U.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?N:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):typeof this._i=="string"&&this.utcOffset(f(this._i)),this},hasAlignedHourOffset:function(e){return e=e?U(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return E(this.year(),this.month())},dayOfYear:function(e){var s=Yt((U(this).startOf("day")-U(this).startOf("year"))/864e5)+1;return e==null?s:this.add(e-s,"d")},quarter:function(e){return e==null?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var s=Dt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return e==null?s:this.add(e-s,"y")},isoWeekYear:function(e){var s=Dt(this,1,4).year;return e==null?s:this.add(e-s,"y")},week:function(e){var s=this.localeData().week(this);return e==null?s:this.add(7*(e-s),"d")},isoWeek:function(e){var s=Dt(this,1,4).week;return e==null?s:this.add(7*(e-s),"d")},weekday:function(e){var s=(this.day()+7-this.localeData()._week.dow)%7;return e==null?s:this.add(e-s,"d")},isoWeekday:function(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return v(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return v(this.year(),e.dow,e.doy)},get:function(e){return e=rt(e),this[e]()},set:function(e,s){var u;if(typeof e=="object")for(u in e)this.set(u,e[u]);else e=rt(e),typeof this[e]=="function"&&this[e](s);return this},locale:function(e){var s;return e===n?this._locale._abbr:(s=U.localeData(e),s!=null&&(this._locale=s),this)},lang:r("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===n?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),U.fn.millisecond=U.fn.milliseconds=Mt("Milliseconds",!1),U.fn.second=U.fn.seconds=Mt("Seconds",!1),U.fn.minute=U.fn.minutes=Mt("Minutes",!1),U.fn.hour=U.fn.hours=Mt("Hours",!0),U.fn.date=Mt("Date",!0),U.fn.dates=r("dates accessor is deprecated. Use date instead.",Mt("Date",!0)),U.fn.year=Mt("FullYear",!0),U.fn.years=r("years accessor is deprecated. Use year instead.",Mt("FullYear",!0)),U.fn.days=U.fn.day,U.fn.months=U.fn.month,U.fn.weeks=U.fn.week,U.fn.isoWeeks=U.fn.isoWeek,U.fn.quarters=U.fn.quarter,U.fn.toJSON=U.fn.toISOString,U.fn.isUTC=U.fn.isUtc,ot(U.duration.fn=V.prototype,{_bubble:function(){var e,s,u,N=this._milliseconds,H=this._days,dt=this._months,gt=this._data,Ct=0;gt.milliseconds=N%1e3,e=h(N/1e3),gt.seconds=e%60,s=h(e/60),gt.minutes=s%60,u=h(s/60),gt.hours=u%24,H+=h(u/24),Ct=h(qt(H)),H-=h(Kt(Ct)),dt+=h(H/30),H%=30,Ct+=h(dt/12),dt%=12,gt.days=H,gt.months=dt,gt.years=Ct},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*j(this._months/12)},humanize:function(e){var s=yt(this,!e,this.localeData());return e&&(s=this.localeData().pastFuture(+this,s)),this.localeData().postformat(s)},add:function(e,s){var u=U.duration(e,s);return this._milliseconds+=u._milliseconds,this._days+=u._days,this._months+=u._months,this._bubble(),this},subtract:function(e,s){var u=U.duration(e,s);return this._milliseconds-=u._milliseconds,this._days-=u._days,this._months-=u._months,this._bubble(),this},get:function(e){return e=rt(e),this[e.toLowerCase()+"s"]()},as:function(e){var s,u;if(e=rt(e),e==="month"||e==="year")return s=this._days+this._milliseconds/864e5,u=this._months+12*qt(s),e==="month"?u:u/12;switch(s=this._days+Math.round(Kt(this._months/12)),e){case"week":return s/7+this._milliseconds/6048e5;case"day":return s+this._milliseconds/864e5;case"hour":return 24*s+this._milliseconds/36e5;case"minute":return 24*s*60+this._milliseconds/6e4;case"second":return 24*s*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*s*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:U.fn.lang,locale:U.fn.locale,toIsoString:r("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),s=Math.abs(this.months()),u=Math.abs(this.days()),N=Math.abs(this.hours()),H=Math.abs(this.minutes()),dt=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(N||H||dt?"T":"")+(N?N+"H":"")+(H?H+"M":"")+(dt?dt+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),U.duration.fn.toString=U.duration.fn.toISOString;for(Tt in ge)st(ge,Tt)&&Zt(Tt.toLowerCase());U.duration.fn.asMilliseconds=function(){return this.as("ms")},U.duration.fn.asSeconds=function(){return this.as("s")},U.duration.fn.asMinutes=function(){return this.as("m")},U.duration.fn.asHours=function(){return this.as("h")},U.duration.fn.asDays=function(){return this.as("d")},U.duration.fn.asWeeks=function(){return this.as("weeks")},U.duration.fn.asMonths=function(){return this.as("M")},U.duration.fn.asYears=function(){return this.as("y")},U.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var s=e%10,u=j(e%100/10)===1?"th":s===1?"st":s===2?"nd":s===3?"rd":"th";return e+u}}),se?te.exports=U:typeof define=="function"&&define.amd?(define(function(e,s,u){return u.config&&u.config()&&u.config().noGlobal===!0&&(Jt.moment=ie),U}),Qt(!0)):Qt()}).call(globalThis),function(n,W){if(typeof define=="function"&&define.amd)define(["moment","jquery","exports"],function(K,r,i){n.daterangepicker=W(n,i,K,r)});else if(typeof ue<"u"){var st,ht=require("moment");try{st=require("jquery")}catch{if(st=window.jQuery,!st)throw new Error("jQuery dependency not found")}W(n,ue,ht,st)}else n.daterangepicker=W(n,{},n.moment,n.jQuery||n.Zepto||n.ender||n.$)}(globalThis,function(n,W,st,ht){var K=function(r,i,a){this.parentEl="body",this.element=ht(r),this.isShowing=!1;var w='<div class="daterangepicker dropdown-menu"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>';(typeof i!="object"||i===null)&&(i={}),this.parentEl=ht(typeof i=="object"&&i.parentEl&&ht(i.parentEl).length?i.parentEl:this.parentEl),this.container=ht(w).appendTo(this.parentEl),this.setOptions(i,a);var l=this.container;ht.each(this.buttonClasses,function(D,q){l.find("button").addClass(q)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",ht.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",ht.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",ht.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",ht.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",ht.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",ht.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",ht.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",ht.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",ht.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",ht.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",ht.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",ht.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",ht.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",ht.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",ht.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",ht.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":ht.proxy(this.show,this),"focus.daterangepicker":ht.proxy(this.show,this),"keyup.daterangepicker":ht.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",ht.proxy(this.toggle,this))};K.prototype={constructor:K,setOptions:function(r,i){if(this.startDate=st().startOf("day"),this.endDate=st().endOf("day"),this.timeZone=st().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:st.weekdaysMin(),monthNames:st.monthsShort(),firstDay:st.localeData()._week.dow},this.cb=function(){},typeof r.format=="string"&&(this.format=r.format),typeof r.separator=="string"&&(this.separator=r.separator),typeof r.startDate=="string"&&(this.startDate=st(r.startDate,this.format)),typeof r.endDate=="string"&&(this.endDate=st(r.endDate,this.format)),typeof r.minDate=="string"&&(this.minDate=st(r.minDate,this.format)),typeof r.maxDate=="string"&&(this.maxDate=st(r.maxDate,this.format)),typeof r.startDate=="object"&&(this.startDate=st(r.startDate)),typeof r.endDate=="object"&&(this.endDate=st(r.endDate)),typeof r.minDate=="object"&&(this.minDate=st(r.minDate)),typeof r.maxDate=="object"&&(this.maxDate=st(r.maxDate)),typeof r.applyClass=="string"&&(this.applyClass=r.applyClass),typeof r.cancelClass=="string"&&(this.cancelClass=r.cancelClass),typeof r.dateLimit=="object"&&(this.dateLimit=r.dateLimit),typeof r.locale=="object"&&(typeof r.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=r.locale.daysOfWeek.slice()),typeof r.locale.monthNames=="object"&&(this.locale.monthNames=r.locale.monthNames.slice()),typeof r.locale.firstDay=="number"&&(this.locale.firstDay=r.locale.firstDay),typeof r.locale.applyLabel=="string"&&(this.locale.applyLabel=r.locale.applyLabel),typeof r.locale.cancelLabel=="string"&&(this.locale.cancelLabel=r.locale.cancelLabel),typeof r.locale.fromLabel=="string"&&(this.locale.fromLabel=r.locale.fromLabel),typeof r.locale.toLabel=="string"&&(this.locale.toLabel=r.locale.toLabel),typeof r.locale.weekLabel=="string"&&(this.locale.weekLabel=r.locale.weekLabel),typeof r.locale.customRangeLabel=="string"&&(this.locale.customRangeLabel=r.locale.customRangeLabel)),typeof r.opens=="string"&&(this.opens=r.opens),typeof r.showWeekNumbers=="boolean"&&(this.showWeekNumbers=r.showWeekNumbers),typeof r.buttonClasses=="string"&&(this.buttonClasses=[r.buttonClasses]),typeof r.buttonClasses=="object"&&(this.buttonClasses=r.buttonClasses),typeof r.showDropdowns=="boolean"&&(this.showDropdowns=r.showDropdowns),typeof r.singleDatePicker=="boolean"&&(this.singleDatePicker=r.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof r.timePicker=="boolean"&&(this.timePicker=r.timePicker),typeof r.timePickerSeconds=="boolean"&&(this.timePickerSeconds=r.timePickerSeconds),typeof r.timePickerIncrement=="number"&&(this.timePickerIncrement=r.timePickerIncrement),typeof r.timePicker12Hour=="boolean"&&(this.timePicker12Hour=r.timePicker12Hour),this.locale.firstDay!=0)for(var a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;var w,l,D;if(typeof r.startDate>"u"&&typeof r.endDate>"u"&&ht(this.element).is("input[type=text]")){var q=ht(this.element).val(),R=q.split(this.separator);w=l=null,R.length==2?(w=st(R[0],this.format),l=st(R[1],this.format)):this.singleDatePicker&&q!==""&&(w=st(q,this.format),l=st(q,this.format)),w!==null&&l!==null&&(this.startDate=w,this.endDate=l)}if(typeof r.timeZone=="string"||typeof r.timeZone=="number"?(this.timeZone=r.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=st(this.startDate).utcOffset(),typeof r.ranges=="object"){for(D in r.ranges)w=typeof r.ranges[D][0]=="string"?st(r.ranges[D][0],this.format):st(r.ranges[D][0]),l=typeof r.ranges[D][1]=="string"?st(r.ranges[D][1],this.format):st(r.ranges[D][1]),this.minDate&&w.isBefore(this.minDate)&&(w=st(this.minDate)),this.maxDate&&l.isAfter(this.maxDate)&&(l=st(this.maxDate)),this.minDate&&l.isBefore(this.minDate)||this.maxDate&&w.isAfter(this.maxDate)||(this.ranges[D]=[w,l]);var V="<ul>";for(D in this.ranges)V+="<li>"+D+"</li>";V+="<li>"+this.locale.customRangeLabel+"</li>",V+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(V)}if(typeof i=="function"&&(this.cb=i),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:st([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]},this.rightCalendar={month:st([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]},this.opens=="right"||this.opens=="center"){var ot=this.container.find(".calendar.first"),Z=this.container.find(".calendar.second");Z.hasClass("single")&&(Z.removeClass("single"),ot.addClass("single")),ot.removeClass("left").addClass("right"),Z.removeClass("right").addClass("left"),this.singleDatePicker&&(ot.show(),Z.hide())}typeof r.ranges<"u"||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(r){typeof r=="string"&&(this.startDate=st(r,this.format).utcOffset(this.timeZone)),typeof r=="object"&&(this.startDate=st(r)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(r){typeof r=="string"&&(this.endDate=st(r,this.format).utcOffset(this.timeZone)),typeof r=="object"&&(this.endDate=st(r)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var r=this.element.val().split(this.separator),i=null,a=null;r.length===2&&(i=st(r[0],this.format).utcOffset(this.timeZone),a=st(r[1],this.format).utcOffset(this.timeZone)),(this.singleDatePicker||i===null||a===null)&&(i=st(this.element.val(),this.format).utcOffset(this.timeZone),a=i),a.isBefore(i)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=i,this.endDate=a,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var r={top:0,left:0},i=ht(window).width();this.parentEl.is("body")||(r={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),this.opens=="left"?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-r.top,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):this.opens=="center"?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-r.top,left:this.element.offset().left-r.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-r.top,left:this.element.offset().left-r.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>ht(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(){this.element.hasClass("active")?this.hide():this.show()},show:function(){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=ht.proxy(function(r){this.outsideClick(r)},this),ht(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(r){var i=ht(r.target);r.type=="focusin"||i.closest(this.element).length||i.closest(this.container).length||i.closest(".calendar-date").length||this.hide()},hide:function(){this.isShowing&&(ht(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(r){var i=r.target.innerHTML;if(i==this.locale.customRangeLabel)this.updateView();else{var a=this.ranges[i];this.container.find("input[name=daterangepicker_start]").val(a[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(a[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(r){var i=ht(r.target),a=st(i.val(),this.format);if(a.isValid()){var w,l;i.attr("name")==="daterangepicker_start"?(w=this.minDate!==!1&&a.isBefore(this.minDate)?this.minDate:a,l=this.endDate):(w=this.startDate,l=this.maxDate!==!1&&a.isAfter(this.maxDate)?this.maxDate:a),this.setCustomDates(w,l)}},inputsKeydown:function(r){r.keyCode===13&&(this.inputsChanged(r),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?(this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)),this.element.trigger("change")):this.element.is("input")&&(this.element.val(this.endDate.format(this.format)),this.element.trigger("change"))},clickRange:function(r){var i=r.target.innerHTML;if(this.chosenLabel=i,i==this.locale.customRangeLabel)this.showCalendars();else{var a=this.ranges[i];this.startDate=a[0],this.endDate=a[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(r){var i=ht(r.target).parents(".calendar");i.hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(r){var i=ht(r.target).parents(".calendar");i.hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(r){var i=ht(r.target).attr("data-title"),a=i.substr(1,1),w=i.substr(3,1),l=ht(r.target).parents(".calendar");l.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[a][w].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[a][w].format(this.format))},setCustomDates:function(r,i){if(this.chosenLabel=this.locale.customRangeLabel,r.isAfter(i)){var a=this.endDate.diff(this.startDate);i=st(r).add(a,"ms"),this.maxDate&&i.isAfter(this.maxDate)&&(i=this.maxDate)}this.startDate=r,this.endDate=i,this.updateView(),this.updateCalendars()},clickDate:function(r){var i,a,w=ht(r.target).attr("data-title"),l=w.substr(1,1),D=w.substr(3,1),q=ht(r.target).parents(".calendar");if(q.hasClass("left")){if(i=this.leftCalendar.calendar[l][D],a=this.endDate,typeof this.dateLimit=="object"){var R=st(i).add(this.dateLimit).startOf("day");a.isAfter(R)&&(a=R)}}else if(i=this.startDate,a=this.rightCalendar.calendar[l][D],typeof this.dateLimit=="object"){var V=st(a).subtract(this.dateLimit).startOf("day");i.isBefore(V)&&(i=V)}this.singleDatePicker&&q.hasClass("left")?a=i.clone():this.singleDatePicker&&q.hasClass("right")&&(i=a.clone()),q.find("td").removeClass("active"),ht(r.target).addClass("active"),this.setCustomDates(i,a),this.timePicker||a.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(r){var i=ht(r.target).closest(".calendar").hasClass("left"),a=i?"left":"right",w=this.container.find(".calendar."+a),l=parseInt(w.find(".monthselect").val(),10),D=w.find(".yearselect").val();i||this.singleDatePicker||(D<this.startDate.year()||D==this.startDate.year()&&l<this.startDate.month())&&(l=this.startDate.month(),D=this.startDate.year()),this.minDate&&(D<this.minDate.year()||D==this.minDate.year()&&l<this.minDate.month())&&(l=this.minDate.month(),D=this.minDate.year()),this.maxDate&&(D>this.maxDate.year()||D==this.maxDate.year()&&l>this.maxDate.month())&&(l=this.maxDate.month(),D=this.maxDate.year()),this[a+"Calendar"].month.month(l).year(D),this.updateCalendars()},updateTime:function(r){var i=ht(r.target).closest(".calendar"),a=i.hasClass("left"),w=parseInt(i.find(".hourselect").val(),10),l=parseInt(i.find(".minuteselect").val(),10),D=0;if(this.timePickerSeconds&&(D=parseInt(i.find(".secondselect").val(),10)),this.timePicker12Hour){var q=i.find(".ampmselect").val();q==="PM"&&12>w&&(w+=12),q==="AM"&&w===12&&(w=0)}if(a){var R=this.startDate.clone();R.hour(w),R.minute(l),R.second(D),this.startDate=R,this.leftCalendar.month.hour(w).minute(l).second(D),this.singleDatePicker&&(this.endDate=R.clone())}else{var V=this.endDate.clone();V.hour(w),V.minute(l),V.second(D),this.endDate=V,this.singleDatePicker&&(this.startDate=V.clone()),this.rightCalendar.month.hour(w).minute(l).second(D)}this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var r=!0,i=0;for(var a in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[a][0])&&this.endDate.isSame(this.ranges[a][1])&&(r=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[a][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[a][1].format("YYYY-MM-DD")&&(r=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html()),i++;r&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(r,i,a,w,l,D){var q,R=st([i,r]).daysInMonth(),V=st([i,r,1]),ot=st([i,r,R]),Z=st(V).subtract(1,"month").month(),h=st(V).subtract(1,"month").year(),m=st([h,Z]).daysInMonth(),T=V.day(),z=[];for(z.firstDay=V,z.lastDay=ot,q=0;6>q;q++)z[q]=[];var p=m-T+this.locale.firstDay+1;p>m&&(p-=7),T==this.locale.firstDay&&(p=m-6);var x,Y,B=st([h,Z,p,12,w,l]).utcOffset(this.timeZone);for(q=0,x=0,Y=0;42>q;q++,x++,B=st(B).add(24,"hour"))q>0&&x%7===0&&(x=0,Y++),z[Y][x]=B.clone().hour(a),B.hour(12),this.minDate&&z[Y][x].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&z[Y][x].isBefore(this.minDate)&&D=="left"&&(z[Y][x]=this.minDate.clone()),this.maxDate&&z[Y][x].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&z[Y][x].isAfter(this.maxDate)&&D=="right"&&(z[Y][x]=this.maxDate.clone());return z},renderDropdowns:function(r,i,a){for(var w=r.month(),l=r.year(),D=a&&a.year()||l+5,q=i&&i.year()||l-50,R='<select class="monthselect">',V=l==q,ot=l==D,Z=0;12>Z;Z++)(!V||Z>=i.month())&&(!ot||Z<=a.month())&&(R+="<option value='"+Z+"'"+(Z===w?" selected='selected'":"")+">"+this.locale.monthNames[Z]+"</option>");R+="</select>";for(var h='<select class="yearselect">',m=q;D>=m;m++)h+='<option value="'+m+'"'+(m===l?' selected="selected"':"")+">"+m+"</option>";return h+="</select>",R+h},renderCalendar:function(r,i,a,w,l){var D='<div class="calendar-date">';D+='<table class="table-condensed">',D+="<thead>",D+="<tr>",this.showWeekNumbers&&(D+="<th></th>"),D+=!a||a.isBefore(r.firstDay)?'<th class="prev available"><i class="fa fa-arrow-left icon icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':"<th></th>";var q=this.locale.monthNames[r[1][1].month()]+r[1][1].format(" YYYY");this.showDropdowns&&(q=this.renderDropdowns(r[1][1],a,w)),D+='<th colspan="5" class="month">'+q+"</th>",D+=!w||w.isAfter(r.lastDay)?'<th class="next available"><i class="fa fa-arrow-right icon icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':"<th></th>",D+="</tr>",D+="<tr>",this.showWeekNumbers&&(D+='<th class="week">'+this.locale.weekLabel+"</th>"),ht.each(this.locale.daysOfWeek,function(mt,j){D+="<th>"+j+"</th>"}),D+="</tr>",D+="</thead>",D+="<tbody>";for(var R=0;6>R;R++){D+="<tr>",this.showWeekNumbers&&(D+='<td class="week">'+r[R][0].week()+"</td>");for(var V=0;7>V;V++){var ot="available ";ot+=r[R][V].month()==r[1][1].month()?"":"off",a&&r[R][V].isBefore(a,"day")||w&&r[R][V].isAfter(w,"day")?ot=" off disabled ":r[R][V].format("YYYY-MM-DD")==i.format("YYYY-MM-DD")?(ot+=" active ",r[R][V].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(ot+=" start-date "),r[R][V].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(ot+=" end-date ")):r[R][V]>=this.startDate&&r[R][V]<=this.endDate&&(ot+=" in-range ",r[R][V].isSame(this.startDate)&&(ot+=" start-date "),r[R][V].isSame(this.endDate)&&(ot+=" end-date "));var Z="r"+R+"c"+V;D+='<td class="'+ot.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+Z+'">'+r[R][V].date()+"</td>"}D+="</tr>"}D+="</tbody>",D+="</table>",D+="</div>";var h;if(this.timePicker){D+='<div class="calendar-time">',D+='<select class="hourselect">';var m=0,T=23;a&&(l=="left"||this.singleDatePicker)&&i.format("YYYY-MM-DD")==a.format("YYYY-MM-DD")&&(m=a.hour(),i.hour()<m&&i.hour(m),this.timePicker12Hour&&m>=12&&i.hour()>=12&&(m-=12),this.timePicker12Hour&&m==12&&(m=1)),w&&(l=="right"||this.singleDatePicker)&&i.format("YYYY-MM-DD")==w.format("YYYY-MM-DD")&&(T=w.hour(),i.hour()>T&&i.hour(T),this.timePicker12Hour&&T>=12&&i.hour()>=12&&(T-=12));var z=0,p=23,x=i.hour();for(this.timePicker12Hour&&(z=1,p=12,x>=12&&(x-=12),x===0&&(x=12)),h=z;p>=h;h++)D+=h==x?'<option value="'+h+'" selected="selected">'+h+"</option>":m>h||h>T?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>";D+="</select> : ",D+='<select class="minuteselect">';var Y=0,B=59;for(a&&(l=="left"||this.singleDatePicker)&&i.format("YYYY-MM-DD h A")==a.format("YYYY-MM-DD h A")&&(Y=a.minute(),i.minute()<Y&&i.minute(Y)),w&&(l=="right"||this.singleDatePicker)&&i.format("YYYY-MM-DD h A")==w.format("YYYY-MM-DD h A")&&(B=w.minute(),i.minute()>B&&i.minute(B)),h=0;60>h;h+=this.timePickerIncrement){var J=h;10>J&&(J="0"+J),D+=h==i.minute()?'<option value="'+h+'" selected="selected">'+J+"</option>":Y>h||h>B?'<option value="'+h+'" disabled="disabled" class="disabled">'+J+"</option>":'<option value="'+h+'">'+J+"</option>"}if(D+="</select> ",this.timePickerSeconds){for(D+=': <select class="secondselect">',h=0;60>h;h+=this.timePickerIncrement){var J=h;10>J&&(J="0"+J),D+=h==i.second()?'<option value="'+h+'" selected="selected">'+J+"</option>":'<option value="'+h+'">'+J+"</option>"}D+="</select>"}if(this.timePicker12Hour){D+='<select class="ampmselect">';var rt="",it="";a&&(l=="left"||this.singleDatePicker)&&i.format("YYYY-MM-DD")==a.format("YYYY-MM-DD")&&a.hour()>=12&&(rt=' disabled="disabled" class="disabled"'),w&&(l=="right"||this.singleDatePicker)&&i.format("YYYY-MM-DD")==w.format("YYYY-MM-DD")&&w.hour()<12&&(it=' disabled="disabled" class="disabled"'),D+=i.hour()>=12?'<option value="AM"'+rt+'>AM</option><option value="PM" selected="selected"'+it+">PM</option>":'<option value="AM" selected="selected"'+rt+'>AM</option><option value="PM"'+it+">PM</option>",D+="</select>"}D+="</div>"}return D},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},ht.fn.daterangepicker=function(r,i){return this.each(function(){var a=ht(this);a.data("daterangepicker")&&a.data("daterangepicker").remove(),a.data("daterangepicker",new K(a,r,i))}),this}}),jQuery&&function(n){function W(p,x){var Y=n('<div class="minicolors" />'),B=n.minicolors.defaults;p.data("minicolors-initialized")||(x=n.extend(!0,{},B,x),Y.addClass("minicolors-theme-"+x.theme).toggleClass("minicolors-with-opacity",x.opacity).toggleClass("minicolors-no-data-uris",x.dataUris!==!0),x.position!==void 0&&n.each(x.position.split(" "),function(){Y.addClass("minicolors-position-"+this)}),p.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",x).prop("size",7).wrap(Y).after('<div class="minicolors-panel minicolors-slider-'+x.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),x.inline||(p.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),p.next(".minicolors-swatch").on("click",function(J){J.preventDefault(),p.focus()})),p.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),x.inline&&p.parent().addClass("minicolors-inline"),a(p,!1),p.data("minicolors-initialized",!0))}function st(p){var x=p.parent();p.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),x.before(p).remove()}function ht(p){var x=p.parent(),Y=x.find(".minicolors-panel"),B=p.data("minicolors-settings");!p.data("minicolors-initialized")||p.prop("disabled")||x.hasClass("minicolors-inline")||x.hasClass("minicolors-focus")||(K(),x.addClass("minicolors-focus"),Y.stop(!0,!0).fadeIn(B.showSpeed,function(){B.show&&B.show.call(p.get(0))}))}function K(){n(".minicolors-focus").each(function(){var p=n(this),x=p.find(".minicolors-input"),Y=p.find(".minicolors-panel"),B=x.data("minicolors-settings");Y.fadeOut(B.hideSpeed,function(){B.hide&&B.hide.call(x.get(0)),p.removeClass("minicolors-focus")})})}function r(p,x,Y){var B,J,rt,it,mt=p.parents(".minicolors").find(".minicolors-input"),j=mt.data("minicolors-settings"),E=p.find("[class$=-picker]"),v=p.offset().left,P=p.offset().top,g=Math.round(x.pageX-v),S=Math.round(x.pageY-P),_=Y?j.animationSpeed:0;x.originalEvent.changedTouches&&(g=x.originalEvent.changedTouches[0].pageX-v,S=x.originalEvent.changedTouches[0].pageY-P),0>g&&(g=0),0>S&&(S=0),g>p.width()&&(g=p.width()),S>p.height()&&(S=p.height()),p.parent().is(".minicolors-slider-wheel")&&E.parent().is(".minicolors-grid")&&(B=75-g,J=75-S,rt=Math.sqrt(B*B+J*J),it=Math.atan2(J,B),0>it&&(it+=2*Math.PI),rt>75&&(rt=75,g=75-75*Math.cos(it),S=75-75*Math.sin(it)),g=Math.round(g),S=Math.round(S)),p.is(".minicolors-grid")?E.stop(!0).animate({top:S+"px",left:g+"px"},_,j.animationEasing,function(){i(mt,p)}):E.stop(!0).animate({top:S+"px"},_,j.animationEasing,function(){i(mt,p)})}function i(p,x){function Y(f,M){var $,I;return f.length&&M?($=f.offset().left,I=f.offset().top,{x:$-M.offset().left+f.outerWidth()/2,y:I-M.offset().top+f.outerHeight()/2}):null}var B,J,rt,it,mt,j,E,v=p.val(),P=p.attr("data-opacity"),g=p.parent(),S=p.data("minicolors-settings"),_=g.find(".minicolors-swatch"),k=g.find(".minicolors-grid"),O=g.find(".minicolors-slider"),at=g.find(".minicolors-opacity-slider"),A=k.find("[class$=-picker]"),tt=O.find("[class$=-picker]"),d=at.find("[class$=-picker]"),t=Y(A,k),o=Y(tt,O),c=Y(d,at);if(x.is(".minicolors-grid, .minicolors-slider")){switch(S.control){case"wheel":it=k.width()/2-t.x,mt=k.height()/2-t.y,j=Math.sqrt(it*it+mt*mt),E=Math.atan2(mt,it),0>E&&(E+=2*Math.PI),j>75&&(j=75,t.x=69-75*Math.cos(E),t.y=69-75*Math.sin(E)),J=V(j/.75,0,100),B=V(180*E/Math.PI,0,360),rt=V(100-Math.floor(o.y*(100/O.height())),0,100),v=h({h:B,s:J,b:rt}),O.css("backgroundColor",h({h:B,s:J,b:100}));break;case"saturation":B=V(parseInt(t.x*(360/k.width()),10),0,360),J=V(100-Math.floor(o.y*(100/O.height())),0,100),rt=V(100-Math.floor(t.y*(100/k.height())),0,100),v=h({h:B,s:J,b:rt}),O.css("backgroundColor",h({h:B,s:100,b:rt})),g.find(".minicolors-grid-inner").css("opacity",J/100);break;case"brightness":B=V(parseInt(t.x*(360/k.width()),10),0,360),J=V(100-Math.floor(t.y*(100/k.height())),0,100),rt=V(100-Math.floor(o.y*(100/O.height())),0,100),v=h({h:B,s:J,b:rt}),O.css("backgroundColor",h({h:B,s:J,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-rt/100);break;default:B=V(360-parseInt(o.y*(360/O.height()),10),0,360),J=V(Math.floor(t.x*(100/k.width())),0,100),rt=V(100-Math.floor(t.y*(100/k.height())),0,100),v=h({h:B,s:J,b:rt}),k.css("backgroundColor",h({h:B,s:100,b:100}))}p.val(q(v,S.letterCase))}x.is(".minicolors-opacity-slider")&&(P=S.opacity?parseFloat(1-c.y/at.height()).toFixed(2):1,S.opacity&&p.attr("data-opacity",P)),_.find("SPAN").css({backgroundColor:v,opacity:P}),w(p,v,P)}function a(p,x){var Y,B,J,rt,it,mt,j,E=p.parent(),v=p.data("minicolors-settings"),P=E.find(".minicolors-swatch"),g=E.find(".minicolors-grid"),S=E.find(".minicolors-slider"),_=E.find(".minicolors-opacity-slider"),k=g.find("[class$=-picker]"),O=S.find("[class$=-picker]"),at=_.find("[class$=-picker]");switch(Y=q(R(p.val(),!0),v.letterCase),Y||(Y=q(R(v.defaultValue,!0),v.letterCase)),B=m(Y),x||p.val(Y),v.opacity&&(J=p.attr("data-opacity")===""?1:V(parseFloat(p.attr("data-opacity")).toFixed(2),0,1),isNaN(J)&&(J=1),p.attr("data-opacity",J),P.find("SPAN").css("opacity",J),it=V(_.height()-_.height()*J,0,_.height()),at.css("top",it+"px")),P.find("SPAN").css("backgroundColor",Y),v.control){case"wheel":mt=V(Math.ceil(.75*B.s),0,g.height()/2),j=B.h*Math.PI/180,rt=V(75-Math.cos(j)*mt,0,g.width()),it=V(75-Math.sin(j)*mt,0,g.height()),k.css({top:it+"px",left:rt+"px"}),it=150-B.b/(100/g.height()),Y===""&&(it=0),O.css("top",it+"px"),S.css("backgroundColor",h({h:B.h,s:B.s,b:100}));break;case"saturation":rt=V(5*B.h/12,0,150),it=V(g.height()-Math.ceil(B.b/(100/g.height())),0,g.height()),k.css({top:it+"px",left:rt+"px"}),it=V(S.height()-B.s*(S.height()/100),0,S.height()),O.css("top",it+"px"),S.css("backgroundColor",h({h:B.h,s:100,b:B.b})),E.find(".minicolors-grid-inner").css("opacity",B.s/100);break;case"brightness":rt=V(5*B.h/12,0,150),it=V(g.height()-Math.ceil(B.s/(100/g.height())),0,g.height()),k.css({top:it+"px",left:rt+"px"}),it=V(S.height()-B.b*(S.height()/100),0,S.height()),O.css("top",it+"px"),S.css("backgroundColor",h({h:B.h,s:B.s,b:100})),E.find(".minicolors-grid-inner").css("opacity",1-B.b/100);break;default:rt=V(Math.ceil(B.s/(100/g.width())),0,g.width()),it=V(g.height()-Math.ceil(B.b/(100/g.height())),0,g.height()),k.css({top:it+"px",left:rt+"px"}),it=V(S.height()-B.h/(360/S.height()),0,S.height()),O.css("top",it+"px"),g.css("backgroundColor",h({h:B.h,s:100,b:100}))}p.data("minicolors-initialized")&&w(p,Y,J)}function w(p,x,Y){var B=p.data("minicolors-settings"),J=p.data("minicolors-lastChange");J&&J.hex===x&&J.opacity===Y||(p.data("minicolors-lastChange",{hex:x,opacity:Y}),B.change&&(B.changeDelay?(clearTimeout(p.data("minicolors-changeTimeout")),p.data("minicolors-changeTimeout",setTimeout(function(){B.change.call(p.get(0),x,Y)},B.changeDelay))):B.change.call(p.get(0),x,Y)),p.trigger("change").trigger("input"))}function l(p){var x=R(n(p).val(),!0),Y=z(x),B=n(p).attr("data-opacity");return Y?(B!==void 0&&n.extend(Y,{a:parseFloat(B)}),Y):null}function D(p,x){var Y=R(n(p).val(),!0),B=z(Y),J=n(p).attr("data-opacity");return B?(J===void 0&&(J=1),x?"rgba("+B.r+", "+B.g+", "+B.b+", "+parseFloat(J)+")":"rgb("+B.r+", "+B.g+", "+B.b+")"):null}function q(p,x){return x==="uppercase"?p.toUpperCase():p.toLowerCase()}function R(p,x){return p=p.replace(/[^A-F0-9]/gi,""),p.length!==3&&p.length!==6?"":(p.length===3&&x&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),"#"+p)}function V(p,x,Y){return x>p&&(p=x),p>Y&&(p=Y),p}function ot(p){var x={},Y=Math.round(p.h),B=Math.round(255*p.s/100),J=Math.round(255*p.b/100);if(B===0)x.r=x.g=x.b=J;else{var rt=J,it=(255-B)*J/255,mt=(rt-it)*(Y%60)/60;Y===360&&(Y=0),60>Y?(x.r=rt,x.b=it,x.g=it+mt):120>Y?(x.g=rt,x.b=it,x.r=rt-mt):180>Y?(x.g=rt,x.r=it,x.b=it+mt):240>Y?(x.b=rt,x.r=it,x.g=rt-mt):300>Y?(x.b=rt,x.g=it,x.r=it+mt):360>Y?(x.r=rt,x.g=it,x.b=rt-mt):(x.r=0,x.g=0,x.b=0)}return{r:Math.round(x.r),g:Math.round(x.g),b:Math.round(x.b)}}function Z(p){var x=[p.r.toString(16),p.g.toString(16),p.b.toString(16)];return n.each(x,function(Y,B){B.length===1&&(x[Y]="0"+B)}),"#"+x.join("")}function h(p){return Z(ot(p))}function m(p){var x=T(z(p));return x.s===0&&(x.h=360),x}function T(p){var x={h:0,s:0,b:0},Y=Math.min(p.r,p.g,p.b),B=Math.max(p.r,p.g,p.b),J=B-Y;return x.b=B,x.s=B!==0?255*J/B:0,x.h=x.s!==0?p.r===B?(p.g-p.b)/J:p.g===B?2+(p.b-p.r)/J:4+(p.r-p.g)/J:-1,x.h*=60,x.h<0&&(x.h+=360),x.s*=100/255,x.b*=100/255,x}function z(p){return p=parseInt(p.indexOf("#")>-1?p.substring(1):p,16),{r:p>>16,g:(65280&p)>>8,b:255&p}}n.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},n.extend(n.fn,{minicolors:function(p,x){switch(p){case"destroy":return n(this).each(function(){st(n(this))}),n(this);case"hide":return K(),n(this);case"opacity":return x===void 0?n(this).attr("data-opacity"):(n(this).each(function(){a(n(this).attr("data-opacity",x))}),n(this));case"rgbObject":return l(n(this));case"rgbString":case"rgbaString":return D(n(this),p==="rgbaString");case"settings":return x===void 0?n(this).data("minicolors-settings"):(n(this).each(function(){var Y=n(this).data("minicolors-settings")||{};st(n(this)),n(this).minicolors(n.extend(!0,Y,x))}),n(this));case"show":return ht(n(this).eq(0)),n(this);case"value":return x===void 0?n(this).val():(n(this).each(function(){a(n(this).val(x))}),n(this));default:return p!=="create"&&(x=p),n(this).each(function(){W(n(this),x)}),n(this)}}}),n(document).on("mousedown.minicolors touchstart.minicolors",function(p){n(p.target).parents().add(p.target).hasClass("minicolors")||K()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(p){var x=n(this);p.preventDefault(),n(document).data("minicolors-target",x),r(x,p,!0)}).on("mousemove.minicolors touchmove.minicolors",function(p){var x=n(document).data("minicolors-target");x&&r(x,p)}).on("mouseup.minicolors touchend.minicolors",function(){n(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(p){var x=n(this).parent().find(".minicolors-input");p.preventDefault(),ht(x)}).on("focus.minicolors",".minicolors-input",function(){var p=n(this);p.data("minicolors-initialized")&&ht(p)}).on("blur.minicolors",".minicolors-input",function(){var p=n(this),x=p.data("minicolors-settings");p.data("minicolors-initialized")&&(p.val(R(p.val(),!0)),p.val()===""&&p.val(R(x.defaultValue,!0)),p.val(q(p.val(),x.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(p){var x=n(this);if(x.data("minicolors-initialized"))switch(p.keyCode){case 9:K();break;case 13:case 27:K(),x.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var p=n(this);p.data("minicolors-initialized")&&a(p,!0)}).on("paste.minicolors",".minicolors-input",function(){var p=n(this);p.data("minicolors-initialized")&&setTimeout(function(){a(p,!0)},1)})}(jQuery),function(n){function W(K,r){return K+".touchspin_"+r}function st(K,r){return n.map(K,function(i){return W(i,r)})}var ht=0;n.fn.TouchSpin=function(K){if(K==="destroy")return void this.each(function(){var a=n(this),w=a.data();n(document).off(st(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],w.spinnerid).join(" "))});var r={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default"},i={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class"};return this.each(function(){function a(){if(!O.data("alreadyinitialized")){if(O.data("alreadyinitialized",!0),ht+=1,O.data("spinnerid",ht),!O.is("input"))return void console.log("Must be an input.");D(),w(),x(),V(),h(),m(),T(),z(),v.input.css("display","block")}}function w(){j.initval!==""&&O.val()===""&&O.val(j.initval)}function l(d){R(d),x();var t=v.input.val();t!==""&&(t=Number(v.input.val()),v.input.val(t.toFixed(j.decimals)))}function D(){j=n.extend({},r,at,q(),K)}function q(){var d={};return n.each(i,function(t,o){var c="bts-"+o;O.is("[data-"+c+"]")&&(d[t]=O.data(c))}),d}function R(d){j=n.extend({},j,d)}function V(){var d=O.val(),t=O.parent();d!==""&&(d=Number(d).toFixed(j.decimals)),O.data("initvalue",d).val(d),O.addClass("form-control"),t.hasClass("input-group")?ot(t):Z()}function ot(d){d.addClass("bootstrap-touchspin");var t,o,c=O.prev(),f=O.next(),M='<span class="input-group-addon bootstrap-touchspin-prefix">'+j.prefix+"</span>",$='<span class="input-group-addon bootstrap-touchspin-postfix">'+j.postfix+"</span>";c.hasClass("input-group-btn")?(t='<button class="'+j.buttondown_class+' bootstrap-touchspin-down" type="button">-</button>',c.append(t)):(t='<span class="input-group-btn"><button class="'+j.buttondown_class+' bootstrap-touchspin-down" type="button">-</button></span>',n(t).insertBefore(O)),f.hasClass("input-group-btn")?(o='<button class="'+j.buttonup_class+' bootstrap-touchspin-up" type="button">+</button>',f.prepend(o)):(o='<span class="input-group-btn"><button class="'+j.buttonup_class+' bootstrap-touchspin-up" type="button">+</button></span>',n(o).insertAfter(O)),n(M).insertBefore(O),n($).insertAfter(O),E=d}function Z(){var d;d=j.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+j.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+j.postfix+'</span><span class="input-group-btn-vertical"><button class="'+j.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+j.verticalupclass+'"></i></button><button class="'+j.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+j.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+j.buttondown_class+' bootstrap-touchspin-down" type="button">-</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+j.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+j.postfix+'</span><span class="input-group-btn"><button class="'+j.buttonup_class+' bootstrap-touchspin-up" type="button">+</button></span></div>',E=n(d).insertBefore(O),n(".bootstrap-touchspin-prefix",E).after(O),O.hasClass("input-sm")?E.addClass("input-group-sm"):O.hasClass("input-lg")&&E.addClass("input-group-lg")}function h(){v={down:n(".bootstrap-touchspin-down",E),up:n(".bootstrap-touchspin-up",E),input:n("input",E),prefix:n(".bootstrap-touchspin-prefix",E).addClass(j.prefix_extraclass),postfix:n(".bootstrap-touchspin-postfix",E).addClass(j.postfix_extraclass)}}function m(){j.prefix===""&&v.prefix.hide(),j.postfix===""&&v.postfix.hide()}function T(){O.on("keydown",function(d){var t=d.keyCode||d.which;t===38?(tt!=="up"&&(B(),it()),d.preventDefault()):t===40&&(tt!=="down"&&(J(),rt()),d.preventDefault())}),O.on("keyup",function(d){var t=d.keyCode||d.which;(t===38||t===40)&&mt()}),O.on("blur",function(){x()}),v.down.on("keydown",function(d){var t=d.keyCode||d.which;(t===32||t===13)&&(tt!=="down"&&(J(),rt()),d.preventDefault())}),v.down.on("keyup",function(d){var t=d.keyCode||d.which;(t===32||t===13)&&mt()}),v.up.on("keydown",function(d){var t=d.keyCode||d.which;(t===32||t===13)&&(tt!=="up"&&(B(),it()),d.preventDefault())}),v.up.on("keyup",function(d){var t=d.keyCode||d.which;(t===32||t===13)&&mt()}),v.down.on("mousedown.touchspin",function(d){v.down.off("touchstart.touchspin"),O.is(":disabled")||(J(),rt(),d.preventDefault(),d.stopPropagation())}),v.down.on("touchstart.touchspin",function(d){v.down.off("mousedown.touchspin"),O.is(":disabled")||(J(),rt(),d.preventDefault(),d.stopPropagation())}),v.up.on("mousedown.touchspin",function(d){v.up.off("touchstart.touchspin"),O.is(":disabled")||(B(),it(),d.preventDefault(),d.stopPropagation())}),v.up.on("touchstart.touchspin",function(d){v.up.off("mousedown.touchspin"),O.is(":disabled")||(B(),it(),d.preventDefault(),d.stopPropagation())}),v.up.on("mouseout touchleave touchend touchcancel",function(d){tt&&(d.stopPropagation(),mt())}),v.down.on("mouseout touchleave touchend touchcancel",function(d){tt&&(d.stopPropagation(),mt())}),v.down.on("mousemove touchmove",function(d){tt&&(d.stopPropagation(),d.preventDefault())}),v.up.on("mousemove touchmove",function(d){tt&&(d.stopPropagation(),d.preventDefault())}),n(document).on(st(["mouseup","touchend","touchcancel"],ht).join(" "),function(d){tt&&(d.preventDefault(),mt())}),n(document).on(st(["mousemove","touchmove","scroll","scrollstart"],ht).join(" "),function(d){tt&&(d.preventDefault(),mt())}),O.on("mousewheel DOMMouseScroll",function(d){if(j.mousewheel&&O.is(":focus")){var t=d.originalEvent.wheelDelta||-d.originalEvent.deltaY||-d.originalEvent.detail;d.stopPropagation(),d.preventDefault(),0>t?J():B()}})}function z(){O.on("touchspin.uponce",function(){mt(),B()}),O.on("touchspin.downonce",function(){mt(),J()}),O.on("touchspin.startupspin",function(){it()}),O.on("touchspin.startdownspin",function(){rt()}),O.on("touchspin.stopspin",function(){mt()}),O.on("touchspin.updatesettings",function(d,t){l(t)})}function p(d){switch(j.forcestepdivisibility){case"round":return(Math.round(d/j.step)*j.step).toFixed(j.decimals);case"floor":return(Math.floor(d/j.step)*j.step).toFixed(j.decimals);case"ceil":return(Math.ceil(d/j.step)*j.step).toFixed(j.decimals);default:return d}}function x(){var d,t,o;d=O.val(),d!==""&&(j.decimals>0&&d==="."||(t=parseFloat(d),isNaN(t)&&(t=0),o=t,t.toString()!==d&&(o=t),t<j.min&&(o=j.min),t>j.max&&(o=j.max),o=p(o),Number(d).toString()!==o.toString()&&(O.val(o),O.trigger("change"))))}function Y(){if(j.booster){var d=Math.pow(2,Math.floor(A/j.boostat))*j.step;return j.maxboostedstep&&d>j.maxboostedstep&&(d=j.maxboostedstep,P=Math.round(P/d)*d),Math.max(j.step,d)}return j.step}function B(){x(),P=parseFloat(v.input.val()),isNaN(P)&&(P=0);var d=P,t=Y();P+=t,P>j.max&&(P=j.max,O.trigger("touchspin.on.max"),mt()),v.input.val(Number(P).toFixed(j.decimals)),d!==P&&O.trigger("change")}function J(){x(),P=parseFloat(v.input.val()),isNaN(P)&&(P=0);var d=P,t=Y();P-=t,P<j.min&&(P=j.min,O.trigger("touchspin.on.min"),mt()),v.input.val(P.toFixed(j.decimals)),d!==P&&O.trigger("change")}function rt(){mt(),A=0,tt="down",O.trigger("touchspin.on.startspin"),O.trigger("touchspin.on.startdownspin"),_=setTimeout(function(){g=setInterval(function(){A++,J()},j.stepinterval)},j.stepintervaldelay)}function it(){mt(),A=0,tt="up",O.trigger("touchspin.on.startspin"),O.trigger("touchspin.on.startupspin"),k=setTimeout(function(){S=setInterval(function(){A++,B()},j.stepinterval)},j.stepintervaldelay)}function mt(){switch(clearTimeout(_),clearTimeout(k),clearInterval(g),clearInterval(S),tt){case"up":O.trigger("touchspin.on.stopupspin"),O.trigger("touchspin.on.stopspin");break;case"down":O.trigger("touchspin.on.stopdownspin"),O.trigger("touchspin.on.stopspin")}A=0,tt=!1}var j,E,v,P,g,S,_,k,O=n(this),at=O.data(),A=0,tt=!1;a()})}}(jQuery),function(n){typeof n.fn.each2>"u"&&n.extend(n.fn,{each2:function(W){for(var st=n([0]),ht=-1,K=this.length;++ht<K&&(st.context=st[0]=this[ht])&&W.call(st[0],ht,st)!==!1;);return this}})}(jQuery),function(n,W){function st(t){var o=n(document.createTextNode(""));t.before(o),o.before(t),o.remove()}function ht(t){function o(c){return d[c]||c}return t.replace(/[^\u0000-\u007E]/g,o)}function K(t,o){for(var c=0,f=o.length;f>c;c+=1)if(i(t,o[c]))return c;return-1}function r(){var t=n(tt);t.appendTo(document.body);var o={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),o}function i(t,o){return t===o?!0:t===W||o===W||t===null||o===null?!1:t.constructor===String?t+""==o+"":o.constructor===String?o+""==t+"":!1}function a(t,o,c){var f,M,$;if(t===null||t.length<1)return[];for(f=t.split(o),M=0,$=f.length;$>M;M+=1)f[M]=c(f[M]);return f}function w(t){return t.outerWidth(!1)-t.width()}function l(t){var o="keyup-change-value";t.on("keydown",function(){n.data(t,o)===W&&n.data(t,o,t.val())}),t.on("keyup",function(){var c=n.data(t,o);c!==W&&t.val()!==c&&(n.removeData(t,o),t.trigger("keyup-change"))})}function D(t){t.on("mousemove",function(o){var c=at;(c===W||c.x!==o.pageX||c.y!==o.pageY)&&n(o.target).trigger("mousemove-filtered",o)})}function q(t,o,c){c=c||W;var f;return function(){var M=arguments;window.clearTimeout(f),f=window.setTimeout(function(){o.apply(c,M)},t)}}function R(t,o){var c=q(t,function(f){o.trigger("scroll-debounced",f)});o.on("scroll",function(f){K(f.target,o.get())>=0&&c(f)})}function V(t){t[0]!==document.activeElement&&window.setTimeout(function(){var o,c=t[0],f=t.val().length;t.focus();var M=c.offsetWidth>0||c.offsetHeight>0;M&&c===document.activeElement&&(c.setSelectionRange?c.setSelectionRange(f,f):c.createTextRange&&(o=c.createTextRange(),o.collapse(!1),o.select()))},0)}function ot(t){t=n(t)[0];var o=0,c=0;if("selectionStart"in t)o=t.selectionStart,c=t.selectionEnd-o;else if("selection"in document){t.focus();var f=document.selection.createRange();c=document.selection.createRange().text.length,f.moveStart("character",-t.value.length),o=f.text.length-c}return{offset:o,length:c}}function Z(t){t.preventDefault(),t.stopPropagation()}function h(t){t.preventDefault(),t.stopImmediatePropagation()}function m(t){if(!_){var o=t[0].currentStyle||window.getComputedStyle(t[0],null);_=n(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:o.fontSize,fontFamily:o.fontFamily,fontStyle:o.fontStyle,fontWeight:o.fontWeight,letterSpacing:o.letterSpacing,textTransform:o.textTransform,whiteSpace:"nowrap"}),_.attr("class","select2-sizer"),n(document.body).append(_)}return _.text(t.val()),_.width()}function T(t,o,c){var f,M,$=[];f=n.trim(t.attr("class")),f&&(f=""+f,n(f.split(/\s+/)).each2(function(){this.indexOf("select2-")===0&&$.push(this)})),f=n.trim(o.attr("class")),f&&(f=""+f,n(f.split(/\s+/)).each2(function(){this.indexOf("select2-")!==0&&(M=c(this),M&&$.push(M))})),t.attr("class",$.join(" "))}function z(t,o,c,f){var M=ht(t.toUpperCase()).indexOf(ht(o.toUpperCase())),$=o.length;return 0>M?void c.push(f(t)):(c.push(f(t.substring(0,M))),c.push("<span class='select2-match'>"),c.push(f(t.substring(M,M+$))),c.push("</span>"),void c.push(f(t.substring(M+$,t.length))))}function p(t){var o={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(c){return o[c]})}function x(t){var o,c=null,f=t.quietMillis||100,M=t.url,$=this;return function(I){window.clearTimeout(o),o=window.setTimeout(function(){var nt=t.data,X=M,C=t.transport||n.fn.select2.ajaxDefaults.transport,F={type:t.type||"GET",cache:t.cache||!1,jsonpCallback:t.jsonpCallback||W,dataType:t.dataType||"json"},lt=n.extend({},n.fn.select2.ajaxDefaults.params,F);nt=nt?nt.call($,I.term,I.page,I.context):null,X=typeof X=="function"?X.call($,I.term,I.page,I.context):X,c&&typeof c.abort=="function"&&c.abort(),t.params&&(n.isFunction(t.params)?n.extend(lt,t.params.call($)):n.extend(lt,t.params)),n.extend(lt,{url:X,dataType:t.dataType,data:nt,success:function(b){var L=t.results(b,I.page,I);I.callback(L)},error:function(b,L,G){var Q={hasError:!0,jqXHR:b,textStatus:L,errorThrown:G};I.callback(Q)}}),c=C.call($,lt)},f)}}function Y(t){var o,c,f=t,M=function(I){return""+I.text};n.isArray(f)&&(c=f,f={results:c}),n.isFunction(f)===!1&&(c=f,f=function(){return c});var $=f();return $.text&&(M=$.text,n.isFunction(M)||(o=$.text,M=function(I){return I[o]})),function(I){var nt,X=I.term,C={results:[]};return X===""?void I.callback(f()):(nt=function(F,lt){var b,L;if(F=F[0],F.children){b={};for(L in F)F.hasOwnProperty(L)&&(b[L]=F[L]);b.children=[],n(F.children).each2(function(G,Q){nt(Q,b.children)}),(b.children.length||I.matcher(X,M(b),F))&&lt.push(b)}else I.matcher(X,M(F),F)&&lt.push(F)},n(f().results).each2(function(F,lt){nt(lt,C.results)}),void I.callback(C))}}function B(t){var o=n.isFunction(t);return function(c){var f=c.term,M={results:[]},$=o?t(c):t;n.isArray($)&&(n($).each(function(){var I=this.text!==W,nt=I?this.text:this;(f===""||c.matcher(f,nt))&&M.results.push(I?this:{id:this,text:this})}),c.callback(M))}}function J(t,o){if(n.isFunction(t))return!0;if(!t)return!1;if(typeof t=="string")return!0;throw new Error(o+" must be a string, function, or falsy value")}function rt(t,o){if(n.isFunction(t)){var c=Array.prototype.slice.call(arguments,2);return t.apply(o,c)}return t}function it(t){var o=0;return n.each(t,function(c,f){f.children?o+=it(f.children):o++}),o}function mt(t,o,c,f){var M,$,I,nt,X,C=t,F=!1;if(!f.createSearchChoice||!f.tokenSeparators||f.tokenSeparators.length<1)return W;for(;;){for($=-1,I=0,nt=f.tokenSeparators.length;nt>I&&(X=f.tokenSeparators[I],$=t.indexOf(X),!($>=0));I++);if(0>$)break;if(M=t.substring(0,$),t=t.substring($+X.length),M.length>0&&(M=f.createSearchChoice.call(this,M,o),M!==W&&M!==null&&f.id(M)!==W&&f.id(M)!==null)){for(F=!1,I=0,nt=o.length;nt>I;I++)if(i(f.id(M),f.id(o[I]))){F=!0;break}F||c(M)}}return C!==t?t:void 0}function j(){var t=this;n.each(arguments,function(o,c){t[c].remove(),t[c]=null})}function E(t,o){var c=function(){};return c.prototype=new t,c.prototype.constructor=c,c.prototype.parent=t.prototype,c.prototype=n.extend(c.prototype,o),c}if(window.Select2===W){var v,P,g,S,_,k,O,at={x:0,y:0},A={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case A.LEFT:case A.RIGHT:case A.UP:case A.DOWN:return!0}return!1},isControl:function(t){var o=t.which;switch(o){case A.SHIFT:case A.CTRL:case A.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},tt="<div class='select2-measure-scrollbar'></div>",d={"":"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A","":"A","":"A","":"AA",:"AE",:"AE",:"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B",:"B",:"B",:"B",:"B","":"B",:"B",:"B","":"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C",:"C","":"C","":"C","":"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D",:"D","":"D",:"DZ",:"DZ",:"Dz",:"Dz","":"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E","":"F",:"F",:"F",:"F","":"F","":"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"G","":"G","":"G","":"G","":"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H",:"H","":"H","":"H","":"H","":"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I","":"J",:"J",:"J","":"J","":"K",:"K",:"K",:"K",:"K",:"K",:"K",:"K","":"K","":"K","":"K","":"K","":"K","":"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L",:"L","":"L","":"L","":"L","":"L","":"L","":"L",:"LJ",:"Lj","":"M",:"M",:"M",:"M",:"M","":"M",:"M","":"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N",:"N","":"N",:"N","":"N","":"N",:"NJ",:"Nj","":"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O","":"O","":"O",:"OI","":"OO",:"OU","":"P",:"P",:"P",:"P",:"P","":"P","":"P","":"P","":"P","":"Q",:"Q","":"Q","":"Q","":"Q","":"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R",:"R","":"R","":"R","":"R","":"R","":"R","":"S",:"S","":"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"S","":"S","":"S","":"S","":"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T",:"T","":"T","":"T","":"TZ","":"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U","":"U","":"V",:"V",:"V",:"V",:"V","":"V","":"V","":"VY","":"W",:"W",:"W",:"W",:"W",:"W",:"W",:"W","":"W","":"X",:"X",:"X",:"X","":"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y","":"Y","":"Y","":"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z",:"Z","":"Z","":"Z","":"Z","":"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a","":"a",:"a","":"aa",:"ae",:"ae",:"ae","":"ao","":"au","":"av","":"av","":"ay","":"b",:"b",:"b",:"b",:"b",:"b",:"b",:"b","":"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c",:"c","":"c","":"c","":"c","":"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d",:"d","":"d",:"dz",:"dz","":"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e","":"e",:"e",:"e","":"f",:"f",:"f",:"f","":"f","":"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"g","":"g","":"g","":"g","":"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h",:"h","":"h","":"h",:"h",:"hv","":"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i","":"j",:"j",:"j",:"j","":"j","":"k",:"k",:"k",:"k",:"k",:"k",:"k",:"k","":"k","":"k","":"k","":"k","":"k","":"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l",:"l","":"l","":"l","":"l","":"l",:"lj","":"m",:"m",:"m",:"m",:"m",:"m",:"m","":"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n",:"n","":"n","":"n",:"nj","":"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o","":"o","":"o",:"o",:"oi",:"ou","":"oo","":"p",:"p",:"p",:"p",:"p","":"p","":"p","":"p","":"p","":"q",:"q","":"q","":"q","":"q","":"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r",:"r","":"r",:"r","":"r","":"r","":"r","":"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"s","":"s","":"s","":"s",:"s","":"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t",:"t","":"t","":"t","":"tz","":"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u","":"v",:"v",:"v",:"v",:"v","":"v",:"v","":"vy","":"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w",:"w","":"w","":"x",:"x",:"x",:"x","":"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y","":"y","":"y","":"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z",:"z","":"z","":"z","":"z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};k=n(document),S=function(){var t=1;return function(){return t++}}(),v=E(Object,{bind:function(t){var o=this;return function(){t.apply(o,arguments)}},init:function(t){var o,c,f=".select2-results";this.opts=t=this.prepareOpts(t),this.id=t.id,t.element.data("select2")!==W&&t.element.data("select2")!==null&&t.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=n(".select2-hidden-accessible"),this.liveRegion.length==0&&(this.liveRegion=n("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(t.element.attr("id")||"autogen"+S()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",t.element.attr("title")),this.body=n(document.body),T(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",t.element.attr("style")),this.container.css(rt(t.containerCss,this.opts.element)),this.container.addClass(rt(t.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",Z),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),T(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(rt(t.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",Z),this.results=o=this.container.find(f),this.search=c=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",Z),D(this.results),this.dropdown.on("mousemove-filtered",f,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",f,this.bind(function(I){this._touchEvent=!0,this.highlightUnderEvent(I)})),this.dropdown.on("touchmove",f,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",f,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),R(80,this.results),this.dropdown.on("scroll-debounced",f,this.bind(this.loadMoreIfNeeded)),n(this.container).on("change",".select2-input",function(I){I.stopPropagation()}),n(this.dropdown).on("change",".select2-input",function(I){I.stopPropagation()}),n.fn.mousewheel&&o.mousewheel(function(I,nt,X,C){var F=o.scrollTop();C>0&&0>=F-C?(o.scrollTop(0),Z(I)):0>C&&o.get(0).scrollHeight-o.scrollTop()+C<=o.height()&&(o.scrollTop(o.get(0).scrollHeight-o.height()),Z(I))}),l(c),c.on("keyup-change input paste",this.bind(this.updateResults)),c.on("focus",function(){c.addClass("select2-focused")}),c.on("blur",function(){c.removeClass("select2-focused")}),this.dropdown.on("mouseup",f,this.bind(function(I){n(I.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(I),this.selectHighlighted(I))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(I){I.stopPropagation()}),this.nextSearchTerm=W,n.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),t.maximumInputLength!==null&&this.search.attr("maxlength",t.maximumInputLength);var M=t.element.prop("disabled");M===W&&(M=!1),this.enable(!M);var $=t.element.prop("readonly");$===W&&($=!1),this.readonly($),O=O||r(),this.autofocus=t.element.prop("autofocus"),t.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",t.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,o=t.data("select2"),c=this;this.close(),t.length&&t[0].detachEvent&&c._sync&&t.each(function(){c._sync&&this.detachEvent("onpropertychange",c._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,o!==W&&(o.container.remove(),o.liveRegion.remove(),o.dropdown.remove(),t.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),j.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:i(t.attr("locked"),"locked")||i(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(t){var o,c,f,M,$=this;if(o=t.element,o.get(0).tagName.toLowerCase()==="select"&&(this.select=c=t.element),c&&n.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in t)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),t=n.extend({},{populateResults:function(I,nt,X){var C,F=this.opts.id,lt=this.liveRegion;(C=function(b,L,G){var Q,ut,ct,ft,wt,bt,yt,Dt,xt,St;b=t.sortResults(b,L,X);var Pt=[];for(Q=0,ut=b.length;ut>Q;Q+=1)ct=b[Q],wt=ct.disabled===!0,ft=!wt&&F(ct)!==W,bt=ct.children&&ct.children.length>0,yt=n("<li></li>"),yt.addClass("select2-results-dept-"+G),yt.addClass("select2-result"),yt.addClass(ft?"select2-result-selectable":"select2-result-unselectable"),wt&&yt.addClass("select2-disabled"),bt&&yt.addClass("select2-result-with-children"),yt.addClass($.opts.formatResultCssClass(ct)),yt.attr("role","presentation"),Dt=n(document.createElement("div")),Dt.addClass("select2-result-label"),Dt.attr("id","select2-result-label-"+S()),Dt.attr("role","option"),St=t.formatResult(ct,Dt,X,$.opts.escapeMarkup),St!==W&&(Dt.html(St),yt.append(Dt)),bt&&(xt=n("<ul></ul>"),xt.addClass("select2-result-sub"),C(ct.children,xt,G+1),yt.append(xt)),yt.data("select2-data",ct),Pt.push(yt[0]);L.append(Pt),lt.text(t.formatMatches(b.length))})(nt,I,0)}},n.fn.select2.defaults,t),typeof t.id!="function"&&(f=t.id,t.id=function(I){return I[f]}),n.isArray(t.element.data("select2Tags"))){if("tags"in t)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+t.element.attr("id");t.tags=t.element.data("select2Tags")}if(c?(t.query=this.bind(function(I){var nt,X,C,F={results:[],more:!1},lt=I.term;C=function(b,L){var G;b.is("option")?I.matcher(lt,b.text(),b)&&L.push($.optionToData(b)):b.is("optgroup")&&(G=$.optionToData(b),b.children().each2(function(Q,ut){C(ut,G.children)}),G.children.length>0&&L.push(G))},nt=o.children(),this.getPlaceholder()!==W&&nt.length>0&&(X=this.getPlaceholderOption(),X&&(nt=nt.not(X))),nt.each2(function(b,L){C(L,F.results)}),I.callback(F)}),t.id=function(I){return I.id}):"query"in t||("ajax"in t?(M=t.element.data("ajax-url"),M&&M.length>0&&(t.ajax.url=M),t.query=x.call(t.element,t.ajax)):"data"in t?t.query=Y(t.data):"tags"in t&&(t.query=B(t.tags),t.createSearchChoice===W&&(t.createSearchChoice=function(I){return{id:n.trim(I),text:n.trim(I)}}),t.initSelection===W&&(t.initSelection=function(I,nt){var X=[];n(a(I.val(),t.separator,t.transformVal)).each(function(){var C={id:this,text:this},F=t.tags;n.isFunction(F)&&(F=F()),n(F).each(function(){return i(this.id,C.id)?(C=this,!1):void 0}),X.push(C)}),nt(X)}))),typeof t.query!="function")throw"query function not defined for Select2 "+t.element.attr("id");if(t.createSearchChoicePosition==="top")t.createSearchChoicePosition=function(I,nt){I.unshift(nt)};else if(t.createSearchChoicePosition==="bottom")t.createSearchChoicePosition=function(I,nt){I.push(nt)};else if(typeof t.createSearchChoicePosition!="function")throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return t},monitorSource:function(){var t,o=this.opts.element,c=this;o.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var f=o.prop("disabled");f===W&&(f=!1),this.enable(!f);var M=o.prop("readonly");M===W&&(M=!1),this.readonly(M),this.container&&(T(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(rt(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(T(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(rt(this.opts.dropdownCssClass,this.opts.element)))}),o.length&&o[0].attachEvent&&o.each(function(){this.attachEvent("onpropertychange",c._sync)}),t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,t!==W&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new t(function(f){n.each(f,c._sync)}),this.propertyObserver.observe(o.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var o=n.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(o),!o.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=n.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,o=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",o),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===W&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===W&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,o,c,f,M,$=this.dropdown,I=this.container,nt=I.offset(),X=I.outerHeight(!1),C=I.outerWidth(!1),F=$.outerHeight(!1),lt=n(window),b=lt.width(),L=lt.height(),G=lt.scrollLeft()+b,Q=lt.scrollTop()+L,ut=nt.top+X,ct=nt.left,ft=Q>=ut+F,wt=nt.top-F>=lt.scrollTop(),bt=$.outerWidth(!1),yt=function(){return G>=ct+bt},Dt=function(){return nt.left+G+I.outerWidth(!1)>bt},xt=$.hasClass("select2-drop-above");xt?(o=!0,!wt&&ft&&(c=!0,o=!1)):(o=!1,!ft&&wt&&(c=!0,o=!0)),c&&($.hide(),nt=this.container.offset(),X=this.container.outerHeight(!1),C=this.container.outerWidth(!1),F=$.outerHeight(!1),G=lt.scrollLeft()+b,Q=lt.scrollTop()+L,ut=nt.top+X,ct=nt.left,bt=$.outerWidth(!1),$.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(M=n(".select2-results",$)[0],$.addClass("select2-drop-auto-width"),$.css("width",""),bt=$.outerWidth(!1)+(M.scrollHeight===M.clientHeight?0:O.width),bt>C?C=bt:bt=C,F=$.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),this.body.css("position")!=="static"&&(t=this.body.offset(),ut-=t.top,ct-=t.left),!yt()&&Dt()&&(ct=nt.left+this.container.outerWidth(!1)-bt),f={left:ct,width:C},o?(f.top=nt.top-F,f.bottom="auto",this.container.addClass("select2-drop-above"),$.addClass("select2-drop-above")):(f.top=ut,f.bottom="auto",this.container.removeClass("select2-drop-above"),$.removeClass("select2-drop-above")),f=n.extend(f,rt(this.opts.dropdownCss,this.opts.element)),$.css(f)},shouldOpen:function(){var t;return this.opened()||this._enabled===!1||this._readonly===!0?!1:(t=n.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),k.on("mousemove.select2Event",function(t){at.x=t.pageX,at.y=t.pageY}),!0):!1},opening:function(){var t,o=this.containerEventName,c="scroll."+o,f="resize."+o,M="orientationchange."+o;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=n("#select2-drop-mask"),t.length===0&&(t=n(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(I){st(t);var nt,X=n("#select2-drop");X.length>0&&(nt=X.data("select2"),nt.opts.selectOnBlur&&nt.selectHighlighted({noFocus:!0}),nt.close(),I.preventDefault(),I.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),n("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var $=this;this.container.parents().add(window).each(function(){n(this).on(f+" "+c+" "+M,function(){$.opened()&&$.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,o="scroll."+t,c="resize."+t,f="orientationchange."+t;this.container.parents().add(window).each(function(){n(this).off(o).off(c).off(f)}),this.clearDropdownAlignmentPreference(),n("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),k.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(n.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return rt(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,o,c,f,M,$,I,nt,X=this.results;if(o=this.highlight(),!(0>o)){if(o==0)return void X.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),c=n(t[o]),nt=(c.offset()||{}).top||0,f=nt+c.outerHeight(!0),o===t.length-1&&(I=X.find("li.select2-more-results"),I.length>0&&(f=I.offset().top+I.outerHeight(!0))),M=X.offset().top+X.outerHeight(!1),f>M&&X.scrollTop(X.scrollTop()+(f-M)),$=nt-X.offset().top,0>$&&c.css("display")!="none"&&X.scrollTop(X.scrollTop()+$)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var o=this.findHighlightableChoices(),c=this.highlight();c>-1&&c<o.length;){c+=t;var f=n(o[c]);if(f.hasClass("select2-result-selectable")&&!f.hasClass("select2-disabled")&&!f.hasClass("select2-selected")){this.highlight(c);break}}},highlight:function(t){var o,c,f=this.findHighlightableChoices();return arguments.length===0?K(f.filter(".select2-highlighted")[0],f.get()):(t>=f.length&&(t=f.length-1),0>t&&(t=0),this.removeHighlight(),o=n(f[t]),o.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",o.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(o.text()),c=o.data("select2-data"),void(c&&this.opts.element.trigger({type:"select2-highlight",val:this.id(c),choice:c})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var o=n(t.target).closest(".select2-result-selectable");if(o.length>0&&!o.is(".select2-highlighted")){var c=this.findHighlightableChoices();this.highlight(c.index(o))}else o.length==0&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,o=this.results,c=o.find("li.select2-more-results"),f=this.resultsPage+1,M=this,$=this.search.val(),I=this.context;c.length!==0&&(t=c.offset().top-o.offset().top-o.height(),t<=this.opts.loadMorePadding&&(c.addClass("select2-active"),this.opts.query({element:this.opts.element,term:$,page:f,context:I,matcher:this.opts.matcher,callback:this.bind(function(nt){M.opened()&&(M.opts.populateResults.call(this,o,nt.results,{term:$,page:f,context:I}),M.postprocessResults(nt,!1,!1),nt.more===!0?(c.detach().appendTo(o).html(M.opts.escapeMarkup(rt(M.opts.formatLoadMore,M.opts.element,f+1))),window.setTimeout(function(){M.loadMoreIfNeeded()},10)):c.remove(),M.positionDropdown(),M.resultsPage=f,M.context=nt.context,this.opts.element.trigger({type:"select2-loaded",items:nt}))})})))},tokenize:function(){},updateResults:function(t){function o(){I.removeClass("select2-active"),C.positionDropdown(),C.liveRegion.text(nt.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?nt.text():C.opts.formatMatches(nt.find('.select2-result-selectable:not(".select2-selected")').length))}function c(L){nt.html(L),o()}var f,M,$,I=this.search,nt=this.results,X=this.opts,C=this,F=I.val(),lt=n.data(this.container,"select2-last-term");if((t===!0||!lt||!i(F,lt))&&(n.data(this.container,"select2-last-term",F),t===!0||this.showSearchInput!==!1&&this.opened())){$=++this.queryCount;var b=this.getMaximumSelectionSize();if(b>=1&&(f=this.data(),n.isArray(f)&&f.length>=b&&J(X.formatSelectionTooBig,"formatSelectionTooBig")))return void c("<li class='select2-selection-limit'>"+rt(X.formatSelectionTooBig,X.element,b)+"</li>");if(I.val().length<X.minimumInputLength)return c(J(X.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+rt(X.formatInputTooShort,X.element,I.val(),X.minimumInputLength)+"</li>":""),void(t&&this.showSearch&&this.showSearch(!0));if(X.maximumInputLength&&I.val().length>X.maximumInputLength)return void c(J(X.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+rt(X.formatInputTooLong,X.element,I.val(),X.maximumInputLength)+"</li>":"");X.formatSearching&&this.findHighlightableChoices().length===0&&c("<li class='select2-searching'>"+rt(X.formatSearching,X.element)+"</li>"),I.addClass("select2-active"),this.removeHighlight(),M=this.tokenize(),M!=W&&M!=null&&I.val(M),this.resultsPage=1,X.query({element:X.element,term:I.val(),page:this.resultsPage,context:null,matcher:X.matcher,callback:this.bind(function(L){var G;if($==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(L.hasError!==W&&J(X.formatAjaxError,"formatAjaxError"))return void c("<li class='select2-ajax-error'>"+rt(X.formatAjaxError,X.element,L.jqXHR,L.textStatus,L.errorThrown)+"</li>");if(this.context=L.context===W?null:L.context,this.opts.createSearchChoice&&I.val()!==""&&(G=this.opts.createSearchChoice.call(C,I.val(),L.results),G!==W&&G!==null&&C.id(G)!==W&&C.id(G)!==null&&n(L.results).filter(function(){return i(C.id(this),C.id(G))}).length===0&&this.opts.createSearchChoicePosition(L.results,G)),L.results.length===0&&J(X.formatNoMatches,"formatNoMatches"))return void c("<li class='select2-no-results'>"+rt(X.formatNoMatches,X.element,I.val())+"</li>");nt.empty(),C.opts.populateResults.call(this,nt,L.results,{term:I.val(),page:this.resultsPage,context:null}),L.more===!0&&J(X.formatLoadMore,"formatLoadMore")&&(nt.append("<li class='select2-more-results'>"+X.escapeMarkup(rt(X.formatLoadMore,X.element,this.resultsPage))+"</li>"),window.setTimeout(function(){C.loadMoreIfNeeded()},10)),this.postprocessResults(L,t),o(),this.opts.element.trigger({type:"select2-loaded",items:L})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){V(this.search)},selectHighlighted:function(t){if(this._touchMoved)return void this.clearTouchMoved();var o=this.highlight(),c=this.results.find(".select2-highlighted"),f=c.closest(".select2-result").data("select2-data");f?(this.highlight(o),this.onSelect(f,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==W?t.text():W)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==W)return this.opts.placeholderOption==="first"&&t||typeof this.opts.placeholderOption=="function"&&this.opts.placeholderOption(this.select);if(n.trim(t.text())===""&&t.val()==="")return t}},initContainerWidth:function(){function t(){var c,f,M,$,I,nt;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){if(c=this.opts.element.attr("style"),c!==W){for(f=c.split(";"),$=0,I=f.length;I>$;$+=1)if(nt=f[$].replace(/\s/g,""),M=nt.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),M!==null&&M.length>=1)return M[1]}return this.opts.width==="resolve"?(c=this.opts.element.css("width"),c.indexOf("%")>0?c:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"):null}return n.isFunction(this.opts.width)?this.opts.width():this.opts.width}var o=t.call(this);o!==null&&this.container.css("width",o)}}),P=E(v,{createContainer:function(){var t=n(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var t,o,c;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),t=this.search.get(0),t.createTextRange?(o=t.createTextRange(),o.collapse(!1),o.select()):t.setSelectionRange&&(c=this.search.val().length,t.setSelectionRange(c,c))),this.search.val()===""&&this.nextSearchTerm!=W&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){n("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),j.call(this,"selection","focusser")},initContainer:function(){var t,o,c=this.container,f=this.dropdown,M=S();this.showSearch(!(this.opts.minimumResultsForSearch<0)),this.selection=t=c.find(".select2-choice"),this.focusser=c.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+M),this.focusser.attr("aria-labelledby","select2-chosen-"+M),this.results.attr("id","select2-results-"+M),this.search.attr("aria-owns","select2-results-"+M),this.focusser.attr("id","s2id_autogen"+M),o=n("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(o.text()).attr("for",this.focusser.attr("id"));var $=this.opts.element.attr("title");this.opts.element.attr("title",$||o.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(n("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(I){if(this.isInterfaceEnabled()&&I.keyCode!=229){if(I.which===A.PAGE_UP||I.which===A.PAGE_DOWN)return void Z(I);switch(I.which){case A.UP:case A.DOWN:return this.moveHighlight(I.which===A.UP?-1:1),void Z(I);case A.ENTER:return this.selectHighlighted(),void Z(I);case A.TAB:return void this.selectHighlighted({noFocus:!0});case A.ESC:return this.cancel(I),void Z(I)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(I){if(this.isInterfaceEnabled()&&I.which!==A.TAB&&!A.isControl(I)&&!A.isFunctionKey(I)&&I.which!==A.ESC)return this.opts.openOnEnter===!1&&I.which===A.ENTER?void Z(I):I.which==A.DOWN||I.which==A.UP||I.which==A.ENTER&&this.opts.openOnEnter?I.altKey||I.ctrlKey||I.shiftKey||I.metaKey?void 0:(this.open(),void Z(I)):I.which==A.DELETE||I.which==A.BACKSPACE?(this.opts.allowClear&&this.clear(),void Z(I)):void 0})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(I){if(this.opts.minimumResultsForSearch>=0){if(I.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(I){this.isInterfaceEnabled()&&(this.clear(),h(I),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(I){st(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),Z(I)})),f.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(I){Z(I)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(n.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var o=this.selection.data("select2-data");if(o){var c=n.Event("select2-clearing");if(this.opts.element.trigger(c),c.isDefaultPrevented())return;var f=this.getPlaceholderOption();this.opts.element.val(f?f.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(o),choice:o}),this.triggerChange({removed:o}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(o){o!==W&&o!==null&&(t.updateSelection(o),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(o,t.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()===W?!1:(t=this.getPlaceholderOption())!==W&&t.prop("selected")||this.opts.element.val()===""||this.opts.element.val()===W||this.opts.element.val()===null},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),o=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(c,f){var M=c.find("option").filter(function(){return this.selected&&!this.disabled});f(o.optionToData(M))}:"data"in t&&(t.initSelection=t.initSelection||function(c,f){var M=c.val(),$=null;t.query({matcher:function(I,nt,X){var C=i(M,t.id(X));return C&&($=X),C},callback:n.isFunction(f)?function(){f($)}:n.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===W?W:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==W){if(this.select&&this.getPlaceholderOption()===W)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,o,c){var f=0,M=this;if(this.findHighlightableChoices().each2(function(I,nt){return i(M.id(nt.data("select2-data")),M.opts.element.val())?(f=I,!1):void 0}),c!==!1&&this.highlight(o===!0&&f>=0?f:0),o===!0){var $=this.opts.minimumResultsForSearch;$>=0&&this.showSearch(it(t.results)>=$)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),n(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(t,o){if(this.triggerSelect(t)){var c=this.opts.element.val(),f=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),o&&o.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),i(c,this.id(t))||this.triggerChange({added:t,removed:f})}},updateSelection:function(t){var o,c,f=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),f.empty(),t!==null&&(o=this.opts.formatSelection(t,f,this.opts.escapeMarkup)),o!==W&&f.append(o),c=this.opts.formatSelectionCssClass(t,f),c!==W&&f.addClass(c),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==W&&this.container.addClass("select2-allowclear")},val:function(){var t,o=!1,c=null,f=this,M=this.data();if(arguments.length===0)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(o=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function($,I){return c=f.optionToData(I),!1}),this.updateSelection(c),this.setPlaceholder(),o&&this.triggerChange({added:c,removed:M});else{if(!t&&t!==0)return void this.clear(o);if(this.opts.initSelection===W)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function($){f.opts.element.val($?f.id($):""),f.updateSelection($),f.setPlaceholder(),o&&f.triggerChange({added:$,removed:M})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var o,c=!1;return arguments.length===0?(o=this.selection.data("select2-data"),o==W&&(o=null),o):(arguments.length>1&&(c=arguments[1]),void(t?(o=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),c&&this.triggerChange({added:t,removed:o})):this.clear(c)))}}),g=E(v,{createContainer:function(){var t=n(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),o=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(c,f){var M=[];c.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function($,I){M.push(o.optionToData(I))}),f(M)}:"data"in t&&(t.initSelection=t.initSelection||function(c,f){var M=a(c.val(),t.separator,t.transformVal),$=[];t.query({matcher:function(I,nt,X){var C=n.grep(M,function(F){return i(F,t.id(X))}).length;return C&&$.push(X),C},callback:n.isFunction(f)?function(){for(var I=[],nt=0;nt<M.length;nt++)for(var X=M[nt],C=0;C<$.length;C++){var F=$[C];if(i(X,t.id(F))){I.push(F),$.splice(C,1);break}}f(I)}:n.noop})}),t},selectChoice:function(t){var o=this.container.find(".select2-search-choice-focus");o.length&&t&&t[0]==o[0]||(o.length&&this.opts.element.trigger("choice-deselected",o),o.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){n("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),j.call(this,"searchContainer","selection")},initContainer:function(){var t,o=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(o);var c=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){c.search[0].focus(),c.selectChoice(n(this))}),this.search.attr("id","s2id_autogen"+S()),this.search.prev().text(n("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&this.search.val().length==0||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(f){if(this.isInterfaceEnabled()){++this.keydowns;var M=t.find(".select2-search-choice-focus"),$=M.prev(".select2-search-choice:not(.select2-locked)"),I=M.next(".select2-search-choice:not(.select2-locked)"),nt=ot(this.search);if(M.length&&(f.which==A.LEFT||f.which==A.RIGHT||f.which==A.BACKSPACE||f.which==A.DELETE||f.which==A.ENTER)){var X=M;return f.which==A.LEFT&&$.length?X=$:f.which==A.RIGHT?X=I.length?I:null:f.which===A.BACKSPACE?this.unselect(M.first())&&(this.search.width(10),X=$.length?$:I):f.which==A.DELETE?this.unselect(M.first())&&(this.search.width(10),X=I.length?I:null):f.which==A.ENTER&&(X=null),this.selectChoice(X),Z(f),void(X&&X.length||this.open())}if((f.which===A.BACKSPACE&&this.keydowns==1||f.which==A.LEFT)&&nt.offset==0&&!nt.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void Z(f);if(this.selectChoice(null),this.opened())switch(f.which){case A.UP:case A.DOWN:return this.moveHighlight(f.which===A.UP?-1:1),void Z(f);case A.ENTER:return this.selectHighlighted(),void Z(f);case A.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case A.ESC:return this.cancel(f),void Z(f)}if(f.which!==A.TAB&&!A.isControl(f)&&!A.isFunctionKey(f)&&f.which!==A.BACKSPACE&&f.which!==A.ESC){if(f.which===A.ENTER&&(this.opts.openOnEnter===!1||f.altKey||f.ctrlKey||f.shiftKey||f.metaKey))return;this.open(),(f.which===A.PAGE_UP||f.which===A.PAGE_DOWN)&&Z(f),f.which===A.ENTER&&Z(f)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(f){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),f.stopImmediatePropagation(),this.opts.element.trigger(n.Event("select2-blur"))})),this.container.on("click",o,this.bind(function(f){this.isInterfaceEnabled()&&(n(f.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.open(),this.focusSearch(),f.preventDefault()))})),this.container.on("focus",o,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||this.opts.element.val()!==""){var t=this;this.opts.initSelection.call(null,this.opts.element,function(o){o!==W&&o!==null&&(t.updateSelection(o),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),o=this.getMaxSearchWidth();t!==W&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(o>0?o:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.search.val()===""&&this.nextSearchTerm!=W&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var o=[],c=[],f=this;n(t).each(function(){K(f.id(this),o)<0&&(o.push(f.id(this)),c.push(this))}),t=c,this.selection.find(".select2-search-choice").remove(),n(t).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),t!=null&&t!=W&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,o){this.triggerSelect(t)&&t.text!==""&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=W&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),o&&o.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(t){var o,c,f=!t.locked,M=n("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),$=n("<li class='select2-search-choice select2-locked'><div></div></li>"),I=f?M:$,nt=this.id(t),X=this.getVal();o=this.opts.formatSelection(t,I.find("div"),this.opts.escapeMarkup),o!=W&&I.find("div").replaceWith(n("<div></div>").html(o)),c=this.opts.formatSelectionCssClass(t,I.find("div")),c!=W&&I.addClass(c),f&&I.find(".select2-search-choice-close").on("mousedown",Z).on("click dblclick",this.bind(function(C){this.isInterfaceEnabled()&&(this.unselect(n(C.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),Z(C),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),I.data("select2-data",t),I.insertBefore(this.searchContainer),X.push(nt),this.setVal(X)},unselect:function(t){var o,c,f=this.getVal();if(t=t.closest(".select2-search-choice"),t.length===0)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(o=t.data("select2-data")){var M=n.Event("select2-removing");if(M.val=this.id(o),M.choice=o,this.opts.element.trigger(M),M.isDefaultPrevented())return!1;for(;(c=K(this.id(o),f))>=0;)f.splice(c,1),this.setVal(f),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(o),choice:o}),this.triggerChange({removed:o}),!0}},postprocessResults:function(t,o,c){var f=this.getVal(),M=this.results.find(".select2-result"),$=this.results.find(".select2-result-with-children"),I=this;M.each2(function(nt,X){var C=I.id(X.data("select2-data"));K(C,f)>=0&&(X.addClass("select2-selected"),X.find(".select2-result-selectable").addClass("select2-selected"))}),$.each2(function(nt,X){X.is(".select2-result-selectable")||X.find(".select2-result-selectable:not(.select2-selected)").length!==0||X.addClass("select2-selected")}),this.highlight()==-1&&c!==!1&&this.opts.closeOnSelect===!0&&I.highlight(0),!this.opts.createSearchChoice&&!M.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&this.results.find(".select2-no-results").length===0)&&J(I.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+rt(I.opts.formatNoMatches,I.opts.element,I.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-w(this.search)},resizeSearch:function(){var t,o,c,f,M,$=w(this.search);t=m(this.search)+10,o=this.search.offset().left,c=this.selection.width(),f=this.selection.offset().left,M=c-(o-f)-$,t>M&&(M=c-$),40>M&&(M=c-$),0>=M&&(M=t),this.search.width(Math.floor(M))},getVal:function(){var t;return this.select?(t=this.select.val(),t===null?[]:t):(t=this.opts.element.val(),a(t,this.opts.separator,this.opts.transformVal))},setVal:function(t){var o;this.select?this.select.val(t):(o=[],n(t).each(function(){K(this,o)<0&&o.push(this)}),this.opts.element.val(o.length===0?"":o.join(this.opts.separator)))},buildChangeDetails:function(t,o){for(var o=o.slice(0),t=t.slice(0),c=0;c<o.length;c++)for(var f=0;f<t.length;f++)i(this.opts.id(o[c]),this.opts.id(t[f]))&&(o.splice(c,1),c>0&&c--,t.splice(f,1),f--);return{added:o,removed:t}},val:function(t,o){var c,f=this;if(arguments.length===0)return this.getVal();if(c=this.data(),c.length||(c=[]),!t&&t!==0)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(o&&this.triggerChange({added:this.data(),removed:c}));if(this.setVal(t),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),o&&this.triggerChange(this.buildChangeDetails(c,this.data()));else{if(this.opts.initSelection===W)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(M){var $=n.map(M,f.id);f.setVal($),f.updateSelection(M),f.clearSearch(),o&&f.triggerChange(f.buildChangeDetails(c,f.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],o=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(o.opts.id(n(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,o){var c,f,M=this;return arguments.length===0?this.selection.children(".select2-search-choice").map(function(){return n(this).data("select2-data")}).get():(f=this.data(),t||(t=[]),c=n.map(t,function($){return M.opts.id($)}),this.setVal(c),this.updateSelection(t),this.clearSearch(),o&&this.triggerChange(this.buildChangeDetails(f,this.data())),void 0)}}),n.fn.select2=function(){var t,o,c,f,M,$=Array.prototype.slice.call(arguments,0),I=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],nt=["opened","isFocused","container","dropdown"],X=["val","data"],C={search:"externalSearch"};return this.each(function(){if($.length===0||typeof $[0]=="object")t=$.length===0?{}:n.extend({},$[0]),t.element=n(this),t.element.get(0).tagName.toLowerCase()==="select"?M=t.element.prop("multiple"):(M=t.multiple||!1,"tags"in t&&(t.multiple=M=!0)),o=M?new window.Select2.class.multi:new window.Select2.class.single,o.init(t);else{if(typeof $[0]!="string")throw"Invalid arguments to select2 plugin: "+$;if(K($[0],I)<0)throw"Unknown method: "+$[0];if(f=W,o=n(this).data("select2"),o===W)return;if(c=$[0],c==="container"?f=o.container:c==="dropdown"?f=o.dropdown:(C[c]&&(c=C[c]),f=o[c].apply(o,$.slice(1))),K($[0],nt)>=0||K($[0],X)>=0&&$.length==1)return!1}}),f===W?this:f},n.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,o,c,f){var M=[];return z(this.text(t),c.term,M,f),M.join("")},transformVal:function(t){return n.trim(t)},formatSelection:function(t,o,c){return t?c(this.text(t)):W},sortResults:function(t){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(){return W},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==W?null:t.id},text:function(t){return t&&this.data&&this.data.text?n.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(t,o){return ht(""+o).toUpperCase().indexOf(ht(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:mt,escapeMarkup:p,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return W},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){var o="ontouchstart"in window||navigator.msMaxTouchPoints>0;return!(o&&t.opts.minimumResultsForSearch<0)}},n.fn.select2.locales=[],n.fn.select2.locales.en={formatMatches:function(t){return t===1?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(t,o){var c=o-t.length;return"Please enter "+c+" or more character"+(c==1?"":"s")},formatInputTooLong:function(t,o){var c=t.length-o;return"Please delete "+c+" character"+(c==1?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(t==1?"":"s")},formatLoadMore:function(){return"Loading more results"},formatSearching:function(){return"Searching"}},n.extend(n.fn.select2.defaults,n.fn.select2.locales.en),n.fn.select2.ajaxDefaults={transport:n.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:x,local:Y,tags:B},util:{debounce:q,markMatch:z,escapeMarkup:p,stripDiacritics:ht},class:{abstract:v,single:P,multi:g}}}}(jQuery),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(window.jQuery)}(function(n){Array.prototype.reduce||(Array.prototype.reduce=function(E){var v,P=Object(this),g=P.length>>>0,S=0;if(arguments.length===2)v=arguments[1];else{for(;g>S&&!(S in P);)S++;if(S>=g)throw new TypeError("Reduce of empty array with no initial value");v=P[S++]}for(;g>S;S++)S in P&&(v=E(v,P[S],S,P));return v}),typeof Array.prototype.filter!="function"&&(Array.prototype.filter=function(E){for(var v=Object(this),P=v.length>>>0,g=[],S=arguments.length>=2?arguments[1]:void 0,_=0;P>_;_++)if(_ in v){var k=v[_];E.call(S,k,_,v)&&g.push(k)}return g});var W,st=typeof define=="function"&&define.amd,ht=function(E){var v=E==="Comic Sans MS"?"Courier New":"Comic Sans MS",P=n("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),g=P.css("fontFamily",v).width(),S=P.css("fontFamily",E+","+v).width();return P.remove(),g!==S},K={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,isFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(n.fn.jquery),isSupportAmd:st,hasCodeMirror:st?require.specified("CodeMirror"):!!window.CodeMirror,isFontInstalled:ht,isW3CRangeSupport:!!document.createRange},r=function(){var E=function(t){return function(o){return t===o}},v=function(t,o){return t===o},P=function(t){return function(o,c){return o[t]===c[t]}},g=function(){return!0},S=function(){return!1},_=function(t){return function(){return!t.apply(t,arguments)}},k=function(t,o){return function(c){return t(c)&&o(c)}},O=function(t){return t},at=0,A=function(t){var o=++at+"";return t?t+o:o},tt=function(t){var o=n(document);return{top:t.top+o.scrollTop(),left:t.left+o.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},d=function(t){var o={};for(var c in t)t.hasOwnProperty(c)&&(o[t[c]]=c);return o};return{eq:E,eq2:v,peq2:P,ok:g,fail:S,self:O,not:_,and:k,uniqueId:A,rect2bnd:tt,invertObject:d}}(),i=function(){var E=function(c){return c[0]},v=function(c){return c[c.length-1]},P=function(c){return c.slice(0,c.length-1)},g=function(c){return c.slice(1)},S=function(c,f){for(var M=0,$=c.length;$>M;M++){var I=c[M];if(f(I))return I}},_=function(c,f){for(var M=0,$=c.length;$>M;M++)if(!f(c[M]))return!1;return!0},k=function(c,f){return n.inArray(f,c)!==-1},O=function(c,f){return f=f||r.self,c.reduce(function(M,$){return M+f($)},0)},at=function(c){for(var f=[],M=-1,$=c.length;++M<$;)f[M]=c[M];return f},A=function(c,f){if(!c.length)return[];var M=g(c);return M.reduce(function($,I){var nt=v($);return f(v(nt),I)?nt[nt.length]=I:$[$.length]=[I],$},[[E(c)]])},tt=function(c){for(var f=[],M=0,$=c.length;$>M;M++)c[M]&&f.push(c[M]);return f},d=function(c){for(var f=[],M=0,$=c.length;$>M;M++)k(f,c[M])||f.push(c[M]);return f},t=function(c,f){var M=c.indexOf(f);return M===-1?null:c[M+1]},o=function(c,f){var M=c.indexOf(f);return M===-1?null:c[M-1]};return{head:E,last:v,initial:P,tail:g,prev:o,next:t,find:S,contains:k,all:_,sum:O,from:at,clusterBy:A,compact:tt,unique:d}}(),a=String.fromCharCode(160),w="\uFEFF",l=function(){var E=function(y){return y&&n(y).hasClass("note-editable")},v=function(y){return y&&n(y).hasClass("note-control-sizing")},P=function(y){var et;if(y.hasClass("note-air-editor")){var pt=i.last(y.attr("id").split("-"));return et=function(vt){return function(){return n(vt+pt)}},{editor:function(){return y},editable:function(){return y},popover:et("#note-popover-"),handle:et("#note-handle-"),dialog:et("#note-dialog-")}}return et=function(vt){return function(){return y.find(vt)}},{editor:function(){return y},dropzone:et(".note-dropzone"),toolbar:et(".note-toolbar"),editable:et(".note-editable"),codable:et(".note-codable"),statusbar:et(".note-statusbar"),popover:et(".note-popover"),handle:et(".note-handle"),dialog:et(".note-dialog")}},g=function(y){return y=y.toUpperCase(),function(et){return et&&et.nodeName.toUpperCase()===y}},S=function(y){return y&&y.nodeType===3},_=function(y){return y&&/^BR|^IMG|^HR/.test(y.nodeName.toUpperCase())},k=function(y){return E(y)?!1:y&&/^DIV|^P|^LI|^H[1-7]/.test(y.nodeName.toUpperCase())},O=g("LI"),at=function(y){return k(y)&&!O(y)},A=g("TABLE"),tt=function(y){return!(c(y)||d(y)||k(y)||A(y)||o(y))},d=function(y){return y&&/^UL|^OL/.test(y.nodeName.toUpperCase())},t=function(y){return y&&/^TD|^TH/.test(y.nodeName.toUpperCase())},o=g("BLOCKQUOTE"),c=function(y){return t(y)||o(y)||E(y)},f=g("A"),M=function(y){return tt(y)&&!!L(y,k)},$=function(y){return tt(y)&&!L(y,k)},I=g("BODY"),nt=function(y,et){return y.nextSibling===et||y.previousSibling===et},X=function(y,et){et=et||r.ok;var pt=[];return y.previousSibling&&et(y.previousSibling)&&pt.push(y.previousSibling),pt.push(y),y.nextSibling&&et(y.nextSibling)&&pt.push(y.nextSibling),pt},C=K.isMSIE?"&nbsp;":"<br>",F=function(y){return S(y)?y.nodeValue.length:y.childNodes.length},lt=function(y){var et=F(y);return et===0?!0:!(l.isText(y)||et!==1||y.innerHTML!==C)},b=function(y){_(y)||F(y)||(y.innerHTML=C)},L=function(y,et){for(;y;){if(et(y))return y;if(E(y))break;y=y.parentNode}return null},G=function(y,et){for(y=y.parentNode;y&&F(y)===1;){if(et(y))return y;if(E(y))break;y=y.parentNode}return null},Q=function(y,et){et=et||r.fail;var pt=[];return L(y,function(vt){return E(vt)||pt.push(vt),et(vt)}),pt},ut=function(y,et){var pt=Q(y);return i.last(pt.filter(et))},ct=function(y,et){for(var pt=Q(y),vt=et;vt;vt=vt.parentNode)if(n.inArray(vt,pt)>-1)return vt;return null},ft=function(y,et){et=et||r.fail;for(var pt=[];y&&!et(y);)pt.push(y),y=y.previousSibling;return pt},wt=function(y,et){et=et||r.fail;for(var pt=[];y&&!et(y);)pt.push(y),y=y.nextSibling;return pt},bt=function(y,et){var pt=[];return et=et||r.ok,function vt(_t){y!==_t&&et(_t)&&pt.push(_t);for(var kt=0,Et=_t.childNodes.length;Et>kt;kt++)vt(_t.childNodes[kt])}(y),pt},yt=function(y,et){var pt=y.parentNode,vt=n("<"+et+">")[0];return pt.insertBefore(vt,y),vt.appendChild(y),vt},Dt=function(y,et){var pt=et.nextSibling,vt=et.parentNode;return pt?vt.insertBefore(y,pt):vt.appendChild(y),y},xt=function(y,et){return n.each(et,function(pt,vt){y.appendChild(vt)}),y},St=function(y){return y.offset===0},Pt=function(y){return y.offset===F(y.node)},jt=function(y){return St(y)||Pt(y)},Vt=function(y,et){for(;y&&y!==et;){if(Mt(y)!==0)return!1;y=y.parentNode}return!0},ee=function(y,et){for(;y&&y!==et;){if(Mt(y)!==F(y.parentNode)-1)return!1;y=y.parentNode}return!0},Mt=function(y){for(var et=0;y=y.previousSibling;)et+=1;return et},qt=function(y){return!!(y&&y.childNodes&&y.childNodes.length)},Kt=function(y,et){var pt,vt;if(y.offset===0){if(E(y.node))return null;pt=y.node.parentNode,vt=Mt(y.node)}else qt(y.node)?(pt=y.node.childNodes[y.offset-1],vt=F(pt)):(pt=y.node,vt=et?0:y.offset-1);return{node:pt,offset:vt}},Zt=function(y,et){var pt,vt;if(F(y.node)===y.offset){if(E(y.node))return null;pt=y.node.parentNode,vt=Mt(y.node)+1}else qt(y.node)?(pt=y.node.childNodes[y.offset],vt=0):(pt=y.node,vt=et?F(y.node):y.offset+1);return{node:pt,offset:vt}},Qt=function(y,et){return y.node===et.node&&y.offset===et.offset},U=function(y){if(S(y.node)||!qt(y.node)||lt(y.node))return!0;var et=y.node.childNodes[y.offset-1],pt=y.node.childNodes[y.offset];return!(et&&!_(et)||pt&&!_(pt))},ie=function(y,et){for(;y;){if(et(y))return y;y=Kt(y)}return null},Tt=function(y,et){for(;y;){if(et(y))return y;y=Zt(y)}return null},oe=function(y,et,pt,vt){for(var _t=y;_t&&(pt(_t),!Qt(_t,et));){var kt=vt&&y.node!==_t.node&&et.node!==_t.node;_t=Zt(_t,kt)}},Jt=function(y,et){var pt=Q(et,r.eq(y));return n.map(pt,Mt).reverse()},Yt=function(y,et){for(var pt=y,vt=0,_t=et.length;_t>vt;vt++)pt=pt.childNodes.length<=et[vt]?pt.childNodes[pt.childNodes.length-1]:pt.childNodes[et[vt]];return pt},ne=function(y,et){if(S(y.node))return St(y)?y.node:Pt(y)?y.node.nextSibling:y.node.splitText(y.offset);var pt=y.node.childNodes[y.offset],vt=Dt(y.node.cloneNode(!1),y.node);return xt(vt,wt(pt)),et||(b(y.node),b(vt)),vt},At=function(y,et,pt){var vt=Q(et.node,r.eq(y));return vt.length?vt.length===1?ne(et,pt):vt.reduce(function(_t,kt){var Et=Dt(kt.cloneNode(!1),kt);return _t===et.node&&(_t=ne(et,pt)),xt(Et,wt(_t)),pt||(b(kt),b(Et)),Et}):null},Nt=function(y,et){var pt,vt,_t=et?k:c,kt=Q(y.node,_t),Et=i.last(kt)||y.node;_t(Et)?(pt=kt[kt.length-2],vt=Et):(pt=Et,vt=pt.parentNode);var Xt=pt&&At(pt,y,et);return{rightNode:Xt,container:vt}},Lt=function(y){return document.createElement(y)},It=function(y){return document.createTextNode(y)},Ft=function(y,et){if(y&&y.parentNode){if(y.removeNode)return y.removeNode(et);var pt=y.parentNode;if(!et){var vt,_t,kt=[];for(vt=0,_t=y.childNodes.length;_t>vt;vt++)kt.push(y.childNodes[vt]);for(vt=0,_t=kt.length;_t>vt;vt++)pt.insertBefore(kt[vt],y)}pt.removeChild(y)}},Ut=function(y,et){for(;y&&!E(y)&&et(y);){var pt=y.parentNode;Ft(y),y=pt}},Ht=function(y,et){if(y.nodeName.toUpperCase()===et.toUpperCase())return y;var pt=Lt(et);return y.style.cssText&&(pt.style.cssText=y.style.cssText),xt(pt,i.from(y.childNodes)),Dt(pt,y),Ft(y),pt},$t=g("TEXTAREA"),Gt=function(y,et){var pt=$t(y[0])?y.val():y.html();if(et){var vt=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;pt=pt.replace(vt,function(_t,kt,Et){Et=Et.toUpperCase();var Xt=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(Et)&&!!kt,re=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(Et);return _t+(Xt||re?`
`:"")}),pt=n.trim(pt)}return pt},se=function(y,et){var pt=y.val();return et?pt.replace(/[\n\r]/g,""):pt};return{NBSP_CHAR:a,ZERO_WIDTH_NBSP_CHAR:w,blank:C,emptyPara:"<p>"+C+"</p>",makePredByNodeName:g,isEditable:E,isControlSizing:v,buildLayoutInfo:P,isText:S,isVoid:_,isPara:k,isPurePara:at,isInline:tt,isBodyInline:$,isBody:I,isParaInline:M,isList:d,isTable:A,isCell:t,isBlockquote:o,isBodyContainer:c,isAnchor:f,isDiv:g("DIV"),isLi:O,isBR:g("BR"),isSpan:g("SPAN"),isB:g("B"),isU:g("U"),isS:g("S"),isI:g("I"),isImg:g("IMG"),isTextarea:$t,isEmpty:lt,isEmptyAnchor:r.and(f,lt),isClosestSibling:nt,withClosestSiblings:X,nodeLength:F,isLeftEdgePoint:St,isRightEdgePoint:Pt,isEdgePoint:jt,isLeftEdgeOf:Vt,isRightEdgeOf:ee,prevPoint:Kt,nextPoint:Zt,isSamePoint:Qt,isVisiblePoint:U,prevPointUntil:ie,nextPointUntil:Tt,walkPoint:oe,ancestor:L,singleChildAncestor:G,listAncestor:Q,lastAncestor:ut,listNext:wt,listPrev:ft,listDescendant:bt,commonAncestor:ct,wrap:yt,insertAfter:Dt,appendChildNodes:xt,position:Mt,hasChildren:qt,makeOffsetPath:Jt,fromOffsetPath:Yt,splitTree:At,splitPoint:Nt,create:Lt,createText:It,remove:Ft,removeWhile:Ut,replace:Ht,html:Gt,value:se}}(),D=function(){var E=function(g,S){var _,k,O=g.parentElement(),at=document.body.createTextRange(),A=i.from(O.childNodes);for(_=0;_<A.length;_++)if(!l.isText(A[_])){if(at.moveToElementText(A[_]),at.compareEndPoints("StartToStart",g)>=0)break;k=A[_]}if(_!==0&&l.isText(A[_-1])){var tt=document.body.createTextRange(),d=null;tt.moveToElementText(k||O),tt.collapse(!k),d=k?k.nextSibling:O.firstChild;var t=g.duplicate();t.setEndPoint("StartToStart",tt);for(var o=t.text.replace(/[\r\n]/g,"").length;o>d.nodeValue.length&&d.nextSibling;)o-=d.nodeValue.length,d=d.nextSibling;d.nodeValue,S&&d.nextSibling&&l.isText(d.nextSibling)&&o===d.nodeValue.length&&(o-=d.nodeValue.length,d=d.nextSibling),O=d,_=o}return{cont:O,offset:_}},v=function(g){var S=function(O,at){var A,tt;if(l.isText(O)){var d=l.listPrev(O,r.not(l.isText)),t=i.last(d).previousSibling;A=t||O.parentNode,at+=i.sum(i.tail(d),l.nodeLength),tt=!t}else{if(A=O.childNodes[at]||O,l.isText(A))return S(A,0);at=0,tt=!1}return{node:A,collapseToStart:tt,offset:at}},_=document.body.createTextRange(),k=S(g.node,g.offset);return _.moveToElementText(k.node),_.collapse(k.collapseToStart),_.moveStart("character",k.offset),_},P=function(g,S,_,k){this.sc=g,this.so=S,this.ec=_,this.eo=k;var O=function(){if(K.isW3CRangeSupport){var A=document.createRange();return A.setStart(g,S),A.setEnd(_,k),A}var tt=v({node:g,offset:S});return tt.setEndPoint("EndToEnd",v({node:_,offset:k})),tt};this.getPoints=function(){return{sc:g,so:S,ec:_,eo:k}},this.getStartPoint=function(){return{node:g,offset:S}},this.getEndPoint=function(){return{node:_,offset:k}},this.select=function(){var A=O();if(K.isW3CRangeSupport){var tt=document.getSelection();tt.rangeCount>0&&tt.removeAllRanges(),tt.addRange(A)}else A.select()},this.normalize=function(){var A=function(t){return l.isVisiblePoint(t)||(t=l.isLeftEdgePoint(t)?l.nextPointUntil(t,l.isVisiblePoint):l.prevPointUntil(t,l.isVisiblePoint)),t},tt=A(this.getStartPoint()),d=A(this.getEndPoint());return new P(tt.node,tt.offset,d.node,d.offset)},this.nodes=function(A,tt){A=A||r.ok;var d=tt&&tt.includeAncestor,t=tt&&tt.fullyContains,o=this.getStartPoint(),c=this.getEndPoint(),f=[],M=[];return l.walkPoint(o,c,function($){if(!l.isEditable($.node)){var I;t?(l.isLeftEdgePoint($)&&M.push($.node),l.isRightEdgePoint($)&&i.contains(M,$.node)&&(I=$.node)):I=d?l.ancestor($.node,A):$.node,I&&A(I)&&f.push(I)}},!0),i.unique(f)},this.commonAncestor=function(){return l.commonAncestor(g,_)},this.expand=function(A){var tt=l.ancestor(g,A),d=l.ancestor(_,A);if(!tt&&!d)return new P(g,S,_,k);var t=this.getPoints();return tt&&(t.sc=tt,t.so=0),d&&(t.ec=d,t.eo=l.nodeLength(d)),new P(t.sc,t.so,t.ec,t.eo)},this.collapse=function(A){return A?new P(g,S,g,S):new P(_,k,_,k)},this.splitText=function(){var A=g===_,tt=this.getPoints();return l.isText(_)&&!l.isEdgePoint(this.getEndPoint())&&_.splitText(k),l.isText(g)&&!l.isEdgePoint(this.getStartPoint())&&(tt.sc=g.splitText(S),tt.so=0,A&&(tt.ec=tt.sc,tt.eo=k-S)),new P(tt.sc,tt.so,tt.ec,tt.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var A=this.splitText(),tt=A.nodes(null,{fullyContains:!0}),d=l.prevPointUntil(A.getStartPoint(),function(o){return!i.contains(tt,o.node)}),t=[];return n.each(tt,function(o,c){var f=c.parentNode;d.node!==f&&l.nodeLength(f)===1&&t.push(f),l.remove(c,!1)}),n.each(t,function(o,c){l.remove(c,!1)}),new P(d.node,d.offset,d.node,d.offset).normalize()};var at=function(A){return function(){var tt=l.ancestor(g,A);return!!tt&&tt===l.ancestor(_,A)}};this.isOnEditable=at(l.isEditable),this.isOnList=at(l.isList),this.isOnAnchor=at(l.isAnchor),this.isOnCell=at(l.isCell),this.isLeftEdgeOf=function(A){if(!l.isLeftEdgePoint(this.getStartPoint()))return!1;var tt=l.ancestor(this.sc,A);return tt&&l.isLeftEdgeOf(this.sc,tt)},this.isCollapsed=function(){return g===_&&S===k},this.wrapBodyInlineWithPara=function(){if(l.isBodyContainer(g)&&l.isEmpty(g))return g.innerHTML=l.emptyPara,new P(g.firstChild,0,g.firstChild,0);if(l.isParaInline(g)||l.isPara(g))return this.normalize();var A;if(l.isInline(g)){var tt=l.listAncestor(g,r.not(l.isInline));A=i.last(tt),l.isInline(A)||(A=tt[tt.length-2]||g.childNodes[S])}else A=g.childNodes[S>0?S-1:0];var d=l.listPrev(A,l.isParaInline).reverse();if(d=d.concat(l.listNext(A.nextSibling,l.isParaInline)),d.length){var t=l.wrap(i.head(d),"p");l.appendChildNodes(t,i.tail(d))}return this.normalize()},this.insertNode=function(A){var tt=this.wrapBodyInlineWithPara().deleteContents(),d=l.splitPoint(tt.getStartPoint(),l.isInline(A));return d.rightNode?d.rightNode.parentNode.insertBefore(A,d.rightNode):d.container.appendChild(A),A},this.toString=function(){var A=O();return K.isW3CRangeSupport?A.toString():A.text},this.bookmark=function(A){return{s:{path:l.makeOffsetPath(A,g),offset:S},e:{path:l.makeOffsetPath(A,_),offset:k}}},this.paraBookmark=function(A){return{s:{path:i.tail(l.makeOffsetPath(i.head(A),g)),offset:S},e:{path:i.tail(l.makeOffsetPath(i.last(A),_)),offset:k}}},this.getClientRects=function(){var A=O();return A.getClientRects()}};return{create:function(g,S,_,k){if(arguments.length)arguments.length===2&&(_=g,k=S);else if(K.isW3CRangeSupport){var O=document.getSelection();if(O.rangeCount===0||l.isBody(O.anchorNode))return null;var at=O.getRangeAt(0);g=at.startContainer,S=at.startOffset,_=at.endContainer,k=at.endOffset}else{var A=document.selection.createRange(),tt=A.duplicate();tt.collapse(!1);var d=A;d.collapse(!0);var t=E(d,!0),o=E(tt,!1);l.isText(t.node)&&l.isLeftEdgePoint(t)&&l.isTextNode(o.node)&&l.isRightEdgePoint(o)&&o.node.nextSibling===t.node&&(t=o),g=t.cont,S=t.offset,_=o.cont,k=o.offset}return new P(g,S,_,k)},createFromNode:function(g){var S=g,_=0,k=g,O=l.nodeLength(k);return l.isVoid(S)&&(_=l.listPrev(S).length-1,S=S.parentNode),l.isBR(k)?(O=l.listPrev(k).length-1,k=k.parentNode):l.isVoid(k)&&(O=l.listPrev(k).length,k=k.parentNode),this.create(S,_,k,O)},createFromBookmark:function(g,S){var _=l.fromOffsetPath(g,S.s.path),k=S.s.offset,O=l.fromOffsetPath(g,S.e.path),at=S.e.offset;return new P(_,k,O,at)},createFromParaBookmark:function(g,S){var _=g.s.offset,k=g.e.offset,O=l.fromOffsetPath(i.head(S),g.s.path),at=l.fromOffsetPath(i.last(S),g.e.path);return new P(O,_,at,k)}}}(),q={version:"0.6.1",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,shortcuts:!0,placeholder:!1,prettifyHtml:!0,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(E){return E.indexOf("@")!==-1&&E.indexOf(":")===-1?E="mailto:"+E:E.indexOf("://")===-1&&(E="http://"+E),E},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"showLinkDialog"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"showLinkDialog"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}},R=function(){var E=function(P){return n.Deferred(function(g){n.extend(new FileReader,{onload:function(S){var _=S.target.result;g.resolve(_)},onerror:function(){g.reject(this)}}).readAsDataURL(P)}).promise()},v=function(P,g){return n.Deferred(function(S){var _=n("<img>");_.one("load",function(){_.off("error abort"),S.resolve(_)}).one("error abort",function(){_.off("load").detach(),S.reject(_)}).css({display:"none"}).appendTo(document.body).attr({src:P,"data-filename":g})}).promise()};return{readFileAsDataURL:E,createImage:v}}(),V={isEdit:function(E){return i.contains([8,9,13,32],E)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},ot=function(){var E=function(v,P){if(K.jqueryVersion<1.9){var g={};return n.each(P,function(S,_){g[_]=v.css(_)}),g}return v.css.call(v,P)};this.stylePara=function(v,P){n.each(v.nodes(l.isPara,{includeAncestor:!0}),function(g,S){n(S).css(P)})},this.styleNodes=function(v,P){v=v.splitText();var g=P&&P.nodeName||"SPAN",S=!(!P||!P.expandClosestSibling),_=!(!P||!P.onlyPartialContains);if(v.isCollapsed())return v.insertNode(l.create(g));var k=l.makePredByNodeName(g),O=n.map(v.nodes(l.isText,{fullyContains:!0}),function(A){return l.singleChildAncestor(A,k)||l.wrap(A,g)});if(S){if(_){var at=v.nodes();k=r.and(k,function(A){return i.contains(at,A)})}return n.map(O,function(A){var tt=l.withClosestSiblings(A,k),d=i.head(tt),t=i.tail(tt);return n.each(t,function(o,c){l.appendChildNodes(d,c.childNodes),l.remove(c)}),i.head(tt)})}return O},this.current=function(v,P){var g=n(l.isText(v.sc)?v.sc.parentNode:v.sc),S=["font-family","font-size","text-align","list-style-type","line-height"],_=E(g,S)||{};if(_["font-size"]=parseInt(_["font-size"],10),_["font-bold"]=document.queryCommandState("bold")?"bold":"normal",_["font-italic"]=document.queryCommandState("italic")?"italic":"normal",_["font-underline"]=document.queryCommandState("underline")?"underline":"normal",_["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",_["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",_["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",v.isOnList()){var k=["circle","disc","disc-leading-zero","square"],O=n.inArray(_["list-style-type"],k)>-1;_["list-style"]=O?"unordered":"ordered"}else _["list-style"]="none";var at=l.ancestor(v.sc,l.isPara);if(at&&at.style["line-height"])_["line-height"]=at.style.lineHeight;else{var A=parseInt(_["line-height"],10)/parseInt(_["font-size"],10);_["line-height"]=A.toFixed(1)}return _.image=l.isImg(P)&&P,_.anchor=v.isOnAnchor()&&l.ancestor(v.sc,l.isAnchor),_.ancestors=l.listAncestor(v.sc,l.isEditable),_.range=v,_}},Z=function(){this.insertTab=function(E,v,P){var g=l.createText(new Array(P+1).join(l.NBSP_CHAR));v=v.deleteContents(),v.insertNode(g,!0),v=D.create(g,P),v.select()},this.insertParagraph=function(){var E=D.create();E=E.deleteContents(),E=E.wrapBodyInlineWithPara();var v,P=l.ancestor(E.sc,l.isPara);if(P){v=l.splitTree(P,E.getStartPoint());var g=l.listDescendant(P,l.isEmptyAnchor);g=g.concat(l.listDescendant(v,l.isEmptyAnchor)),n.each(g,function(_,k){l.remove(k)})}else{var S=E.sc.childNodes[E.so];v=n(l.emptyPara)[0],S?E.sc.insertBefore(v,S):E.sc.appendChild(v)}D.create(v,0).normalize().select()}},h=function(){this.tab=function(E,v){var P=l.ancestor(E.commonAncestor(),l.isCell),g=l.ancestor(P,l.isTable),S=l.listDescendant(g,l.isCell),_=i[v?"prev":"next"](S,P);_&&D.create(_,0).select()},this.createTable=function(E,v){for(var P,g=[],S=0;E>S;S++)g.push("<td>"+l.blank+"</td>");P=g.join("");for(var _,k=[],O=0;v>O;O++)k.push("<tr>"+P+"</tr>");return _=k.join(""),n('<table class="table table-bordered">'+_+"</table>")[0]}},m=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var E=this,v=D.create().wrapBodyInlineWithPara(),P=v.nodes(l.isPara,{includeAncestor:!0}),g=i.clusterBy(P,r.peq2("parentNode"));n.each(g,function(S,_){var k=i.head(_);l.isLi(k)?E.wrapList(_,k.parentNode.nodeName):n.each(_,function(O,at){n(at).css("marginLeft",function(A,tt){return(parseInt(tt,10)||0)+25})})}),v.select()},this.outdent=function(){var E=this,v=D.create().wrapBodyInlineWithPara(),P=v.nodes(l.isPara,{includeAncestor:!0}),g=i.clusterBy(P,r.peq2("parentNode"));n.each(g,function(S,_){var k=i.head(_);l.isLi(k)?E.releaseList([_]):n.each(_,function(O,at){n(at).css("marginLeft",function(A,tt){return tt=parseInt(tt,10)||0,tt>25?tt-25:""})})}),v.select()},this.toggleList=function(E){var v=this,P=D.create().wrapBodyInlineWithPara(),g=P.nodes(l.isPara,{includeAncestor:!0}),S=P.paraBookmark(g),_=i.clusterBy(g,r.peq2("parentNode"));if(i.find(g,l.isPurePara)){var k=[];n.each(_,function(at,A){k=k.concat(v.wrapList(A,E))}),g=k}else{var O=P.nodes(l.isList,{includeAncestor:!0}).filter(function(at){return!n.nodeName(at,E)});O.length?n.each(O,function(at,A){l.replace(A,E)}):g=this.releaseList(_,!0)}D.createFromParaBookmark(S,g).select()},this.wrapList=function(E,v){var P=i.head(E),g=i.last(E),S=l.isList(P.previousSibling)&&P.previousSibling,_=l.isList(g.nextSibling)&&g.nextSibling,k=S||l.insertAfter(l.create(v||"UL"),g);return E=n.map(E,function(O){return l.isPurePara(O)?l.replace(O,"LI"):O}),l.appendChildNodes(k,E),_&&(l.appendChildNodes(k,i.from(_.childNodes)),l.remove(_)),E},this.releaseList=function(E,v){var P=[];return n.each(E,function(g,S){var _=i.head(S),k=i.last(S),O=v?l.lastAncestor(_,l.isList):_.parentNode,at=O.childNodes.length>1?l.splitTree(O,{node:k.parentNode,offset:l.position(k)+1},!0):null,A=l.splitTree(O,{node:_.parentNode,offset:l.position(_)},!0);S=v?l.listDescendant(A,l.isLi):i.from(A.childNodes).filter(l.isLi),(v||!l.isList(O.parentNode))&&(S=n.map(S,function(d){return l.replace(d,"P")})),n.each(i.from(S).reverse(),function(d,t){l.insertAfter(t,O)});var tt=i.compact([O,A,at]);n.each(tt,function(d,t){var o=[t].concat(l.listDescendant(t,l.isList));n.each(o.reverse(),function(c,f){l.nodeLength(f)||l.remove(f,!0)})}),P=P.concat(S)}),P}},T=function(){var E=new ot,v=new h,P=new Z,g=new m;this.createRange=function(d){return d.focus(),D.create()},this.saveRange=function(d,t){d.focus(),d.data("range",D.create()),t&&D.create().collapse().select()},this.saveNode=function(d){for(var t=[],o=0,c=d[0].childNodes.length;c>o;o++)t.push(d[0].childNodes[o]);d.data("childNodes",t)},this.restoreRange=function(d){var t=d.data("range");t&&(t.select(),d.focus())},this.restoreNode=function(d){d.html("");for(var t=d.data("childNodes"),o=0,c=t.length;c>o;o++)d[0].appendChild(t[o])},this.currentStyle=function(d){var t=D.create();return t?t.isOnEditable()&&E.current(t,d):!1};var S=this.triggerOnBeforeChange=function(d){var t=d.data("callbacks").onBeforeChange;t&&t(d.html(),d)},_=this.triggerOnChange=function(d){var t=d.data("callbacks").onChange;t&&t(d.html(),d)};this.undo=function(d){S(d),d.data("NoteHistory").undo(),_(d)},this.redo=function(d){S(d),d.data("NoteHistory").redo(),_(d)};for(var k=this.beforeCommand=function(d){S(d)},O=this.afterCommand=function(d){d.data("NoteHistory").recordUndo(),_(d)},at=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],A=0,tt=at.length;tt>A;A++)this[at[A]]=function(d){return function(t,o){k(t),document.execCommand(d,!1,o),O(t)}}(at[A]);this.tab=function(d,t){var o=D.create();o.isCollapsed()&&o.isOnCell()?v.tab(o):(k(d),P.insertTab(d,o,t.tabsize),O(d))},this.untab=function(){var d=D.create();d.isCollapsed()&&d.isOnCell()&&v.tab(d,!0)},this.insertParagraph=function(d){k(d),P.insertParagraph(d),O(d)},this.insertOrderedList=function(d){k(d),g.insertOrderedList(d),O(d)},this.insertUnorderedList=function(d){k(d),g.insertUnorderedList(d),O(d)},this.indent=function(d){k(d),g.indent(d),O(d)},this.outdent=function(d){k(d),g.outdent(d),O(d)},this.insertImage=function(d,t,o){R.createImage(t,o).then(function(c){k(d),c.css({display:"",width:Math.min(d.width(),c.width())}),D.create().insertNode(c[0]),D.createFromNode(c[0]).collapse().select(),O(d)}).fail(function(){var c=d.data("callbacks");c.onImageUploadError&&c.onImageUploadError()})},this.insertNode=function(d,t){k(d);var o=this.createRange(d);o.insertNode(t),D.createFromNode(t).collapse().select(),O(d)},this.insertText=function(d,t){k(d);var o=this.createRange(d),c=o.insertNode(l.createText(t));D.create(c,l.nodeLength(c)).select(),O(d)},this.formatBlock=function(d,t){k(d),t=K.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),O(d)},this.formatPara=function(d){k(d),this.formatBlock(d,"P"),O(d)};for(var A=1;6>=A;A++)this["formatH"+A]=function(t){return function(o){this.formatBlock(o,"H"+t)}}(A);this.fontSize=function(d,t){k(d),document.execCommand("fontSize",!1,3),K.isFF?d.find("font[size=3]").removeAttr("size").css("font-size",t+"px"):d.find("span").filter(function(){return this.style.fontSize==="medium"}).css("font-size",t+"px"),O(d)},this.lineHeight=function(d,t){k(d),E.stylePara(D.create(),{lineHeight:t}),O(d)},this.unlink=function(d){var t=D.create();if(t.isOnAnchor()){var o=l.ancestor(t.sc,l.isAnchor);t=D.createFromNode(o),t.select(),k(d),document.execCommand("unlink"),O(d)}},this.createLink=function(d,t,o){var c=t.url,f=t.text,M=t.newWindow,$=t.range,I=$.toString()!==f;k(d),o.onCreateLink&&(c=o.onCreateLink(c));var nt;if(I){var X=$.insertNode(n("<A>"+f+"</A>")[0]);nt=[X]}else nt=E.styleNodes($,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});n.each(nt,function(L,G){n(G).attr({href:c,target:M?"_blank":""})});var C=D.createFromNode(i.head(nt)).collapse(!0),F=C.getStartPoint(),lt=D.createFromNode(i.last(nt)).collapse(),b=lt.getEndPoint();D.create(F.node,F.offset,b.node,b.offset).select(),O(d)},this.getLinkInfo=function(d){d.focus();var t=D.create().expand(l.isAnchor),o=n(i.head(t.nodes(l.isAnchor)));return{range:t,text:t.toString(),isNewWindow:o.length?o.attr("target")==="_blank":!0,url:o.length?o.attr("href"):""}},this.color=function(d,t){var o=JSON.parse(t),c=o.foreColor,f=o.backColor;k(d),c&&document.execCommand("foreColor",!1,c),f&&document.execCommand("backColor",!1,f),O(d)},this.insertTable=function(d,t){var o=t.split("x");k(d);var c=D.create();c=c.deleteContents(),c.insertNode(v.createTable(o[0],o[1])),O(d)},this.floatMe=function(d,t,o){k(d),o.css("float",t),O(d)},this.imageShape=function(d,t,o){k(d),o.removeClass("img-rounded img-circle img-thumbnail"),t&&o.addClass(t),O(d)},this.resize=function(d,t,o){k(d),o.css({width:100*t+"%",height:""}),O(d)},this.resizeTo=function(d,t,o){var c;if(o){var f=d.y/d.x,M=t.data("ratio");c={width:M>f?d.x:d.y/M,height:M>f?d.x*M:d.y}}else c={width:d.x,height:d.y};t.css(c)},this.removeMedia=function(d,t,o){k(d),o.detach();var c=d.data("callbacks");c&&c.onMediaDelete&&c.onMediaDelete(o,this,d),O(d)}},z=function(E){var v=[],P=-1,g=E[0],S=function(){var k=D.create(),O={s:{path:[0],offset:0},e:{path:[0],offset:0}};return{contents:E.html(),bookmark:k?k.bookmark(g):O}},_=function(k){k.contents!==null&&E.html(k.contents),k.bookmark!==null&&D.createFromBookmark(g,k.bookmark).select()};this.undo=function(){P>0&&(P--,_(v[P]))},this.redo=function(){v.length-1>P&&(P++,_(v[P]))},this.recordUndo=function(){P++,v.length>P&&(v=v.slice(0,P)),v.push(S())},this.recordUndo()},p=function(){this.update=function(E,v){var P=function(d,t){d.find(".dropdown-menu li a").each(function(){var o=n(this).data("value")+""==t+"";this.className=o?"checked":""})},g=function(d,t){var o=E.find(d);o.toggleClass("active",t())};if(v.image){var S=n(v.image);g('button[data-event="imageShape"][data-value="img-rounded"]',function(){return S.hasClass("img-rounded")}),g('button[data-event="imageShape"][data-value="img-circle"]',function(){return S.hasClass("img-circle")}),g('button[data-event="imageShape"][data-value="img-thumbnail"]',function(){return S.hasClass("img-thumbnail")}),g('button[data-event="imageShape"]:not([data-value])',function(){return!S.is(".img-rounded, .img-circle, .img-thumbnail")});var _=S.css("float");g('button[data-event="floatMe"][data-value="left"]',function(){return _==="left"}),g('button[data-event="floatMe"][data-value="right"]',function(){return _==="right"}),g('button[data-event="floatMe"][data-value="none"]',function(){return _!=="left"&&_!=="right"});var k=S.attr("style");return g('button[data-event="resize"][data-value="1"]',function(){return!!/(^|\s)(max-)?width\s*:\s*100%/.test(k)}),g('button[data-event="resize"][data-value="0.5"]',function(){return!!/(^|\s)(max-)?width\s*:\s*50%/.test(k)}),void g('button[data-event="resize"][data-value="0.25"]',function(){return!!/(^|\s)(max-)?width\s*:\s*25%/.test(k)})}var O=E.find(".note-fontname");if(O.length){var at=v["font-family"];at&&(at=i.head(at.split(",")),at=at.replace(/\'/g,""),O.find(".note-current-fontname").text(at),P(O,at))}var A=E.find(".note-fontsize");A.find(".note-current-fontsize").text(v["font-size"]),P(A,parseFloat(v["font-size"]));var tt=E.find(".note-height");P(tt,parseFloat(v["line-height"])),g('button[data-event="bold"]',function(){return v["font-bold"]==="bold"}),g('button[data-event="italic"]',function(){return v["font-italic"]==="italic"}),g('button[data-event="underline"]',function(){return v["font-underline"]==="underline"}),g('button[data-event="strikethrough"]',function(){return v["font-strikethrough"]==="strikethrough"}),g('button[data-event="superscript"]',function(){return v["font-superscript"]==="superscript"}),g('button[data-event="subscript"]',function(){return v["font-subscript"]==="subscript"}),g('button[data-event="justifyLeft"]',function(){return v["text-align"]==="left"||v["text-align"]==="start"}),g('button[data-event="justifyCenter"]',function(){return v["text-align"]==="center"}),g('button[data-event="justifyRight"]',function(){return v["text-align"]==="right"}),g('button[data-event="justifyFull"]',function(){return v["text-align"]==="justify"}),g('button[data-event="insertUnorderedList"]',function(){return v["list-style"]==="unordered"}),g('button[data-event="insertOrderedList"]',function(){return v["list-style"]==="ordered"})},this.updateRecentColor=function(E,v,P){var g=n(E).closest(".note-color"),S=g.find(".note-recent-color"),_=JSON.parse(S.attr("data-value"));_[v]=P,S.attr("data-value",JSON.stringify(_));var k=v==="backColor"?"background-color":"color";S.find("i").css(k,P)}},x=function(){var E=new p;this.update=function(v,P){E.update(v,P)},this.updateRecentColor=function(v,P,g){E.updateRecentColor(v,P,g)},this.activate=function(v){v.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(v){v.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(v,P){var g=v.find('button[data-event="fullscreen"]');g.toggleClass("active",P)},this.updateCodeview=function(v,P){var g=v.find('button[data-event="codeview"]');g.toggleClass("active",P)}},Y=function(){var E=new p,v=function(S,_){var k=n(S),O=_?k.offset():k.position(),at=k.outerHeight(!0);return{left:O.left,top:O.top+at}},P=function(S,_){S.css({display:"block",left:_.left,top:_.top})},g=20;this.update=function(S,_,k){E.update(S,_);var O=S.find(".note-link-popover");if(_.anchor){var at=O.find("a"),A=n(_.anchor).attr("href");at.attr("href",A).html(A),P(O,v(_.anchor,k))}else O.hide();var tt=S.find(".note-image-popover");_.image?P(tt,v(_.image,k)):tt.hide();var d=S.find(".note-air-popover");if(k&&!_.range.isCollapsed()){var t=i.last(_.range.getClientRects());if(t){var o=r.rect2bnd(t);P(d,{left:Math.max(o.left+o.width/2-g,0),top:o.top+o.height})}}else d.hide()},this.updateRecentColor=function(S,_,k){S.updateRecentColor(S,_,k)},this.hide=function(S){S.children().hide()}},B=function(){this.update=function(E,v,P){var g=E.find(".note-control-selection");if(v.image){var S=n(v.image),_=P?S.offset():S.position(),k={w:S.outerWidth(!0),h:S.outerHeight(!0)};g.css({display:"block",left:_.left,top:_.top,width:k.w,height:k.h}).data("target",v.image);var O=k.w+"x"+k.h;g.find(".note-control-selection-info").text(O)}else g.hide()},this.hide=function(E){E.children().hide()}},J=function(){var E=function(v,P){v.toggleClass("disabled",!P),v.attr("disabled",!P)};this.showImageDialog=function(v,P){return n.Deferred(function(g){var S=P.find(".note-image-dialog"),_=P.find(".note-image-input"),k=P.find(".note-image-url"),O=P.find(".note-image-btn");S.one("shown.bs.modal",function(){_.replaceWith(_.clone().on("change",function(){g.resolve(this.files||this.value),S.modal("hide")}).val("")),O.click(function(at){at.preventDefault(),g.resolve(k.val()),S.modal("hide")}),k.on("keyup paste",function(at){var A;A=at.type==="paste"?at.originalEvent.clipboardData.getData("text"):k.val(),E(O,A)}).val("").trigger("focus")}).one("hidden.bs.modal",function(){_.off("change"),k.off("keyup paste"),O.off("click"),g.state()==="pending"&&g.reject()}).modal("show")})},this.showLinkDialog=function(v,P,g){return n.Deferred(function(S){var _=P.find(".note-link-dialog"),k=_.find(".note-link-text"),O=_.find(".note-link-url"),at=_.find(".note-link-btn"),A=_.find("input[type=checkbox]");_.one("shown.bs.modal",function(){k.val(g.text),k.on("input",function(){g.text=k.val()}),g.url||(g.url=g.text,E(at,g.text)),O.on("input",function(){E(at,O.val()),g.text||k.val(O.val())}).val(g.url).trigger("focus").trigger("select"),A.prop("checked",g.newWindow),at.one("click",function(tt){tt.preventDefault(),S.resolve({range:g.range,url:O.val(),text:k.val(),newWindow:A.is(":checked")}),_.modal("hide")})}).one("hidden.bs.modal",function(){k.off("input"),O.off("input"),at.off("click"),S.state()==="pending"&&S.reject()}).modal("show")}).promise()},this.showHelpDialog=function(v,P){return n.Deferred(function(g){var S=P.find(".note-help-dialog");S.one("hidden.bs.modal",function(){g.resolve()}).modal("show")}).promise()}};K.hasCodeMirror&&(K.isSupportAmd?require(["CodeMirror"],function(E){W=E}):W=window.CodeMirror);var rt=function(){var E=n(window),v=n(document),P=n("html, body"),g=new T,S=new x,_=new Y,k=new B,O=new J;this.getEditor=function(){return g};var at=function(b){var L=n(b).closest(".note-editor, .note-air-editor, .note-air-layout");if(!L.length)return null;var G;return G=L.is(".note-editor, .note-air-editor")?L:n("#note-editor-"+i.last(L.attr("id").split("-"))),l.buildLayoutInfo(G)},A=function(b,L){var G=b.editor(),Q=b.editable(),ut=Q.data("callbacks"),ct=G.data("options");ut.onImageUpload?ut.onImageUpload(L,g,Q):n.each(L,function(ft,wt){var bt=wt.name;ct.maximumImageFileSize&&ct.maximumImageFileSize<wt.size?ut.onImageUploadError?ut.onImageUploadError(ct.langInfo.image.maximumFileSizeError):alert(ct.langInfo.image.maximumFileSizeError):R.readFileAsDataURL(wt).then(function(yt){g.insertImage(Q,yt,bt)}).fail(function(){ut.onImageUploadError&&ut.onImageUploadError()})})},tt={showLinkDialog:function(b){var L=b.editor(),G=b.dialog(),Q=b.editable(),ut=g.getLinkInfo(Q),ct=L.data("options");g.saveRange(Q),O.showLinkDialog(Q,G,ut).then(function(ft){g.restoreRange(Q),g.createLink(Q,ft,ct),_.hide(b.popover())}).fail(function(){g.restoreRange(Q)})},showImageDialog:function(b){var L=b.dialog(),G=b.editable();g.saveRange(G),O.showImageDialog(G,L).then(function(Q){g.restoreRange(G),typeof Q=="string"?g.insertImage(G,Q):A(b,Q)}).fail(function(){g.restoreRange(G)})},showHelpDialog:function(b){var L=b.dialog(),G=b.editable();g.saveRange(G,!0),O.showHelpDialog(G,L).then(function(){g.restoreRange(G)})},fullscreen:function(b){var L=b.editor(),G=b.toolbar(),Q=b.editable(),ut=b.codable(),ct=function(wt){Q.css("height",wt.h),ut.css("height",wt.h),ut.data("cmeditor")&&ut.data("cmeditor").setsize(null,wt.h)};L.toggleClass("fullscreen");var ft=L.hasClass("fullscreen");ft?(Q.data("orgheight",Q.css("height")),E.on("resize",function(){ct({h:E.height()-G.outerHeight()})}).trigger("resize"),P.css("overflow","hidden")):(E.off("resize"),ct({h:Q.data("orgheight")}),P.css("overflow","visible")),S.updateFullscreen(G,ft)},codeview:function(b){var L,G,Q=b.editor(),ut=b.toolbar(),ct=b.editable(),ft=b.codable(),wt=b.popover(),bt=b.handle(),yt=Q.data("options");Q.toggleClass("codeview");var Dt=Q.hasClass("codeview");Dt?(ft.val(l.html(ct,yt.prettifyHtml)),ft.height(ct.height()),S.deactivate(ut),_.hide(wt),k.hide(bt),ft.focus(),K.hasCodeMirror&&(L=W.fromTextArea(ft[0],yt.codemirror),yt.codemirror.tern&&(G=new W.TernServer(yt.codemirror.tern),L.ternServer=G,L.on("cursorActivity",function(xt){G.updateArgHints(xt)})),L.setSize(null,ct.outerHeight()),ft.data("cmEditor",L))):(K.hasCodeMirror&&(L=ft.data("cmEditor"),ft.val(L.getValue()),L.toTextArea()),ct.html(l.value(ft,yt.prettifyHtml)||l.emptyPara),ct.height(yt.height?ft.height():"auto"),S.activate(ut),ct.focus()),S.updateCodeview(b.toolbar(),Dt)}},d=function(b){l.isImg(b.target)&&b.preventDefault()},t=function(b){setTimeout(function(){var L=at(b.currentTarget||b.target),G=g.currentStyle(b.target);if(G){var Q=L.editor().data("options").airMode;Q||S.update(L.toolbar(),G),_.update(L.popover(),G,Q),k.update(L.handle(),G,Q)}},0)},o=function(b){var L=at(b.currentTarget||b.target);_.hide(L.popover()),k.hide(L.handle())},c=function(b){var L=b.originalEvent.clipboardData,G=at(b.currentTarget||b.target),Q=G.editable();if(!L||!L.items||!L.items.length){var ut=Q.data("callbacks");return ut.onImageUpload?(g.saveNode(Q),g.saveRange(Q),Q.html(""),void setTimeout(function(){for(var wt=Q.find("img"),bt=wt[0].src,yt=atob(bt.split(",")[1]),Dt=new Uint8Array(yt.length),xt=0;xt<yt.length;xt++)Dt[xt]=yt.charCodeAt(xt);var St=new Blob([Dt],{type:"image/png"});St.name="clipboard.png",g.restoreNode(Q),g.restoreRange(Q),A(G,[St]),g.afterCommand(Q)},0)):void 0}var ct=i.head(L.items),ft=ct.kind==="file"&&ct.type.indexOf("image/")!==-1;ft&&A(G,[ct.getAsFile()]),g.afterCommand(Q)},f=function(b){if(l.isControlSizing(b.target)){b.preventDefault(),b.stopPropagation();var L=at(b.target),G=L.handle(),Q=L.popover(),ut=L.editable(),ct=L.editor(),ft=G.find(".note-control-selection").data("target"),wt=n(ft),bt=wt.offset(),yt=v.scrollTop(),Dt=ct.data("options").airMode;v.on("mousemove",function(xt){g.resizeTo({x:xt.clientX-bt.left,y:xt.clientY-(bt.top-yt)},wt,!xt.shiftKey),k.update(G,{image:ft},Dt),_.update(Q,{image:ft},Dt)}).one("mouseup",function(){v.off("mousemove"),g.afterCommand(ut)}),wt.data("ratio")||wt.data("ratio",wt.height()/wt.width())}},M=function(b){var L=n(b.target).closest("[data-event]");L.length&&b.preventDefault()},$=function(b){var L=n(b.target).closest("[data-event]");if(L.length){var G,Q=L.attr("data-event"),ut=L.attr("data-value"),ct=L.attr("data-hide"),ft=at(b.target);if(n.inArray(Q,["resize","floatMe","removeMedia","imageShape"])!==-1){var wt=ft.handle().find(".note-control-selection");G=n(wt.data("target"))}if(ct&&L.parents(".popover").hide(),n.isFunction(n.summernote.pluginEvents[Q]))n.summernote.pluginEvents[Q](b,g,ft,ut);else if(g[Q]){var bt=ft.editable();bt.trigger("focus"),g[Q](bt,ut,G),b.preventDefault()}else tt[Q]&&(tt[Q].call(this,ft),b.preventDefault());if(n.inArray(Q,["backColor","foreColor"])!==-1){var yt=ft.editor().data("options",yt),Dt=yt.airMode?_:S;Dt.updateRecentColor(i.head(L),Q,ut)}t(b)}},I=24,nt=function(b){b.preventDefault(),b.stopPropagation();var L=at(b.target).editable(),G=L.offset().top-v.scrollTop(),Q=at(b.currentTarget||b.target),ut=Q.editor().data("options");v.on("mousemove",function(ct){var ft=ct.clientY-(G+I);ft=ut.minHeight>0?Math.max(ft,ut.minHeight):ft,ft=ut.maxHeight>0?Math.min(ft,ut.maxHeight):ft,L.height(ft)}).one("mouseup",function(){v.off("mousemove")})},X=18,C=function(b,L){var G,Q=n(b.target.parentNode),ut=Q.next(),ct=Q.find(".note-dimension-picker-mousecatcher"),ft=Q.find(".note-dimension-picker-highlighted"),wt=Q.find(".note-dimension-picker-unhighlighted");if(b.offsetX===void 0){var bt=n(b.target).offset();G={x:b.pageX-bt.left,y:b.pageY-bt.top}}else G={x:b.offsetX,y:b.offsetY};var yt={c:Math.ceil(G.x/X)||1,r:Math.ceil(G.y/X)||1};ft.css({width:yt.c+"em",height:yt.r+"em"}),ct.attr("data-value",yt.c+"x"+yt.r),3<yt.c&&yt.c<L.insertTableMaxSize.col&&wt.css({width:yt.c+1+"em"}),3<yt.r&&yt.r<L.insertTableMaxSize.row&&wt.css({height:yt.r+1+"em"}),ut.html(yt.c+" x "+yt.r)},F=function(b,L){L.disableDragAndDrop?v.on("drop",function(G){G.preventDefault()}):lt(b,L)},lt=function(b,L){var G=n(),Q=b.dropzone,ut=b.dropzone.find(".note-dropzone-message");v.on("dragenter",function(ct){var ft=b.editor.hasClass("codeview");ft||G.length||(b.editor.addClass("dragover"),Q.width(b.editor.width()),Q.height(b.editor.height()),ut.text(L.langInfo.image.dragImageHere)),G=G.add(ct.target)}).on("dragleave",function(ct){G=G.not(ct.target),G.length||b.editor.removeClass("dragover")}).on("drop",function(){G=n(),b.editor.removeClass("dragover")}).on("mouseout",function(ct){G=G.not(ct.target),G.length||b.editor.removeClass("dragover")}),Q.on("dragenter",function(){Q.addClass("hover"),ut.text(L.langInfo.image.dropImage)}).on("dragleave",function(){Q.removeClass("hover"),ut.text(L.langInfo.image.dragImageHere)}),Q.on("drop",function(ct){ct.preventDefault();var ft=ct.originalEvent.dataTransfer,wt=ft.getData("text/html"),bt=ft.getData("text/plain"),yt=at(ct.currentTarget||ct.target);ft&&ft.files&&ft.files.length?(yt.editable().focus(),A(yt,ft.files)):wt?n(wt).each(function(){yt.editable().focus(),g.insertNode(yt.editable(),this)}):bt&&(yt.editable().focus(),g.insertText(yt.editable(),bt))}).on("dragover",!1)};this.bindKeyMap=function(b,L){var G=b.editor,Q=b.editable;b=at(Q),Q.on("keydown",function(ut){var ct=[];ut.metaKey&&ct.push("CMD"),ut.ctrlKey&&!ut.altKey&&ct.push("CTRL"),ut.shiftKey&&ct.push("SHIFT");var ft=V.nameFromCode[ut.keyCode];ft&&ct.push(ft);var wt=L[ct.join("+")];if(wt)if(n.summernote.pluginEvents[wt]){var bt=n.summernote.pluginEvents[wt];n.isFunction(bt)&&bt(ut,g,b)}else g[wt]?(g[wt](Q,G.data("options")),ut.preventDefault()):tt[wt]&&(tt[wt].call(this,b),ut.preventDefault());else V.isEdit(ut.keyCode)&&g.afterCommand(Q)})},this.attach=function(b,L){L.shortcuts&&this.bindKeyMap(b,L.keyMap[K.isMac?"mac":"pc"]),b.editable.on("mousedown",d),b.editable.on("keyup mouseup",t),b.editable.on("scroll",o),b.editable.on("paste",c),b.handle.on("mousedown",f),b.popover.on("click",$),b.popover.on("mousedown",M),L.airMode||(F(b,L),b.toolbar.on("click",$),b.toolbar.on("mousedown",M),L.disableResizeEditor||b.statusbar.on("mousedown",nt));var G=L.airMode?b.popover:b.toolbar,Q=G.find(".note-dimension-picker-mousecatcher");Q.css({width:L.insertTableMaxSize.col+"em",height:L.insertTableMaxSize.row+"em"}).on("mousemove",function(wt){C(wt,L)}),b.editor.data("options",L),K.isMSIE||setTimeout(function(){document.execCommand("styleWithCSS",0,L.styleWithSpan)},0);var ut=new z(b.editable);if(b.editable.data("NoteHistory",ut),L.onenter&&b.editable.keypress(function(wt){wt.keyCode===V.ENTER&&L.onenter(wt)}),L.onfocus&&b.editable.focus(L.onfocus),L.onblur&&b.editable.blur(L.onblur),L.onkeyup&&b.editable.keyup(L.onkeyup),L.onkeydown&&b.editable.keydown(L.onkeydown),L.onpaste&&b.editable.on("paste",L.onpaste),L.onToolbarClick&&b.toolbar.click(L.onToolbarClick),L.onChange){var ct=function(){g.triggerOnChange(b.editable)};if(K.isMSIE){var ft="DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted";b.editable.on(ft,ct)}else b.editable.on("input",ct)}b.editable.data("callbacks",{onBeforeChange:L.onBeforeChange,onChange:L.onChange,onAutoSave:L.onAutoSave,onImageUpload:L.onImageUpload,onImageUploadError:L.onImageUploadError,onFileUpload:L.onFileUpload,onFileUploadError:L.onFileUpload,onMediaDelete:L.onMediaDelete})},this.detach=function(b,L){b.editable.off(),b.popover.off(),b.handle.off(),b.dialog.off(),L.airMode||(b.dropzone.off(),b.toolbar.off(),b.statusbar.off())}},it=function(){var E=function(C,F){var lt=F.event,b=F.value,L=F.title,G=F.className,Q=F.dropdown,ut=F.hide;return'<button type="button" class="btn btn-default btn-sm btn-small'+(G?" "+G:"")+(Q?" dropdown-toggle":"")+'"'+(Q?' data-toggle="dropdown"':"")+(L?' title="'+L+'"':"")+(lt?' data-event="'+lt+'"':"")+(b?" data-value='"+b+"'":"")+(ut?" data-hide='"+ut+"'":"")+' tabindex="-1">'+C+(Q?' <span class="caret"></span>':"")+"</button>"+(Q||"")},v=function(C,F){var lt='<i class="'+C+'"></i>';return E(lt,F)},P=function(C,F){return'<div class="'+C+' popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content">'+F+"</div></div>"},g=function(C,F,lt,b){return'<div class="'+C+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(F?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+F+"</h4></div>":"")+'<form class="note-modal-form"><div class="modal-body">'+lt+"</div>"+(b?'<div class="modal-footer">'+b+"</div>":"")+"</form></div></div></div>"},S={picture:function(C){return v("fa fa-picture-o",{event:"showImageDialog",title:C.image.image,hide:!0})},link:function(C){return v("fa fa-link",{event:"showLinkDialog",title:C.link.link,hide:!0})},table:function(C){var F='<ul class="note-table dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>';return v("fa fa-table",{title:C.table.table,dropdown:F})},style:function(C,F){var lt=F.styleTags.reduce(function(b,L){var G=C.style[L==="p"?"normal":L];return b+'<li><a data-event="formatBlock" href="#" data-value="'+L+'">'+(L==="p"||L==="pre"?G:"<"+L+">"+G+"</"+L+">")+"</a></li>"},"");return v("fa fa-magic",{title:C.style.style,dropdown:'<ul class="dropdown-menu">'+lt+"</ul>"})},fontname:function(C,F){var lt=F.fontNames.reduce(function(L,G){return K.isFontInstalled(G)||F.fontNamesIgnoreCheck.indexOf(G)!==-1?L+'<li><a data-event="fontName" href="#" data-value="'+G+`" style="font-family:'`+G+`'"><i class="fa fa-check"></i> `+G+"</a></li>":L},""),b='<span class="note-current-fontname">'+F.defaultFontName+"</span>";return E(b,{title:C.font.name,dropdown:'<ul class="dropdown-menu">'+lt+"</ul>"})},color:function(C){var F='<i class="fa fa-font" style="color:black;background-color:yellow;"></i>',lt=E(F,{className:"note-recent-color",title:C.color.recent,event:"color",value:'{"backColor":"yellow"}'}),b='<ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+C.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+C.color.transparent+'">'+C.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+C.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+C.color.reset+'">'+C.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>',L=E("",{title:C.color.more,dropdown:b});return lt+L},bold:function(C){return v("fa fa-bold",{event:"bold",title:C.font.bold})},italic:function(C){return v("fa fa-italic",{event:"italic",title:C.font.italic})},underline:function(C){return v("fa fa-underline",{event:"underline",title:C.font.underline})},clear:function(C){return v("fa fa-eraser",{event:"removeFormat",title:C.font.clear})},ul:function(C){return v("fa fa-list-ul",{event:"insertUnorderedList",title:C.lists.unordered})},ol:function(C){return v("fa fa-list-ol",{event:"insertOrderedList",title:C.lists.ordered})},paragraph:function(C){var F=v("fa fa-align-left",{title:C.paragraph.left,event:"justifyLeft"}),lt=v("fa fa-align-center",{title:C.paragraph.center,event:"justifyCenter"}),b=v("fa fa-align-right",{title:C.paragraph.right,event:"justifyRight"}),L=v("fa fa-align-justify",{title:C.paragraph.justify,event:"justifyFull"}),G=v("fa fa-outdent",{title:C.paragraph.outdent,event:"outdent"}),Q=v("fa fa-indent",{title:C.paragraph.indent,event:"indent"}),ut='<div class="dropdown-menu"><div class="note-align btn-group">'+F+lt+b+L+'</div><div class="note-list btn-group">'+Q+G+"</div></div>";return v("fa fa-align-left",{title:C.paragraph.paragraph,dropdown:ut})},height:function(C,F){var lt=F.lineHeights.reduce(function(b,L){return b+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(L)+'"><i class="fa fa-check"></i> '+L+"</a></li>"},"");return v("fa fa-text-height",{title:C.font.height,dropdown:'<ul class="dropdown-menu">'+lt+"</ul>"})},help:function(C){return v("fa fa-question",{event:"showHelpDialog",title:C.options.help,hide:!0})},fullscreen:function(C){return v("fa fa-arrows-alt",{event:"fullscreen",title:C.options.fullscreen})},codeview:function(C){return v("fa fa-code",{event:"codeview",title:C.options.codeview})},undo:function(C){return v("fa fa-undo",{event:"undo",title:C.history.undo})},redo:function(C){return v("fa fa-repeat",{event:"redo",title:C.history.redo})},hr:function(C){return v("fa fa-minus",{event:"insertHorizontalRule",title:C.hr.insert})}},_=function(C,F){var lt=function(){var G=v("fa fa-edit",{title:C.link.edit,event:"showLinkDialog",hide:!0}),Q=v("fa fa-unlink",{title:C.link.unlink,event:"unlink"}),ut='<a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group">'+G+Q+"</div>";return P("note-link-popover",ut)},b=function(){var G=E('<span class="note-fontsize-10">100%</span>',{title:C.image.resizeFull,event:"resize",value:"1"}),Q=E('<span class="note-fontsize-10">50%</span>',{title:C.image.resizeHalf,event:"resize",value:"0.5"}),ut=E('<span class="note-fontsize-10">25%</span>',{title:C.image.resizeQuarter,event:"resize",value:"0.25"}),ct=v("fa fa-align-left",{title:C.image.floatLeft,event:"floatMe",value:"left"}),ft=v("fa fa-align-right",{title:C.image.floatRight,event:"floatMe",value:"right"}),wt=v("fa fa-align-justify",{title:C.image.floatNone,event:"floatMe",value:"none"}),bt=v("fa fa-square",{title:C.image.shapeRounded,event:"imageShape",value:"img-rounded"}),yt=v("fa fa-circle-o",{title:C.image.shapeCircle,event:"imageShape",value:"img-circle"}),Dt=v("fa fa-picture-o",{title:C.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),xt=v("fa fa-times",{title:C.image.shapeNone,event:"imageShape",value:""}),St=v("fa fa-trash-o",{title:C.image.remove,event:"removeMedia",value:"none"}),Pt='<div class="btn-group">'+G+Q+ut+'</div><div class="btn-group">'+ct+ft+wt+'</div><div class="btn-group">'+bt+yt+Dt+xt+'</div><div class="btn-group">'+St+"</div>";return P("note-image-popover",Pt)},L=function(){for(var G="",Q=0,ut=F.airPopover.length;ut>Q;Q++){var ct=F.airPopover[Q];G+='<div class="note-'+ct[0]+' btn-group">';for(var ft=0,wt=ct[1].length;wt>ft;ft++)G+=S[ct[1][ft]](C,F);G+="</div>"}return P("note-air-popover",G)};return'<div class="note-popover">'+lt()+b()+(F.airMode?L():"")+"</div>"},k=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},O=function(C,F){var lt="note-shortcut-col col-xs-6 note-shortcut-",b=[];for(var L in F)F.hasOwnProperty(L)&&b.push('<div class="'+lt+'key">'+F[L].kbd+'</div><div class="'+lt+'name">'+F[L].text+"</div>");return'<div class="note-shortcut-row row"><div class="'+lt+'title col-xs-offset-6">'+C+'</div></div><div class="note-shortcut-row row">'+b.join('</div><div class="note-shortcut-row row">')+"</div>"},at=function(C){var F=[{kbd:" + B",text:C.font.bold},{kbd:" + I",text:C.font.italic},{kbd:" + U",text:C.font.underline},{kbd:" + \\",text:C.font.clear}];return O(C.shortcut.textFormatting,F)},A=function(C){var F=[{kbd:" + Z",text:C.history.undo},{kbd:" +  + Z",text:C.history.redo},{kbd:" + ]",text:C.paragraph.indent},{kbd:" + [",text:C.paragraph.outdent},{kbd:" + ENTER",text:C.hr.insert}];return O(C.shortcut.action,F)},tt=function(C){var F=[{kbd:" +  + L",text:C.paragraph.left},{kbd:" +  + E",text:C.paragraph.center},{kbd:" +  + R",text:C.paragraph.right},{kbd:" +  + J",text:C.paragraph.justify},{kbd:" +  + NUM7",text:C.lists.ordered},{kbd:" +  + NUM8",text:C.lists.unordered}];return O(C.shortcut.paragraphFormatting,F)},d=function(C){var F=[{kbd:" + NUM0",text:C.style.normal},{kbd:" + NUM1",text:C.style.h1},{kbd:" + NUM2",text:C.style.h2},{kbd:" + NUM3",text:C.style.h3},{kbd:" + NUM4",text:C.style.h4},{kbd:" + NUM5",text:C.style.h5},{kbd:" + NUM6",text:C.style.h6}];return O(C.shortcut.documentStyle,F)},t=function(C,F){var lt=F.extraKeys,b=[];for(var L in lt)lt.hasOwnProperty(L)&&b.push({kbd:L,text:lt[L]});return O(C.shortcut.extraKeys,b)},o=function(C,F){var lt='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"',b=["<div "+lt+">"+A(C)+"</div><div "+lt+">"+at(C)+"</div>","<div "+lt+">"+d(C)+"</div><div "+lt+">"+tt(C)+"</div>"];return F.extraKeys&&b.push("<div "+lt+">"+t(C,F)+"</div>"),'<div class="note-shortcut-row row">'+b.join('</div><div class="note-shortcut-row row">')+"</div>"},c=function(C){return C.replace(//g,"Ctrl").replace(//g,"Shift")},f={image:function(C,F){var lt="";if(F.maximumImageFileSize){var b=Math.floor(Math.log(F.maximumImageFileSize)/Math.log(1024)),L=1*(F.maximumImageFileSize/Math.pow(1024,b)).toFixed(2)+" "+" KMGTP"[b]+"B";lt="<small>"+C.image.maximumFileSize+" : "+L+"</small>"}var G='<div class="form-group row-fluid note-group-select-from-files"><label>'+C.image.selectFromFiles+'</label><input class="note-image-input" type="file" name="files" accept="image/*" multiple="multiple" />'+lt+'</div><div class="form-group row-fluid"><label>'+C.image.url+'</label><input class="note-image-url form-control span12" type="text" /></div>',Q='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+C.image.insert+"</button>";return g("note-image-dialog",C.image.insert,G,Q)},link:function(C,F){var lt='<div class="form-group row-fluid"><label>'+C.link.textToDisplay+'</label><input class="note-link-text form-control span12" type="text" /></div><div class="form-group row-fluid"><label>'+C.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(F.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+C.link.openInNewWindow+"</label></div>"),b='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+C.link.insert+"</button>";return g("note-link-dialog",C.link.insert,lt,b)},help:function(C,F){var lt='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+C.shortcut.close+'</a><div class="title">'+C.shortcut.shortcuts+"</div>"+(K.isMac?o(C,F):c(o(C,F)))+'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.6.1</a>  <a href="//github.com/summernote/summernote" target="_blank">Project</a>  <a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a></p>';return g("note-help-dialog","",lt,"")}},M=function(C,F){var lt="";return n.each(f,function(b,L){lt+=L(C,F)}),'<div class="note-dialog">'+lt+"</div>"},$=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'},I=function(C){return K.isMac&&(C=C.replace("CMD","").replace("SHIFT","")),C.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")},nt=function(C,F,lt){var b=r.invertObject(F),L=C.find("button");L.each(function(G,Q){var ut=n(Q),ct=b[ut.data("event")];ct&&ut.attr("title",function(ft,wt){return wt+" ("+I(ct)+")"})}).tooltip({container:"body",trigger:"hover",placement:lt||"top"}).on("click",function(){n(this).tooltip("hide")})},X=function(C,F){var lt=F.colors;C.find(".note-color-palette").each(function(){for(var b=n(this),L=b.attr("data-target-event"),G=[],Q=0,ut=lt.length;ut>Q;Q++){for(var ct=lt[Q],ft=[],wt=0,bt=ct.length;bt>wt;wt++){var yt=ct[wt];ft.push(['<button type="button" class="note-color-btn" style="background-color:',yt,';" data-event="',L,'" data-value="',yt,'" title="',yt,'" data-toggle="button" tabindex="-1"></button>'].join(""))}G.push('<div class="note-color-row">'+ft.join("")+"</div>")}b.html(G.join(""))})};this.createLayoutByAirMode=function(C,F){var lt=F.langInfo,b=F.keyMap[K.isMac?"mac":"pc"],L=r.uniqueId();C.addClass("note-air-editor note-editable"),C.attr({id:"note-editor-"+L,contentEditable:!0});var G=document.body,Q=n(_(lt,F));Q.addClass("note-air-layout"),Q.attr("id","note-popover-"+L),Q.appendTo(G),nt(Q,b),X(Q,F);var ut=n(k());ut.addClass("note-air-layout"),ut.attr("id","note-handle-"+L),ut.appendTo(G);var ct=n(M(lt,F));ct.addClass("note-air-layout"),ct.attr("id","note-dialog-"+L),ct.find("button.close, a.modal-close").click(function(){n(this).closest(".modal").modal("hide")}),ct.appendTo(G)},this.createLayoutByFrame=function(C,F){var lt=F.langInfo,b=n('<div class="note-editor"></div>');F.width&&b.width(F.width),F.height>0&&n('<div class="note-statusbar">'+(F.disableResizeEditor?"":$())+"</div>").prependTo(b);var L=!C.is(":disabled"),G=n('<div class="note-editable" contentEditable="'+L+'"></div>').prependTo(b);F.height&&G.height(F.height),F.direction&&G.attr("dir",F.direction);var Q=C.attr("placeholder")||F.placeholder;Q&&G.attr("data-placeholder",Q),G.html(l.html(C)),n('<textarea class="note-codable"></textarea>').prependTo(b);for(var ut="",ct=0,ft=F.toolbar.length;ft>ct;ct++){var wt=F.toolbar[ct][0],bt=F.toolbar[ct][1];ut+='<div class="note-'+wt+' btn-group">';for(var yt=0,Dt=bt.length;Dt>yt;yt++){var xt=S[bt[yt]];n.isFunction(xt)&&(ut+=xt(lt,F))}ut+="</div>"}ut='<div class="note-toolbar btn-toolbar">'+ut+"</div>";var St=n(ut).prependTo(b),Pt=F.keyMap[K.isMac?"mac":"pc"];X(St,F),nt(St,Pt,"bottom");var jt=n(_(lt,F)).prependTo(b);X(jt,F),nt(jt,Pt),n(k()).prependTo(b);var Vt=n(M(lt,F)).prependTo(b);Vt.find("button.close, a.modal-close").click(function(){n(this).closest(".modal").modal("hide")}),n('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(b),b.insertAfter(C),C.hide()},this.noteEditorFromHolder=function(C){return C.hasClass("note-air-editor")?C:C.next().hasClass("note-editor")?C.next():n()},this.createLayout=function(C,F){this.noteEditorFromHolder(C).length||(F.airMode?this.createLayoutByAirMode(C,F):this.createLayoutByFrame(C,F))},this.layoutInfoFromHolder=function(C){var F=this.noteEditorFromHolder(C);if(F.length){var lt=l.buildLayoutInfo(F);for(var b in lt)lt.hasOwnProperty(b)&&(lt[b]=lt[b].call());return lt}},this.removeLayout=function(C,F,lt){lt.airMode?(C.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),F.popover.remove(),F.handle.remove(),F.dialog.remove()):(C.html(F.editable.html()),F.editor.remove(),C.show())},this.getTemplate=function(){return{button:E,iconButton:v,dialog:g}},this.addButtonInfo=function(C,F){S[C]=F},this.addDialogInfo=function(C,F){f[C]=F}};n.summernote=n.summernote||{},n.extend(n.summernote,q);var mt=new it,j=new rt;n.extend(n.summernote,{renderer:mt,eventHandler:j,core:{agent:K,dom:l,range:D},pluginEvents:{}}),n.summernote.addPlugin=function(E){E.buttons&&n.each(E.buttons,function(v,P){mt.addButtonInfo(v,P)}),E.dialogs&&n.each(E.dialogs,function(v,P){mt.addDialogInfo(v,P)}),E.events&&n.each(E.events,function(v,P){n.summernote.pluginEvents[v]=P}),E.langs&&n.each(E.langs,function(v,P){n.summernote.lang[v]&&n.extend(n.summernote.lang[v],P)}),E.options&&n.extend(n.summernote.options,E.options)},n.fn.extend({summernote:function(E){if(E=n.extend({},n.summernote.options,E),E.langInfo=n.extend(!0,{},n.summernote.lang["en-US"],n.summernote.lang[E.lang]),this.each(function(P,g){var S=n(g);mt.createLayout(S,E);var _=mt.layoutInfoFromHolder(S);j.attach(_,E),l.isTextarea(S[0])&&S.closest("form").submit(function(){var k=S.code();S.val(k),E.onsubmit&&E.onsubmit(k)})}),this.first().length&&E.focus){var v=mt.layoutInfoFromHolder(this.first());v.editable.focus()}return this.length&&E.oninit&&E.oninit(),this},code:function(E){if(E===void 0){var v=this.first();if(!v.length)return;var P=mt.layoutInfoFromHolder(v);if(P&&P.editable){var g=P.editor.hasClass("codeview");return g&&K.hasCodeMirror&&P.codable.data("cmEditor").save(),g?P.codable.val():P.editable.html()}return l.isTextarea(v[0])?v.val():v.html()}return this.each(function(S,_){var k=mt.layoutInfoFromHolder(n(_));k&&k.editable&&k.editable.html(E)}),this},destroy:function(){return this.each(function(E,v){var P=n(v),g=mt.layoutInfoFromHolder(P);if(g&&g.editable){var S=g.editor.data("options");j.detach(g,S),mt.removeLayout(P,g,S)}}),this}})})});export default Ne();
